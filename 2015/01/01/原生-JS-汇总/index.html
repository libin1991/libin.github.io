<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="js,">










<meta name="description" content="JS选取DOM元素的方法 注意：原生JS选取DOM元素比使用jQuery类库选取要快很多 1、通过ID选取元素 document.getElementById(&amp;apos;myid&amp;apos;);  2、通过CLASS选取元素 document.getElementsByClassName(&amp;apos;myclass&amp;apos;)[0];   3、通过标签选取元素 document.getElem">
<meta name="keywords" content="js">
<meta property="og:type" content="article">
<meta property="og:title" content="原生 JS 汇总">
<meta property="og:url" content="http://yoursite.com/2015/01/01/原生-JS-汇总/index.html">
<meta property="og:site_name" content="舞动乾坤">
<meta property="og:description" content="JS选取DOM元素的方法 注意：原生JS选取DOM元素比使用jQuery类库选取要快很多 1、通过ID选取元素 document.getElementById(&amp;apos;myid&amp;apos;);  2、通过CLASS选取元素 document.getElementsByClassName(&amp;apos;myclass&amp;apos;)[0];   3、通过标签选取元素 document.getElem">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-02-01T13:43:13.119Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="原生 JS 汇总">
<meta name="twitter:description" content="JS选取DOM元素的方法 注意：原生JS选取DOM元素比使用jQuery类库选取要快很多 1、通过ID选取元素 document.getElementById(&amp;apos;myid&amp;apos;);  2、通过CLASS选取元素 document.getElementsByClassName(&amp;apos;myclass&amp;apos;)[0];   3、通过标签选取元素 document.getElem">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2015/01/01/原生-JS-汇总/">





  <title>原生 JS 汇总 | 舞动乾坤</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband">
    	<div class="eevee"><div class="body"><div class="head"><div class="ears"><div class="ear"><div class="lobe"></div></div><div class="ear"><div class="lobe"></div></div></div><div class="face"><div class="eyes"><div class="eye"><div class="eyelid"></div></div><div class="eye"><div class="eyelid"></div></div></div><div class="nose"></div><div class="mouth"></div></div></div><div class="chest"><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div></div><div class="legs"><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div></div><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail -end"></div></div></div></div></div></div></div></div>
    </div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
    	<div id="sky">
				<div id="background" class="container">
			<!-- svg file -->
			<svg id="svgout" height="100%" width="100%" viewbox="0 0 550 400">
				<defs>
					<g id="bottomShadow">
						<path fill="#000000" stroke="none" d="
		M 270.5 225.95
		L 127.35 316.65 266.8 400 409.6 309.25 270.5 225.95 Z"/>
					</g>
					<g id="Layer52_0_FILL">
						<path class="topGrass" fill="#B9D668" stroke="none" d="
	M 397.85 229.3
	L 397.85 225.6 269.85 152 135.75 228.6 135.75 233.65 262.1 306.55 397.85 229.3 Z"/>
					</g>
					<g id="Layer51_0_FILL">
						<path class="leftSideGrass" fill="#6E9E4F" stroke="none" d="
	M 135.1 229.95
	L 135.1 256.85 262.1 328.4 262.1 301.85 135.1 229.95 Z"/>
					</g>
					<g id="Layer50_0_FILL">
						<path class="rightGrassTop" fill="#8CB154" stroke="none" d="
	M 397.85 225.95
	L 395.8 225.95 261.75 301.55 261.75 328.4 397.85 251.15 397.85 225.95 Z"/>
					</g>
					<g id="Layer48_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.45 282.4
	L 135.75 298.15 262.1 372.1 261.75 355.65 135.45 282.4 Z"/>
					</g>
					<g id="Layer47_0_FILL">
						<path class="middleLeftCrust" fill="#C77E61" stroke="none" d="
	M 135.1 270.3
	L 135.1 283.05 275.9 364.35 271.85 348.9 135.1 270.3 Z"/>
					</g>
					<g id="Layer46_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.1 255.15
	L 135.1 270.3 262.1 343.55 262.1 328.05 135.1 255.15 Z"/>
					</g>
					<g id="Layer45_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 294.5
	L 397.5 277 261.75 355.3 261.75 372.75 397.5 294.5 Z"/>
					</g>
					<g id="Layer44_0_FILL">
						<path class="middleRightCrust" fill="#C89451" stroke="none" d="
	M 397.5 269.95
	L 397.15 266.6 262.1 343.2 262.1 355.95 397.5 279.7 397.5 269.95 Z"/>
					</g>
					<g id="Layer43_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 266.6
	L 397.5 250.45 261.75 328.4 261.75 343.85 397.5 266.6 Z"/>
					</g>
					<g id="Layer41_0_FILL">
						<path class="greyRoad" fill="#B2B2B1" stroke="none" d="
	M 295.05 283.05
	Q 299.05 280.35 308.45 275.3 317.85 269.95 323.6 266.9
	L 268.8 233.65 338.05 191.35 309.15 174.55 177.75 254.5
	Q 191.55 262.2 198.25 266.25 204.65 269.95 209.7 271.95
	L 241.6 250.45 295.05 283.05 Z"/>
					</g>
					<g id="Layer40_0_FILL">
						<path fill="#FFFFFF" stroke="none" d="
	M 199.95 256.85
	Q 194.55 261.2 191.9 262.2
	L 194.9 263.9 200.95 259.2 199.95 256.85
	M 225.8 243.75
	L 224.8 241.75 211.05 250.8 212.05 252.8 225.8 243.75
	M 308.15 275.65
	L 296.7 266.6 295.35 268.6 306.8 277.7 308.15 275.65
	M 275.9 253.5
	L 274.55 255.5 285.95 264.55 287.3 262.55 275.9 253.5
	M 251.7 227.3
	L 250.7 225.25 236.9 234.35 237.9 236.35 251.7 227.3
	M 257.05 240.7
	L 254.05 240.7 268.8 249.8 269.5 247.75 257.05 240.7
	M 277.2 207.8
	L 263.45 216.85 264.45 218.9 278.25 209.8 277.2 207.8
	M 305.1 192.65
	L 304.1 190.65 290.3 199.75 291.35 201.75 305.1 192.65 Z"/>
					</g>
					<g id="Layer38_0_FILL">
						<path class="frontFascia" fill="#ECB27B" stroke="none" d="
	M 359.25 187.95
	L 346.4 174.95 333.85 202.9 359.25 187.95 Z"/>
					</g>
					<g id="Layer37_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 334 201.05
	L 334.35 232 359.2 217.55 359.25 187.95 334 201.05 Z"/>
					</g>
					<g id="Layer36_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 334.35 232.3
	L 334.35 205.1 305.1 191.35 305.1 216.85 334.35 232.3 Z"/>
					</g>
					<g id="Layer35_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 329.7 167.9
	L 331.05 167.9 344.55 176.7 347.85 176.7 363 192.25 363.15 189.55 350.65 176.7 350.55 176.7 334.25 167.5 334.25 159.1 329.7 159.1 329.7 164.9 322.65 160.95 322.3 162.15 329.7 167 329.7 167.9 Z"/>
					</g>
					<g id="Layer34_0_FILL">
						<path class="leftRoof" fill="#F2563B" stroke="none" d="
	M 334.05 207.05
	L 350.65 176.7 322.1 160.45 302.1 192.05 334.05 207.05 Z"/>
					</g>
					<g id="Layer30_0_FILL">
						<path id="windowFour" class="windows" stroke="none" fill="#975A42" d="
	M 341.35 203.3
	Q 340.9 203.45 340.5 203.8 340.1 204.2 339.85 204.75 339.7 205 339.7 205.3 339.6 205.75 339.7 206.1 339.7 206.15 339.7 206.2 339.8 206.5 340 206.8 340.55 207.4 341.45 207.4 342.35 207.4 343 206.8 343.4 206.5 343.65 206.1 343.85 205.75 343.95 205.3 344.05 204.4 343.55 203.8 343.3 203.45 343 203.3 342.65 203.15 342.2 203.15 341.8 203.15 341.35 203.3
	M 355.85 198.45
	Q 355.8 198.2 355.6 198 355.1 197.4 354.2 197.4 353.35 197.4 352.6 198 351.85 198.65 351.7 199.55 351.7 199.7 351.7 199.85 351.6 200.5 352 201.05 352.55 201.65 353.45 201.65 354.3 201.65 355.05 201.05 355.45 200.7 355.7 200.25 355.8 200.05 355.9 199.85 355.95 199.7 355.95 199.55 356.05 198.95 355.85 198.45 Z"/>
						<path class="door" fill="#B65041" stroke="none" d="
	M 351.95 211.2
	L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2
	M 351.2 211.2
	L 351.35 211.2 351.35 211.1 351.2 211.2 Z"/>
					</g>
					<g>
						<path id="Layer30_0_FILL" fill="#000000" fill-opacity="1" stroke="none" d="
	M 183.7 215.3
	L 183.7 215.6
	Q 187.25 231.75 212.25 234.35
	L 183.7 215.3 Z"/>
					</g>
					<g id="Layer29_0_FILL">
						<path fill="#000000" fill-opacity="0.4" stroke="none" d="
	M 305.1 216.85
	L 305.15 217.2
	Q 309.45 233.2 334.35 232.3
	L 305.1 216.85 Z"/>
					</g>
					<g id="Layer27_0_FILL">
						<path class="vegetation" fill="#78A950" stroke="none" d="
	M 177.45 231.65
	Q 175.75 235.35 181.8 239.35 185.5 235.7 185.15 231.3 182.8 230.65 181.45 234 179.45 231.3 177.45 231.65
	M 236.9 266.6
	Q 235.2 270.3 241.25 274.3 244.95 270.6 244.65 266.25 242.3 265.6 240.95 268.95 238.9 266.25 236.9 266.6
	M 254.7 277
	Q 253.05 280.7 259.1 284.75 262.75 281.05 262.45 276.65 260.1 276 258.75 279.35 256.7 276.65 254.7 277
	M 315.5 245.75
	Q 313.5 243.05 311.5 243.4 309.8 247.1 315.85 251.15 319.55 247.45 319.2 243.05 316.85 242.4 315.5 245.75
	M 295.35 232.65
	Q 293.7 236.35 299.75 240.4 303.45 236.7 303.1 232.3 300.75 231.65 299.4 235 297.4 232.3 295.35 232.65
	M 277.2 171.85
	Q 275.55 175.55 281.6 179.55 285.3 175.85 284.95 171.5 282.6 170.85 281.25 174.2 279.25 171.5 277.2 171.85 Z"/>
					</g>
					<g id="Layer26_0_FILL">
						<path class="treeWood" fill="#AE663D" stroke="none" d="
	M 175.1 177.55
	L 172.05 177.55 172.05 191.1 159.3 172.85
	Q 154.6 171.5 172.05 195.7
	L 172.05 212.5 175.1 212.5 175.1 177.55
	M 252.7 151.35
	L 249 151.35 249 176.9 252.7 176.9 252.7 151.35 Z"/>
					</g>
					<g id="Layer25_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 192.55 179.55
	Q 200.95 173.5 200.95 165.1 200.95 156.4 192.55 150 184.15 144.3 172.05 144.3 160.3 144.3 151.9 150 143.15 156.4 143.15 165.1 143.15 173.5 151.9 179.55 160.3 185.95 172.05 185.95 184.15 185.95 192.55 179.55
	M 236.25 106.65
	Q 230.2 116.05 230.2 129.15 230.2 142.25 236.25 151.35 242.3 160.75 250.7 160.75 258.75 160.75 264.8 151.35 270.85 142.25 270.85 129.15 270.85 116.05 264.8 106.65 258.75 97.6 250.7 97.6 242.3 97.6 236.25 106.65 Z"/>
					</g>
					<g id="Layer24_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 158.3 221.9
	Q 160.65 221.9 161.95 220.2 163 219.55 163.3 218.55 164.65 218.9 166.35 218.9 170.05 218.9 172.4 216.2 175.1 213.85 175.1 210.15 175.1 206.45 172.4 203.75 170.05 201.4 166.35 201.4 162.65 201.4 159.95 203.75 157.6 206.45 157.6 210.15 157.6 210.8 157.6 211.15 155.95 211.5 154.6 212.5 152.9 214.15 152.9 216.55 152.9 218.9 154.6 220.2 156.25 221.9 158.3 221.9
	M 338.35 240.05
	Q 341.05 237.7 341.05 234 341.05 230.3 338.35 227.6 336 225.25 332.3 225.25 328.65 225.25 325.95 227.6 323.6 230.3 323.6 234 323.6 237.7 325.95 240.05 328.65 242.75 332.3 242.75 336 242.75 338.35 240.05 Z"/>
					</g>
					<g id="Layer22_0_FILL">
						<path class="rightRoof" fill="#D05041" stroke="none" d="
	M 220 173.85
	L 236.8 186.7 264.35 171.15 244.5 159.55 220 173.85 Z"/>
					</g>
					<g id="Layer21_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 212.25 191.35
	L 183.35 172.3 183.7 215.3 212.25 234.35 212.25 191.35 Z"/>
					</g>
					<g id="Layer20_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 192.1 149.85
	L 236.45 174.8 243.1 171.4
	Q 220.05 150.55 196.3 139.95
	L 192.1 149.85 Z"/>
					</g>
					<g id="Layer19_0_FILL">
						<path class="frontFascia" fill="#EBB17B" stroke="none" d="
	M 226.85 160.95
	L 212 190.6 229.75 192.6 239.75 172.85 226.85 160.95 Z"/>
					</g>
					<g id="Layer18_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 240.15 172.65
	L 211.9 191.6 212.25 233.65 264.35 201.7 264.35 170.8 240.8 184.45 240.15 172.65 Z"/>
					</g>
					<g id="Layer17_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 210.9 142.2
	L 205.9 142.2 205.9 152.65 210.9 152.65 210.9 142.2 Z"/>
					</g>
					<g>
						<path id="Layer16_0_FILL" class="leftRoof" fill="#F2563B" stroke="none" d="
	M 210.25 195.5
	L 227.4 160.95 195.45 141.35 177.65 175.85 210.25 195.5 Z"/>
					</g>
					<g>
						<path id="sun" fill="#E3BD0E" stroke="none" d="
	M 257.05 15.95
	Q 251.7 15.95 248 19.65 244.3 23.35 244.3 28.7 244.3 34.1 248 37.8 251.7 41.5 257.05 41.5 262.45 41.5 266.15 37.8 269.85 34.1 269.85 28.7 269.85 23.35 266.15 19.65 262.45 15.95 257.05 15.95 Z"/>
					</g>
					<g id="Layer8_0_FILL">
						<path fill="#975A42" stroke="none" d="
	M 238.45 189.65
	Q 238.295703125 189.362109375 238.05 189.1 237.35 188.3 236.2 188.3 235.05 188.3 234.15 189.1 233.3 189.9 233.2 191.05 233.1 192.2 233.8 193 234.55 193.8 235.7 193.8 236.85 193.8 237.7 193 238.1970703125 192.558203125 238.45 192 238.6552734375 191.56484375 238.7 191.05 238.7671875 190.276953125 238.45 189.65
	M 220.55 197.55
	Q 220 197.55 219.5 197.75 218.95 197.95 218.5 198.35 217.933203125 198.8833984375 217.7 199.55 217.5833984375 199.916796875 217.55 200.3 217.4923828125 200.96171875 217.7 201.5 217.852734375 201.9103515625 218.15 202.25 218.95 203.05 220.1 203.05 221.25 203.05 222.05 202.25 222.95 201.45 223.05 200.3 223.15 199.15 222.4 198.35 222.05 197.95 221.65 197.75 221.15 197.55 220.55 197.55 Z"/>
					</g>
					<g id="Layer7_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 233.55 206.75
	L 225.9 211.95 226.25 225.5 233.95 220.35 233.55 206.75 Z"/>
					</g>
					<g>
						<path id="windowOne" class="windows" fill="#975A42" stroke="none" d="
	M 188.65 198.4
	L 188.8 204.1 198.65 210.45 198.55 204.75 188.65 198.4
	M 208.45 216.8
	L 208.35 211.1 198.55 204.75 198.65 210.45 208.45 216.8
	M 188.8 204.1
	L 188.95 209.8 198.8 216.15 198.65 210.45 188.8 204.1
	M 208.6 222.5
	L 208.45 216.8 198.65 210.45 198.8 216.15 208.6 222.5 Z"/>
					</g>
					<g>
						<path id="windowThree" class="windows" fill="#975A42" stroke="none" d="
	M 311.7 214.1
	L 318.55 217.55 318.45 211.9 311.6 208.45 311.7 214.1
	M 325.4 221
	L 325.25 215.35 318.45 211.9 318.55 217.55 325.4 221
	M 318.4 206.2
	L 311.5 202.75 311.6 208.45 318.45 211.9 318.4 206.2
	M 325.25 215.35
	L 325.2 209.7 318.4 206.2 318.45 211.9 325.25 215.35 Z"/>
					</g>
					<g id="Layer2_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 259.7 183.25
	L 244.6 191.9 244.6 213.8 259.7 204.55 259.7 183.25 Z"/>
					</g>
					<path id="windowTwo" fill="#975A42" class="windows" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" d="
	M 223.05 200.3
	Q 222.95 201.45 222.05 202.25 221.25 203.05 220.1 203.05 218.95 203.05 218.15 202.25 217.852734375 201.9103515625 217.7 201.5 217.4923828125 200.96171875 217.55 200.3 217.5833984375 199.916796875 217.7 199.575 217.933203125 198.8833984375 218.5 198.35 218.95 197.95 219.5 197.75 220 197.55 220.55 197.55 221.15 197.55 221.65 197.75 222.05 197.95 222.4 198.35 223.15 199.15 223.05 200.3 Z
	M 238.7 191.05
	Q 238.6552734375 191.56484375 238.45 192 238.1970703125 192.558203125 237.7 193 236.85 193.8 235.7 193.8 234.55 193.8 233.8 193 233.1 192.2 233.2 191.05 233.3 189.9 234.15 189.1 235.05 188.3 236.2 188.3 237.35 188.3 238.05 189.1 238.295703125 189.362109375 238.45 189.65 238.7671875 190.276953125 238.7 191.05 Z"/>
					<path fill="#F2563B" stroke="none" d=" M 351.95 211.2 L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2 Z"/>
					<path id="Layer6_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 198.55 204.75
	L 208.35 211.1 208.45 216.8 208.6 222.5 198.8 216.15 188.95 209.8 188.8 204.1 188.65 198.4 198.55 204.75 198.65 210.45 208.45 216.8
	M 198.8 216.15
	L 198.65 210.45 188.8 204.1"/>
					<path id="Layer5_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 325.25 215.35
	L 325.4 221 318.55 217.55 311.7 214.1 311.6 208.45 311.5 202.75 318.4 206.2 325.2 209.7 325.25 215.35 318.45 211.9 318.55 217.55
	M 318.4 206.2
	L 318.45 211.9 311.6 208.45"/>
				</defs>
				<g id="shadow">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use xlink:href="#bottomShadow"/>
					</g>
				</g>
				<g transform="matrix( 1, 0, 0, 1, 0,0) ">
					<use xlink:href="#sun"/>
				</g>
				<g id="earth">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer52_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer51_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer50_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer48_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer47_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer46_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer45_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer44_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer43_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer41_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer40_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer38_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer37_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer36_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer35_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer34_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowFour"/>
						<use class="element" xlink:href="#Layer32_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer30_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer27_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer26_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer25_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer24_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer22_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer21_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer20_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer19_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer18_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer17_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer16_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer8_0_FILL"/>
						<use class="element" xlink:href="#windowTwo"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer7_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowOne"/>
						<use class="element" xlink:href="#Layer6_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowThree"/>
						<use class="element" xlink:href="#Layer5_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer2_0_FILL"/>
					</g>
				</g>
			</svg>
			<! -- End of SVG file -->
			<! -- Moon/Sun Toggle -->
			<div id="toggleButton" class="day-toggle">
				<div class="sun-icon"></div>
				<label class="switch">
            <input id="toggleCheckbox" type="checkbox">
            <div class="slider"></div>
        </label>
				<div class="cloud-icon"></div>
			</div>
			<! -- Moon/Sun Toggle -->
			<! -- End of Container -->
		</div>
			</div>
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">舞动乾坤</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">星光不问赶路人 岁月不负有心人</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/01/01/原生-JS-汇总/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李斌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tx.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="舞动乾坤">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">原生 JS 汇总</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-01-01T22:27:31+08:00">
                2015-01-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>JS选取DOM元素的方法 注意：原生JS选取DOM元素比使用jQuery类库选取要快很多</p>
<pre><code>1、通过ID选取元素 document.getElementById(&apos;myid&apos;);
 2、通过CLASS选取元素 document.getElementsByClassName(&apos;myclass&apos;)[0]; 
 3、通过标签选取元素 document.getElementsByTagName(&apos;mydiv&apos;)[0];
 4、通过NAME属性选取元素（常用于表单） document.getElementsByName(&apos;myname&apos;)[0];
</code></pre><p>JS修改CSS样式 </p>
<pre><code>document.getElementById(&apos;myid&apos;).style.display = &apos;none&apos;;
</code></pre><p>class 操作：</p>
<pre><code>JS修改CLASS属性
document.getElementById(&apos;myid&apos;).className = &apos;active&apos;;
如果有多个CLASS属性，即用空格隔开
document.getElementById(&apos;myid&apos;).className = &apos;active div-1&apos;;
移除该元素上的所有CLASS
document.getElementById(&apos;myid&apos;).className = &apos;&apos;;
注意：使用classList会优于使用className
document.getElementById(&apos;myid&apos;).classList.item(0);//item为类名的索引
document.getElementById(&apos;myid&apos;).classList.length;//只读属性
document.getElementById(&apos;myid&apos;).classList.add(&apos;newClass&apos;);//添加class
document.getElementById(&apos;myid&apos;).classList.remove(&apos;newClass&apos;);//移除class
document.getElementById(&apos;myid&apos;).classList.toggle(&apos;newClass&apos;);//切换，有则移除，没有则添加
document.getElementById(&apos;myid&apos;).classList.contains(&apos;newClass&apos;);//判断是否存在该class
</code></pre><p>补充：add和remove方法不允许链式操作，因为返回的都是undefined，其次，也不允许同时添加或删除多个class，可以自行扩展一下</p>
<pre><code>DOMTokenList.prototype.adds = function(tokens){  
   tokens.split(&apos; &apos;).forEach(function(token){  
      this.add(token);  
   }).bind(this));  
   return this;  
};  
var clList = document.body.classList;  
clList.adds(&apos;a b c&apos;).toString();  
//a b c 
</code></pre><p>JS修改文本 </p>
<pre><code>document.getElementById(&apos;myid&apos;).innerHTML = &apos;123&apos;;
</code></pre><p>JS创建元素并向其中追加文本</p>
<pre><code>var newdiv = document.createElement(&apos;div&apos;);
var newtext = document.createTextNode(&apos;123&apos;);
newdiv.appendChild(newtext);
document.body.appendChild(newdiv);
</code></pre><p>同理：removeChild()移除节点，并返回节点</p>
<p>cloneNode()复制节点</p>
<p>insertBefore()插入节点（父节点内容的最前面）</p>
<p>注意：insertBefore()有两个参数，第一个是插入的节点，第二个是插入的位置</p>
<p>例子：</p>
<pre><code>var list = document.getElementById(&apos;myList&apos;);
list.insertBefore(newItem,list.childNodes[1]);
//插入新节点newItem到list的第二个子节点
</code></pre><p>JS返回所有子节点对象childNodes</p>
<pre><code>var mylist = document.getElementById(&apos;myid&apos;);
for(var i=0,i&lt;mylist.childNodes.length;i++){
console.log(mylist.childNodes[i]);
}
firstChild返回第一个子节点
lastChild返回最后一个子节点
parentNode返回父节点对象
nextSibling返回下一个兄弟节点对象
previousSibling返回前一个兄弟节点对象
nodeName返回节点的HTML标记名称
</code></pre><p>原生JS汇总：</p>
<pre><code>一、节点
1.1 节点属性
Node.nodeName   //返回节点名称，只读
Node.nodeType   //返回节点类型的常数值，只读
Node.nodeValue  //返回Text或Comment节点的文本值，只读
Node.textContent  //返回当前节点和它的所有后代节点的文本内容，可读写
Node.baseURI    //返回当前网页的绝对路径

Node.ownerDocument  //返回当前节点所在的顶层文档对象，即document
Node.nextSibling  //返回紧跟在当前节点后面的第一个兄弟节点
Node.previousSibling  //返回当前节点前面的、距离最近的一个兄弟节点
Node.parentNode   //返回当前节点的父节点
Node.parentElement  //返回当前节点的父Element节点
Node.childNodes   //返回当前节点的所有子节点
Node.firstChild  //返回当前节点的第一个子节点
Node.lastChild   //返回当前节点的最后一个子节点

//parentNode接口
Node.children  //返回指定节点的所有Element子节点
Node.firstElementChild  //返回当前节点的第一个Element子节点
Node.lastElementChild   //返回当前节点的最后一个Element子节点
Node.childElementCount  //返回当前节点所有Element子节点的数目。
1.2 操作
Node.appendChild(node)   //向节点添加最后一个子节点
Node.hasChildNodes()   //返回布尔值，表示当前节点是否有子节点
Node.cloneNode(true);  // 默认为false(克隆节点), true(克隆节点及其属性，以及后代)
Node.insertBefore(newNode,oldNode)  // 在指定子节点之前插入新的子节点
Node.removeChild(node)   //删除节点，在要删除节点的父节点上操作
Node.replaceChild(newChild,oldChild)  //替换节点
Node.contains(node)  //返回一个布尔值，表示参数节点是否为当前节点的后代节点。
Node.compareDocumentPosition(node)   //返回一个7个比特位的二进制值，表示参数节点和当前节点的关系
Node.isEqualNode(noe)  //返回布尔值，用于检查两个节点是否相等。所谓相等的节点，指的是两个节点的类型相同、属性相同、子节点相同。
Node.normalize()   //用于清理当前节点内部的所有Text节点。它会去除空的文本节点，并且将毗邻的文本节点合并成一个。

//ChildNode接口
Node.remove()  //用于删除当前节点
Node.before()  //
Node.after()
Node.replaceWith()
1.3 Document节点
1.3.1 Document节点的属性
document.doctype   //
document.documentElement  //返回当前文档的根节点
document.defaultView   //返回document对象所在的window对象
document.body   //返回当前文档的&lt;body&gt;节点
document.head   //返回当前文档的&lt;head&gt;节点
document.activeElement  //返回当前文档中获得焦点的那个元素。

//节点集合属性
document.links  //返回当前文档的所有a元素
document.forms  //返回页面中所有表单元素
document.images  //返回页面中所有图片元素
document.embeds  //返回网页中所有嵌入对象
document.scripts  //返回当前文档的所有脚本
document.styleSheets  //返回当前网页的所有样式表

//文档信息属性
document.documentURI  //表示当前文档的网址
document.URL  //返回当前文档的网址
document.domain  //返回当前文档的域名
document.lastModified  //返回当前文档最后修改的时间戳
document.location  //返回location对象，提供当前文档的URL信息
document.referrer  //返回当前文档的访问来源
document.title    //返回当前文档的标题
document.characterSet属性返回渲染当前文档的字符集，比如UTF-8、ISO-8859-1。
document.readyState  //返回当前文档的状态
document.designMode  //控制当前文档是否可编辑，可读写
document.compatMode  //返回浏览器处理文档的模式
document.cookie   //用来操作Cookie
1.3.2 Document节点的方法
（1）读写方法
document.open()   //用于新建并打开一个文档
document.close()   //不安比open方法所新建的文档
document.write()   //用于向当前文档写入内容
document.writeIn()  //用于向当前文档写入内容，尾部添加换行符。
（2）查找节点
document.querySelector(selectors)   //接受一个CSS选择器作为参数，返回第一个匹配该选择器的元素节点。
document.querySelectorAll(selectors)  //接受一个CSS选择器作为参数，返回所有匹配该选择器的元素节点。
document.getElementsByTagName(tagName)  //返回所有指定HTML标签的元素
document.getElementsByClassName(className)   //返回包括了所有class名字符合指定条件的元素
document.getElementsByName(name)   //用于选择拥有name属性的HTML元素（比如&lt;form&gt;、&lt;radio&gt;、&lt;img&gt;、&lt;frame&gt;、&lt;embed&gt;和&lt;object&gt;等）
document.getElementById(id)   //返回匹配指定id属性的元素节点。
document.elementFromPoint(x,y)  //返回位于页面指定位置最上层的Element子节点。
（3）生成节点
document.createElement(tagName)   //用来生成HTML元素节点。
document.createTextNode(text)   //用来生成文本节点
document.createAttribute(name)  //生成一个新的属性对象节点，并返回它。
document.createDocumentFragment()  //生成一个DocumentFragment对象
（4）事件方法
document.createEvent(type)   //生成一个事件对象，该对象能被element.dispatchEvent()方法使用
document.addEventListener(type,listener,capture)  //注册事件
document.removeEventListener(type,listener,capture)  //注销事件
document.dispatchEvent(event)  //触发事件
（5）其他
document.hasFocus()   //返回一个布尔值，表示当前文档之中是否有元素被激活或获得焦点。
document.adoptNode(externalNode)  //将某个节点，从其原来所在的文档移除，插入当前文档，并返回插入后的新节点。
document.importNode(externalNode, deep)   //从外部文档拷贝指定节点，插入当前文档。
1.4 Element节点
1.4.1 Element节点的属性
（1）特性属性
Element.attributes  //返回当前元素节点的所有属性节点
Element.id  //返回指定元素的id属性，可读写
Element.tagName  //返回指定元素的大写标签名
Element.innerHTML   //返回该元素包含的HTML代码，可读写
Element.outerHTML  //返回指定元素节点的所有HTML代码，包括它自身和包含的的所有子元素，可读写
Element.className  //返回当前元素的class属性，可读写
Element.classList  //返回当前元素节点的所有class集合
Element.dataset   //返回元素节点中所有的data-*属性。
（2）尺寸属性
Element.clientHeight   //返回元素节点可见部分的高度
Element.clientWidth   //返回元素节点可见部分的宽度
Element.clientLeft   //返回元素节点左边框的宽度
Element.clientTop   //返回元素节点顶部边框的宽度
Element.scrollHeight  //返回元素节点的总高度
Element.scrollWidth  //返回元素节点的总宽度
Element.scrollLeft   //返回元素节点的水平滚动条向右滚动的像素数值,通过设置这个属性可以改变元素的滚动位置
Element.scrollTop   //返回元素节点的垂直滚动向下滚动的像素数值
Element.offsetHeight   //返回元素的垂直高度(包含border,padding)
Element.offsetWidth    //返回元素的水平宽度(包含border,padding)
Element.offsetLeft    //返回当前元素左上角相对于Element.offsetParent节点的垂直偏移
Element.offsetTop   //返回水平位移
Element.style  //返回元素节点的行内样式
（3）节点相关属性
Element.children   //包括当前元素节点的所有子元素
Element.childElementCount   //返回当前元素节点包含的子HTML元素节点的个数
Element.firstElementChild  //返回当前节点的第一个Element子节点  
Element.lastElementChild   //返回当前节点的最后一个Element子节点  
Element.nextElementSibling  //返回当前元素节点的下一个兄弟HTML元素节点
Element.previousElementSibling  //返回当前元素节点的前一个兄弟HTML节点
Element.offsetParent   //返回当前元素节点的最靠近的、并且CSS的position属性不等于static的父元素。
1.4.2 Element节点的方法
（1）位置方法
getBoundingClientRect()  
// getBoundingClientRect返回一个对象，包含top,left,right,bottom,width,height // width、height 元素自身宽高
// top 元素上外边界距窗口最上面的距离
// right 元素右外边界距窗口最上面的距离
// bottom 元素下外边界距窗口最上面的距离
// left 元素左外边界距窗口最上面的距离
// width 元素自身宽(包含border,padding) 
// height 元素自身高(包含border,padding) 

getClientRects()   //返回当前元素在页面上形参的所有矩形。

// 元素在页面上的偏移量  
var rect = el.getBoundingClientRect()  
return {   
  top: rect.top + document.body.scrollTop,   
  left: rect.left + document.body.scrollLeft  
}
（2）属性方法
Element.getAttribute()：读取指定属性  
Element.setAttribute()：设置指定属性  
Element.hasAttribute()：返回一个布尔值，表示当前元素节点是否有指定的属性  
Element.removeAttribute()：移除指定属性
（3）查找方法
Element.querySelector()  
Element.querySelectorAll()  
Element.getElementsByTagName()  
Element.getElementsByClassName()
（4）事件方法
Element.addEventListener()：添加事件的回调函数  
Element.removeEventListener()：移除事件监听函数  
Element.dispatchEvent()：触发事件

//ie8
Element.attachEvent(oneventName,listener)
Element.detachEvent(oneventName,listener)

// event对象  
var event = window.event||event;    

// 事件的目标节点  
var target = event.target || event.srcElement;

// 事件代理  
ul.addEventListener(&apos;click&apos;, function(event) {   
  if (event.target.tagName.toLowerCase() === &apos;li&apos;) {   
    console.log(event.target.innerHTML)   
  }  
});
（5）其他
Element.scrollIntoView()   //滚动当前元素，进入浏览器的可见区域

//解析HTML字符串，然后将生成的节点插入DOM树的指定位置。
Element.insertAdjacentHTML(where, htmlString); 
Element.insertAdjacentHTML(&apos;beforeBegin&apos;, htmlString); // 在该元素前插入  
Element.insertAdjacentHTML(&apos;afterBegin&apos;, htmlString); // 在该元素第一个子元素前插入 
Element.insertAdjacentHTML(&apos;beforeEnd&apos;, htmlString); // 在该元素最后一个子元素后面插入 
Element.insertAdjacentHTML(&apos;afterEnd&apos;, htmlString); // 在该元素后插入

Element.remove()  //用于将当前元素节点从DOM中移除
Element.focus()   //用于将当前页面的焦点，转移到指定元素上
二、CSS操作
（1）类名操作
//ie8以下
Element.className  //获取元素节点的类名
Element.className += &apos; &apos; + newClassName  //新增一个类名

//判断是否有某个类名
function hasClass(element,className){
  return new RegExp(className,&apos;gi&apos;).test(element.className);
}

//移除class
function removeClass(element,className){
  element.className = element.className.replace(new RegExp(&apos;(^|\\b)&apos; + className.split(&apos; &apos;).join(&apos;|&apos;) + &apos;(\\b|$)&apos;, &apos;gi&apos;),&apos;&apos;);
}

//ie10 
element.classList.add(className)  //新增
element.classList.remove(className)  //删除
element.classList.contains(className)  //是否包含
element.classList.toggle(className)  //toggle class
（2）style操作
element.setAttribute(&apos;style&apos;,&apos;&apos;)

element.style.backgroundColor = &apos;red&apos;

element.style.cssText //用来读写或删除整个style属性

element.style.setProperty(propertyName,value)  //设置css属性
element.style.getPropertyValue(property)  //获取css属性
element.style.removeProperty(property)  //删除css属性
操作非内联样式
//ie8
element.currentStyle[attrName]
//ie9+
window.getComputedStyle(el,null)[attrName] 
window.getComputedStyle(el,null).getPropertyValue(attrName)
//伪类
window.getComputedStyle(el,&apos;:after&apos;)[attrName]
三、对象
3.1 Object对象
（1）生成实例对象
var o = new Object()
（2）属性
Object.prototype   //返回原型对象
（3）方法
Object.keys(o)   //遍历对象的可枚举属性
Object.getOwnPropertyName(o)   //遍历对象不可枚举的属性
对象实例的方法
valueOf()：返回当前对象对应的值。  
toString()：返回当前对象对应的字符串形式。  
toLocaleString()：返回当前对象对应的本地字符串形式。  
hasOwnProperty()：判断某个属性是否为当前对象自身的属性，还是继承自原型对象的属性。 
isPrototypeOf()：判断当前对象是否为另一个对象的原型。
propertyIsEnumerable()：判断某个属性是否可枚举。
3.2 Array对象
（1）生成实例对象
var a = new Array()
（2）属性
a.length  //长度
（3）Array.isArray()
Array.isArray(a)   //用来判断一个值是否为数组
（4）Array实例的方法

[1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot;

a.valueof()   //返回数组本身
a.toString()  //返回数组的字符串形式
a.push(value,vlaue....)   //用于在数组的末端添加一个或多个元素，并返回添加新元素后的数组长度。
pop()   //用于删除数组的最后一个元素，并返回该元素
join()  //以参数作为分隔符，将所有数组成员组成一个字符串返回。如果不提供参数，默认用逗号分隔。
concat()  //用于多个数组的合并。它将新数组的成员，添加到原数组的尾部，然后返回一个新数组，原数组不变。
shift()  //用于删除数组的第一个元素，并返回该元素。
unshift(value)  //用于在数组的第一个位置添加元素，并返回添加新元素后的数组长度。
reverse()   //用于颠倒数组中元素的顺序，返回改变后的数组
slice(start_index, upto_index);   //用于提取原数组的一部分，返回一个新数组，原数组不变。第一个参数为起始位置（从0开始），第二个参数为终止位置（但该位置的元素本身不包括在内）。如果省略第二个参数，则一直返回到原数组的最后一个成员。负数表示倒数第几个。
splice(index, count_to_remove, addElement1, addElement2, ...);   //用于删除原数组的一部分成员，并可以在被删除的位置添加入新的数组成员，返回值是被删除的元素。第一个参数是删除的起始位置，第二个参数是被删除的元素个数。如果后面还有更多的参数，则表示这些就是要被插入数组的新元素。
sort()   //对数组成员进行排序，默认是按照字典顺序排序。排序后，原数组将被改变。如果想让sort方法按照自定义方式排序，可以传入一个函数作为参数，表示按照自定义方法进行排序。该函数本身又接受两个参数，表示进行比较的两个元素。如果返回值大于0，表示第一个元素排在第二个元素后面；其他情况下，都是第一个元素排在第二个元素前面。
map()   //对数组的所有成员依次调用一个函数，根据函数结果返回一个新数组。
map(elem,index,arr)   //map方法接受一个函数作为参数。该函数调用时，map方法会将其传入三个参数，分别是当前成员、当前位置和数组本身。
forEach()   //遍历数组的所有成员，执行某种操作,参数是一个函数。它接受三个参数，分别是当前位置的值、当前位置的编号和整个数组。
filter()   //参数是一个函数，所有数组成员依次执行该函数，返回结果为true的成员组成一个新数组返回。该方法不会改变原数组。
some()    //用来判断数组成员是否符合某种条件。接受一个函数作为参数，所有数组成员依次执行该函数，返回一个布尔值。该函数接受三个参数，依次是当前位置的成员、当前位置的序号和整个数组。只要有一个数组成员的返回值是true，则整个some方法的返回值就是true，否则false。
every()   //用来判断数组成员是否符合某种条件。接受一个函数作为参数，所有数组成员依次执行该函数，返回一个布尔值。该函数接受三个参数，依次是当前位置的成员、当前位置的序号和整个数组。所有数组成员的返回值都是true，才返回true，否则false。
reduce()   //依次处理数组的每个成员，最终累计为一个值。从左到右处理（从第一个成员到最后一个成员）
reduceRight()  //依次处理数组的每个成员，最终累计为一个值。从右到左（从最后一个成员到第一个成员）
indexOf(s)   //返回给定元素在数组中第一次出现的位置，如果没有出现则返回-1。可以接受第二个参数，表示搜索的开始位置
lastIndexOf()  //返回给定元素在数组中最后一次出现的位置，如果没有出现则返回-1。
3.3 Number对象
（1）生成对象
var n = new Number()
（2）Number对象的属性
Number.POSITIVE_INFINITY：正的无限，指向Infinity。  
Number.NEGATIVE_INFINITY：负的无限，指向-Infinity。  
Number.NaN：表示非数值，指向NaN。  
Number.MAX_VALUE：表示最大的正数，相应的，最小的负数为-Number.MAX_VALUE。  
Number.MIN_VALUE：表示最小的正数（即最接近0的正数，在64位浮点数体系中为5e-324），相应的，最接近0的负数为-Number.MIN_VALUE。  
Number.MAX_SAFE_INTEGER：表示能够精确表示的最大整数，即9007199254740991。  
Number.MIN_SAFE_INTEGER：表示能够精确表示的最小整数，即-9007199254740991。
（4）Number对象实例的方法
toString()   //用来将一个数值转为字符串形式.可以接受一个参数，表示输出的进制。如果省略这个参数，默认将数值先转为十进制，再输出字符串；否则，就根据参数指定的进制，将一个数字转化成某个进制的字符串。
toFixed()   //用于将一个数转为指定位数的小数，返回这个小数对应的字符串。
toExponential()  //用于将一个数转为科学计数法形式。可传入一个参数，参数表示小数点后有效数字的位数，范围为0到20，超出这个范围，会抛出一个RangeError。
toPrecision()  //用于将一个数转为指定位数的有效数字。
3.4 String 对象
（1）生成实例对象
var s = new String()
（2）String对象的属性
s.length   //返回字符串的长度
（3）方法
s.chatAt(index)   //返回指定位置的字符    //&quot;123456&quot;[0] == &quot;1&quot;
s.fromCharCode()    //该方法的参数是一系列Unicode码点，返回对应的字符串。
s.charCodeAt(index)    //返回给定位置字符的Unicode码点（十进制表示）
s.concat(s2)  //用于连接两个字符串
s.slice(start,end)   //用于从原字符串取出子字符串并返回，不改变原字符串。第一个参数是子字符串的开始位置，第二个参数是子字符串的结束位置（不含该位置）。如果参数是负值，表示从结尾开始倒数计算的位置，即该负值加上字符串长度。
s.substring(start,end)  //用于从原字符串取出子字符串并返回，不改变原字符串.第一个参数表示子字符串的开始位置，第二个位置表示结束位置。
s.substr(start,length)   //用于从原字符串取出子字符串并返回，不改变原字符串。第一个参数是子字符串的开始位置，第二个参数是子字符串的长度。如果第一个参数是负数，表示倒数计算的字符位置。如果第二个参数是负数，将被自动转为0，因此会返回空字符串。
s.indexOf(s)   //返回给定元素在字符串中第一次出现的位置，如果没有出现则返回-1。可以接受第二个参数，表示搜索的开始位置 
s.lastIndexOf()  //返回给定元素在字符串中最后一次出现的位置，如果没有出现则返回-1。
s.trim()  //用于去除字符串两端的空格，返回一个新字符串
s.toLowerCase()  //用于将一个字符串全部转为小写,返回一个新字符串，不改变原字符串。
s.toUpperCase()  //全部转为大写
s.localeCompare(s2)  //用于比较两个字符串。它返回一个整数，如果小于0，表示第一个字符串小于第二个字符串；如果等于0，表示两者相等；如果大于0，表示第一个字符串大于第二个字符串。
s.match(regexp)   //用于确定原字符串是否匹配某个子字符串，返回一个数组，成员为匹配的第一个字符串。如果没有找到匹配，则返回null。
s.search()  //返回值为匹配的第一个位置。如果没有找到匹配，则返回-1。
s.replace(oldValue,newValue)  //用于替换匹配的子字符串，一般情况下只替换第一个匹配（除非使用带有g修饰符的正则表达式）。
s.split()  //按照给定规则分割字符串，返回一个由分割出来的子字符串组成的数组。还可传入第二个参数，决定了返回数组的成员数。
3.5 Math对象
（1）属性
Math.E：常数e。  
Math.LN2：2的自然对数。  
Math.LN10：10的自然对数。  
Math.LOG2E：以2为底的e的对数。  
Math.LOG10E：以10为底的e的对数。  
Math.PI：常数Pi。  
Math.SQRT1_2：0.5的平方根。  
Math.SQRT2：2的平方根。
（2）数学方法
Math.abs()：返回参数的绝对值  
Math.ceil()：向上取整，接受一个参数，返回大于该参数的最小整数。 
Math.floor()：向下取整  
Math.max(n,n1,...)：可接受多个参数，返回最大值  
Math.min(n,n1,..)：可接受多个参数，返回最小值  
Math.pow(n,e)：指数运算, 返回以第一个参数为底数、第二个参数为幂的指数值。 
Math.sqrt()：返回参数值的平方根。如果参数是一个负值，则返回NaN。  
Math.log()：返回以e为底的自然对数值。
Math.exp()：返回e的指数，也就是常数e的参数次方。
Math.round()：四舍五入  
Math.random()：返回0到1之间的一个伪随机数，可能等于0，但是一定小于1。
（3）三角函数方法
Math.sin()：返回参数的正弦  
Math.cos()：返回参数的余弦  
Math.tan()：返回参数的正切  
Math.asin()：返回参数的反正弦（弧度值）  
Math.acos()：返回参数的反余弦（弧度值）  
Math.atan()：返回参数的反正切（弧度值）
3.6 JSON对象
（1）方法
JSON.stringify()   
//用于将一个值转为字符串。该字符串应该符合JSON格式，并且可以被JSON.parse方法还原。
//（JSON.stringify(obj, selectedProperties)）还可以接受一个数组，作为第二个参数，指定需要转成字符串的属性。
//还可以接受第三个参数，用于增加返回的JSON字符串的可读性。如果是数字，表示每个属性前面添加的空格（最多不超过10个）；如果是字符串（不超过10个字符），则该字符串会添加在每行前面。

JSON.parse()   //用于将JSON字符串转化成对象。
3.7 console对象
（1）方法
console.log(text,text2,...)   //用于在console窗口输出信息。它可以接受多个参数，将它们的结果连接起来输出。如果第一个参数是格式字符串（使用了格式占位符），console.log方法将依次用后面的参数替换占位符，然后再进行输出。
console.info()   //在console窗口输出信息，同时，会在输出信息的前面，加上一个蓝色图标。
console.debug()  //在console窗口输出信息，同时，会在输出信息的前面，加上一个蓝色图标。
console.warn()  //输出信息时，在最前面加一个黄色三角，表示警告；
console.error()  //输出信息时，在最前面加一个红色的叉，表示出错，同时会显示错误发生的堆栈
console.table()  //可以将复合类型的数据转为表格显示。
console.count()  //用于计数，输出它被调用了多少次。
console.dir()    //用来对一个对象进行检查（inspect），并以易于阅读和打印的格式显示。
console.dirxml()  //用于以目录树的形式，显示DOM节点。
console.assert()  //接受两个参数，第一个参数是表达式，第二个参数是字符串。只有当第一个参数为false，才会输出第二个参数，否则不会有任何结果。

//这两个方法用于计时，可以算出一个操作所花费的准确时间。
console.time()
console.timeEnd()
//time方法表示计时开始，timeEnd方法表示计时结束。它们的参数是计时器的名称。调用timeEnd方法之后，console窗口会显示“计时器名称: 所耗费的时间”。

console.profile()  //用来新建一个性能测试器（profile），它的参数是性能测试器的名字。
console.profileEnd()  //用来结束正在运行的性能测试器。

console.group()
console.groupend()
//上面这两个方法用于将显示的信息分组。它只在输出大量信息时有用，分在一组的信息，可以用鼠标折叠/展开。
console.groupCollapsed()  //用于将显示的信息分组，该组的内容，在第一次显示时是收起的（collapsed），而不是展开的。

console.trace()  //显示当前执行的代码在堆栈中的调用路径。
console.clear()  //用于清除当前控制台的所有输出，将光标回置到第一行。


正则表达式：
只允许输入汉字：onkeyup=&quot;value=value.replace(/[^\u4E00-\u9FA5]/g,&apos;&apos;)&quot; 
只允许输入数字：onkeyup=&quot;this.value=this.value.replace(/\D/g,&apos;&apos;)&quot;
[1, [2, [3, 4]]].toString() // &quot;1,2,3,4&quot;
</code></pre><p>例子：</p>
<pre><code>&lt;ul class=”main”&gt;
            &lt;li&gt;1&lt;/li&gt;
            &lt;li&gt;2&lt;/li&gt;
            &lt;li&gt;3&lt;/li&gt;
        &lt;/ul&gt;
请用原生JS实现：
        &lt;ul class=”main”&gt;
            &lt;div&gt;A&lt;/div&gt;
            &lt;li&gt;1&lt;/li&gt;
            &lt;li&gt;2&lt;/li&gt;
            &lt;li&gt;3&lt;/li&gt;
            &lt;div&gt;B&lt;/div&gt;
&lt;/ul&gt;


&lt;body&gt;
        &lt;ul id=&quot;main&quot;&gt;
            &lt;li&gt;1&lt;/li&gt;
            &lt;li&gt;2&lt;/li&gt;
            &lt;li&gt;3&lt;/li&gt;
        &lt;/ul&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
          var main=document.getElementById(&quot;main&quot;);
          var DIV=document.createElement(&quot;div&quot;);
          DIV.innerText=&quot;B&quot;;
          var P=document.createElement(&quot;p&quot;);
          P.innerText=&quot;A&quot;;
          main.appendChild(DIV);
          main.insertBefore(P, main.firstChild);
        &lt;/script&gt;
    &lt;/body&gt;
</code></pre><p>JQuery选择器：</p>
<pre><code>0、常用选择器
$(&apos;#div1&apos;)   //id为div1的节点，如&lt;div id=&apos;div1&apos;&gt;&lt;/div&gt; 

$(&apos;span&apos;)   //所有的span结点，一个包装集
$(&apos;p span&apos;)   //p标签下的所有span节点，后代节点
$(&apos;p&gt;span&apos;)   //p标签下的所有span子节点，子代节点

$(&apos;.red&apos;)  //使用样式red的节点，如&lt;span class=&quot;red&quot;&gt;&lt;/span&gt;

$(&apos;*&apos;)  //所有节点

$(&quot;div,span,p.cls&quot;)  //选取所有&lt;div&gt;，&lt;span&gt;和拥有class为cls的&lt;p&gt;标签的一组元素


1、基本筛选器
$(&apos;span:first&apos;)    //第一个节点
$(&apos;span:last&apos;)     //最后一个节点

$(&quot;td:even&quot;)     //索引为偶数的节点，从 0 开始
$(&quot;td:odd&quot;)      //索引为奇数的节点，从 0 开始

$(&quot;td:eq(1)&quot;)    //给定索引值的节点
$(&quot;td:gt(0)&quot;)    //大于给定索引值的节点
$(&quot;td:lt(2)&quot;)    //小于给定索引值的节点

$(&quot;:focus&quot;)      //当前获取焦点的节点
$(&quot;:animated&quot;)   //正在执行动画效果的节点


2、内容选择器
$(&quot;div:contains(&apos;hello&apos;)&quot;)    //包含hello文本的节点
$(&quot;td:empty&quot;)    //不包含子节点或者文本的空节点
$(&quot;div:has(p)&quot;)  //含有选择器所匹配的节点
$(&quot;td:parent&quot;)   //含有子节点或者文本的节点


3、表单选择器
$(&quot;input:checked&quot;)    //所有选中的节点
$(&quot;select option:selected&quot;)    //select中所有选中的option节点

$(&quot;:input&quot;)      //匹配所有 input, textarea, select 和 button 节点
$(&quot;:text&quot;)       //所有的单行文本框
$(&quot;:password&quot;)   //所有密码框
$(&quot;:radio&quot;)      //所有单选按钮
$(&quot;:checkbox&quot;)   //所有复选框
$(&quot;:submit&quot;)     //所有提交按钮
$(&quot;:reset&quot;)      //所有重置按钮
$(&quot;:button&quot;)     //所有button按钮
$(&quot;:file&quot;)       //所有文件域


4、筛选与查找
$(&quot;p&quot;).eq(0)       //当前操作中第N个jQuery对象,类似索引
$(&apos;li&apos;).first()    //第一个节点
$(&apos;li&apos;).last()     //最后一个节点
$(this).hasClass(&quot;node&quot;)    //节点是否含有某个特定的类,返回布尔值
$(&apos;li&apos;).has(&apos;ul&apos;)  //包含特定后代的节点

$(&quot;div&quot;).children()      //div中的每个子节点,第一层
$(&quot;div&quot;).find(&quot;span&quot;)    //查找div下的所有span节点

$(&quot;p&quot;).next()       　　　//紧邻p节点后的一个同辈节点
$(&quot;p&quot;).nextAll()         //p节点之后所有的同辈节点
$(&quot;#node&quot;).nextUntil(&quot;#node2&quot;)    //id为&quot;#node&quot;节点之后到id为&apos;#node2&apos;之间所有的同辈节点,掐头去尾

$(&quot;p&quot;).prev()            //紧邻p节点前的一个同辈节点
$(&quot;p&quot;).prevAll()         //p节点之前所有的同辈节点
$(&quot;#node&quot;).prevUntil(&quot;#node2&quot;)    //id为&quot;#node&quot;节点之前到id为&apos;#node2&apos;之间所有的同辈节点,掐头去尾

$(&quot;p&quot;).parent()          //每个p节点的父节点
$(&quot;p&quot;).parents()         //每个p节点的所有祖先节点,body,html
$(&quot;#node&quot;).parentsUntil(&quot;#node2&quot;)    //id为&quot;#node&quot;节点到id为&apos;#node2&apos;之间所有的父级节点,掐头去尾

$(&quot;div&quot;).siblings()      //所有的同辈节点,不包括自己


5、属性操作
$(&quot;img&quot;).attr(&quot;src&quot;);    　　　　　　 //返回文档中所有图像的src属性值
$(&quot;img&quot;).attr(&quot;src&quot;,&quot;node.jpg&quot;);    //设置所有图像的src属性
$(&quot;img&quot;).removeAttr(&quot;src&quot;);    　　　//将文档中图像的src属性删除

$(&quot;input[type=&apos;checkbox&apos;]&quot;).prop(&quot;checked&quot;, true);    //选中复选框
$(&quot;input[type=&apos;checkbox&apos;]&quot;).prop(&quot;checked&quot;, false);   //不选中复选框
$(&quot;img&quot;).removeProp(&quot;src&quot;);    　　 //删除img的src属性


6、样式操作
$(&quot;p&quot;).addClass(&quot;selected&quot;);    　　//为p节点加上 &apos;selected&apos; 类
$(&quot;p&quot;).removeClass(&quot;selected&quot;);    //从p节点中删除 &apos;selected&apos; 类
$(&quot;p&quot;).toggleClass(&quot;selected&quot;);    //如果存在就删除,否则就添加HTML代码/文本/值


7、内容操作
$(&apos;p&apos;).html();    　　　　　　　　　　 //返回p节点的html内容
$(&quot;p&quot;).html(&quot;Hello &lt;b&gt;hello&lt;/b&gt;!&quot;);  //设置p节点的html内容
$(&apos;p&apos;).text();    　　　　　　　　　　 //返回p节点的文本内容
$(&quot;p&quot;).text(&quot;hello&quot;);    　　　　　　　//设置p节点的文本内容
$(&quot;input&quot;).val();    　　　　　　　　 //获取文本框中的值
$(&quot;input&quot;).val(&quot;hello&quot;);     　　　　 //设置文本框中的内容


8、CSS操作
$(&quot;p&quot;).css(&quot;color&quot;);          //访问查看p节点的color属性
$(&quot;p&quot;).css(&quot;color&quot;,&quot;red&quot;);    //设置p节点的color属性为red
$(&quot;p&quot;).css({ &quot;color&quot;: &quot;red&quot;, &quot;background&quot;: &quot;yellow&quot; });    //设置p节点的color为red，background属性为yellow（设置多个属性要用{}字典形式）


9、定位与偏移
$(&apos;p&apos;).offset()     //节点在当前视口的相对偏移,对象 {top: 5, left: 9}
$(&apos;p&apos;).offset().top
$(&apos;p&apos;).offset().left
$(&quot;p&quot;).position()   //节点相对父节点的偏移,对可见节点有效，Object {top: 5, left: 8}

$(window).scrollTop()    //获取滚轮滑的高度
$(window).scrollLeft()   //获取滚轮滑的宽度
$(window).scrollTop(&apos;25&apos;)    //设置滚轮滑的高度为25


10、尺寸
$(&quot;p&quot;).height();    //获取p节点的高度
$(&quot;p&quot;).width();     //获取p节点的宽度

$(&quot;p:first&quot;).innerHeight()    //获取第一个匹配节点内部区域高度(包括补白、不包括边框)
$(&quot;p:first&quot;).innerWidth()     //获取第一个匹配节点内部区域宽度(包括补白、不包括边框)

$(&quot;p:first&quot;).outerHeight()    //匹配节点外部高度(默认包括补白和边框)
$(&quot;p:first&quot;).outerWidth()     //匹配节点外部宽度(默认包括补白和边框)
$(&quot;p:first&quot;).outerHeight(true)    //为true时包括边距


11、DOM内部插入
$(&quot;p&quot;).append(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;);    //每个p节点内后面追加内容
$(&quot;p&quot;).appendTo(&quot;div&quot;);    　　　 //p节点追加到div内后
$(&quot;p&quot;).prepend(&quot;&lt;b&gt;Hello&lt;/b&gt;&quot;);  //每个p节点内前面追加内容
$(&quot;p&quot;).prependTo(&quot;div&quot;);    　   //p节点追加到div内前


12、DOM外部插入
$(&quot;p&quot;).after(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;);     //每个p节点同级之后插入内容
$(&quot;p&quot;).before(&quot;&lt;b&gt;hello&lt;/b&gt;&quot;);    //在每个p节点同级之前插入内容
$(&quot;p&quot;).insertAfter(&quot;#node&quot;);     //所有p节点插入到id为node节点的后面
$(&quot;p&quot;).insertBefore(&quot;#node&quot;);    //所有p节点插入到id为node节点的前面


13、DOM替换
$(&quot;p&quot;).replaceWith(&quot;&lt;b&gt;Paragraph. &lt;/b&gt;&quot;);    //将所有匹配的节点替换成指定的HTML或DOM节点
$(&quot;&lt;b&gt;Paragraph. &lt;/b&gt;&quot;).replaceAll(&quot;p&quot;);     //用匹配的节点替换掉所有 selector匹配到的节点


14、DOM删除
$(&quot;p&quot;).empty();     //删除匹配的节点集合中所有的子节点，不包括本身
$(&quot;p&quot;).remove();    //删除所有匹配的节点,包括本身
$(&quot;p&quot;).detach();    //删除所有匹配的节点(和remove()不同的是:所有绑定的事件、附加的数据会保留下来)


15、DOM复制
$(&quot;p&quot;).clone()    　　//克隆节点并选中克隆的副本
$(&quot;p&quot;).clone(true)   //布尔值指事件处理函数是否会被复制


16、DOM加载完成事件
$(document).ready(function(){
  您的代码...
});

//缩写
$(function($) {
  您的代码...
});


17、绑定事件
//bind 为每个匹配节点绑定事件处理函数，绑定多个用{}。
$(&quot;p&quot;).bind(&quot;click&quot;, function(){
  alert( $(this).text() );
});
$(&apos;#div1&apos;).bind({
    &quot;mouseover&quot;:function () {
     $(&apos;#div1&apos;).parent().removeClass(&quot;hide&quot;);
     },&quot;mouseout&quot;:function () {
     $(&apos;#div1&apos;).parent().addClass(&quot;hide&quot;);
}
});         

$(&quot;p&quot;).one( &quot;click&quot;, function(){})    //事件绑定后只会执行一次
$(&quot;p&quot;).unbind( &quot;click&quot; )        //反绑一个事件

// 与bind 不同的是当时间发生时才去临时绑定。
$(&quot;p&quot;).delegate(&quot;click&quot;,function(){
  您的代码
});

$(&quot;p&quot;).undelegate();    　　　//p节点删除由 delegate() 方法添加的所有事件
$(&quot;p&quot;).undelegate(&quot;click&quot;)   //从p节点删除由 delegate() 方法添加的所有click事件

$(&quot;p&quot;).click();    　　//单击事件
$(&quot;p&quot;).dblclick();    //双击事件
$(&quot;input[type=text]&quot;).focus()  //节点获得焦点时,触发 focus 事件
$(&quot;input[type=text]&quot;).blur()   //节点失去焦点时,触发 blur事件
$(&quot;button&quot;).mousedown()//当按下鼠标时触发事件
$(&quot;button&quot;).mouseup()  //节点上放松鼠标按钮时触发事件
$(&quot;p&quot;).mousemove()     //当鼠标指针在指定的节点中移动时触发事件
$(&quot;p&quot;).mouseover()     //当鼠标指针位于节点上方时触发事件
$(&quot;p&quot;).mouseout()    　//当鼠标指针从节点上移开时触发事件
$(window).keydown()    //当键盘或按钮被按下时触发事件
$(window).keypress()   //当键盘或按钮被按下时触发事件,每输入一个字符都触发一次
$(&quot;input&quot;).keyup()     //当按钮被松开时触发事件
$(window).scroll()     //当用户滚动时触发事件
$(window).resize()     //当调整浏览器窗口的大小时触发事件
$(&quot;input[type=&apos;text&apos;]&quot;).change()    //当节点的值发生改变时触发事件
$(&quot;input&quot;).select()    //当input 节点中的文本被选择时触发事件
$(&quot;form&quot;).submit()     //当提交表单时触发事件
$(window).unload()     //用户离开页面时


18、事件对象
$(&quot;p&quot;).click(function(event){  
 alert(event.type); //&quot;click&quot;  
}); 

(evnet object)属性方法：
event.pageX 　 //事件发生时，鼠标距离网页左上角的水平距离
event.pageY 　 //事件发生时，鼠标距离网页左上角的垂直距离
event.type 　　//事件的类型
event.which 　 //按下了哪一个键
event.data 　　//在事件对象上绑定数据，然后传入事件处理函数
event.target 　//事件针对的网页节点
event.preventDefault() 　//阻止事件的默认行为(比如点击链接，会自动打开新页面)
event.stopPropagation()  //停止事件向上层节点冒泡


19、动态事件绑定
 $(&quot;p&quot;).on(&quot;click&quot;,&apos;span&apos;,function(){
alert( $(this).text() );
});
//当p中增加span时仍然有效


20、动画效果
$(&quot;p&quot;).show()    　　　　//显示隐藏的匹配节点
$(&quot;p&quot;).show(&quot;slow&quot;);    //参数表示速度,(&quot;slow&quot;,&quot;normal&quot;,&quot;fast&quot;),也可为600毫秒
$(&quot;p&quot;).hide()    　　　　//隐藏显示的节点
$(&quot;p&quot;).toggle();   　　 //切换 显示/隐藏

$(&quot;p&quot;).slideDown(&quot;600&quot;);    //用600毫秒时间将段落滑下
$(&quot;p&quot;).slideUp(&quot;600&quot;);    　//用600毫秒时间将段落滑上
$(&quot;p&quot;).slideToggle(&quot;600&quot;);  //用600毫秒时间将段落滑上，滑下淡入淡出

$(&quot;p&quot;).fadeIn(&quot;600&quot;);    　　  //用600毫秒时间将段落淡入
$(&quot;p&quot;).fadeOut(&quot;600&quot;);    　　 //用600毫秒时间将段落淡出
$(&quot;p&quot;).fadeToggle(&quot;600&quot;);    　//用600毫秒时间将段落淡入,淡出
$(&quot;p&quot;).fadeTo(&quot;slow&quot;, 0.6);    //用600毫秒时间将段落的透明度调整到0.6


21、工具方法
$(&quot;#form1&quot;).serialize()    //序列表表格内容为字符串。
$(&quot;select, :radio&quot;).serializeArray();  //序列化表单元素为数组返回 JSON 数据结构数据
$.trim() 　　//去除字符串两端的空格
$.each() 　　//遍历一个数组或对象，for循环
$.inArray() //返回一个值在数组中的索引位置，不存在返回-1  
$.grep() 　 //返回数组中符合某种标准的节点
$.extend({a:1,b:2},{b:3,c:4},{c:5:d:6})  //将多个对象，合并到第一个对象{a:1,b:3,c:5,d:6}
$.makeArray() //将对象转化为数组
$.type()    //判断对象的类别（函数对象、日期对象、数组对象、正则对象等等
$.isArray() //判断某个参数是否为数组
$.isEmptyObject() //判断某个对象是否为空(不含有任何属性)
$.isFunction()    //判断某个参数是否为函数
$.isPlainObject() //判断某个参数是否为用&quot;{}&quot;或&quot;new Object&quot;建立的对象
$.support()       //判断浏览器是否支持某个特性

22、AJAX
//保存数据到服务器，成功时显示信息
$.ajax({
   type: &quot;POST&quot;,
   url: &quot;some.php&quot;,
   data: &quot;name=John&amp;location=Boston&quot;,
   success: function(msg){
     alert( &quot;Data Saved: &quot; + msg );
   }
});

//加载 feeds.html 文件内容。
$(&quot;#feeds&quot;).load(&quot;feeds.html&quot;);

//请求 test.php 网页，传送2个参数，忽略返回值。
$.get(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; } );

//从 Flickr JSONP API 载入 4 张最新的关于猫的图片。
$.getJSON(&quot;http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&amp;tagmode=any&amp;format
=json&amp;jsoncallback=?&quot;, function(data){
  $.each(data.items, function(i,item){
    $(&quot;&lt;img/&gt;&quot;).attr(&quot;src&quot;, item.media.m).appendTo(&quot;#images&quot;);
    if ( i == 3 ) return false;
  });
});

//加载并执行 test.js ，成功后显示信息
$.getScript(&quot;test.js&quot;, function(){
  alert(&quot;Script loaded and executed.&quot;);
});

//向页面 test.php 发送数据，并输出结果（HTML 或 XML，取决于所返回的内容）：
$.post(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; },
   function(data){
     alert(&quot;Data Loaded: &quot; + data);
   });

//AJAX 请求完成时执行函数。
 $(&quot;#msg&quot;).ajaxComplete(function(event,request, settings){
   $(this).append(&quot;&lt;li&gt;请求完成.&lt;/li&gt;&quot;);
 });

//AJAX 请求失败时显示信息。
$(&quot;#msg&quot;).ajaxError(function(event,request, settings){
     $(this).append(&quot;&lt;li&gt;出错页面:&quot; + settings.url + &quot;&lt;/li&gt;&quot;);
});

//AJAX 请求发送前显示信息。
 $(&quot;#msg&quot;).ajaxSend(function(evt, request, settings){
   $(this).append(&quot;&lt;li&gt;开始请求: &quot; + settings.url + &quot;&lt;/li&gt;&quot;);
 });

 //AJAX 请求开始时显示信息。
 $(&quot;#loading&quot;).ajaxStart(function(){
   $(this).show();
 });

//AJAX 请求结束后隐藏信息。
 $(&quot;#loading&quot;).ajaxStop(function(){
   $(this).hide();
 });

//当 AJAX 请求成功后显示消息。
 $(&quot;#msg&quot;).ajaxSuccess(function(evt, request, settings){
   $(this).append(&quot;&lt;li&gt;请求成功!&lt;/li&gt;&quot;);
 });

//请求前过滤
$.ajaxPrefilter( function( options, originalOptions, jqXHR ) { 
   // Modify options, control originalOptions, store jqXHR, etc 
 });

 //设置全局 AJAX 默认选项，设置 AJAX 请求默认地址为 &quot;/xmlhttp/&quot;，禁止触发全局 AJAX 事件，用 POST 代替默认 GET 方法。其后的 AJAX 请求不再设置任何选项参数。
$.ajaxSetup({
  url: &quot;/xmlhttp/&quot;,
  global: false,
  type: &quot;POST&quot;
});
$.ajax({ data: myData });






JavaScript中巧用位运算
日常前端开发中我们很少用到位运算，容易让人遗忘，让我们一起回顾下一下js中的位运算。
位运算详细说明查看JavaScript|MDN
下面主要回顾一下一些常用的位运算的巧用。
将十进制转化为二进制
var number = 3;
var result = number.toString(2);

var result2 = 14..toString(2); // &quot;1110&quot;


我们使用位运算来代替Math.floor()来向下取整
var data = 2.2352524535;
var result = data | 0; // 2


var re2 = ~~data; // 2

将颜色从RGA转换为Hex格式

var color = {r: 186, g: 218, b: 85};

// RGB to HEX
var rgb2hex = function(r, g, b) {
    return &apos;#&apos; + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).substr(1);
}
rgb2hex(color.r, color.g, color.b);//&quot;#bada55&quot;

区分两个数的大小
// variables
var a = 9285;
var b = 3569;

// 取大
var max = a ^ ((a ^ b) &amp; -(a &lt; b));//9285;

// 取小
var min =  b ^ ((a ^ b) &amp; -(a &lt; b);//3569

交换变量
var a = 10;
var b = 99;

a = (b^=a^=b)^a;

console.log(a) // 99
console.log(b) // 10

判断正负
function isPos(n) {
  return (n === (n &gt;&gt;&gt; 0)) ? true : false;  
}
isPos(-1); // false
isPos(1); // true
</code></pre><p>常用函数：</p>
<pre><code>/*========================常用函数========================*/

/*时间格式化*/
Date.prototype.Format = function (fmt) {
    var o = {
        &quot;M+&quot;: this.getMonth() + 1, /*月份*/
        &quot;d+&quot;: this.getDate(), /*日*/
        &quot;h+&quot;: this.getHours(), /*小时*/
        &quot;m+&quot;: this.getMinutes(), /*分*/
        &quot;s+&quot;: this.getSeconds(), /*秒*/
        &quot;q+&quot;: Math.floor((this.getMonth() + 3) / 3), /*季度*/
        &quot;S&quot;: this.getMilliseconds() /*毫秒*/
    };
    if (/(y+)/.test(fmt))
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt))
            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));
    return fmt;
};

/*IE浏览器不支持date(time),所以用此方法转换*/
function NewDate(fmt) {
    /*首先将日期分隔 ，获取到日期部分 和 时间部分*/
    var day = fmt.split(&apos; &apos;);
    /*获取日期部分的年月日*/
    var days = day[0].split(&apos;-&apos;);
    /*获取时间部分的 时分秒*/
    var mi = day[day.length - 1].split(&apos;:&apos;);
    /*获取当前date类型日期*/
    var date = new Date();
    /*给date赋值  年月日*/
    date.setUTCFullYear(days[0], days[1] - 1, days[2]);
    /*给date赋值 时分秒  首先转换utc时区 ：+8*/
    date.setUTCHours(mi[0] - 8, mi[1], mi[2]);
    return date;
}

/*为空判断*/
function isEmpty(s) {
    switch (typeof(s)) {
        case &apos;string&apos;:
            return !s.length;
            break;
        case &apos;array&apos;:
        case &apos;object&apos;:
            for (var i in s) return false;
            return true;
            break;
        case &apos;undefined&apos;:
            return true;
            break;
        default:
            return !s;
            break;
    }
}

/*数字判断*/
function isNumber(s) {
    return typeof(s) == &apos;number&apos; ? true : false;
}

/*整数判断*/
function isInt(s) {
    var re = /^-?\d*$/;
    return re.test(s);
}

/*正整数判断*/
function isUInt(s) {
    var re = /^\d*$/;
    return re.test(s) &amp;&amp; s &gt;= 0;
}

/*小数判断*/
function isDecimal(s, bit) {
    if (!arguments[1]) bit = -1;
    if (bit == -1) {
        var re = /^-?\d*.?\d*$/;
        return re.test(s);
    } else {
        var re = new RegExp(&apos;^-?\\d*.?\\d{0,&apos; + bit + &apos;}$&apos;);
        return re.test(s);
    }
}

/*正小数判断*/
function isUDecimal(s, bit) {
    if (!arguments[1]) bit = -1;
    if (bit == -1) {
        var re = /^\d*.?\d*$/;
        return re.test(s) &amp;&amp; s &gt;= 0;
    } else {
        var re = new RegExp(&apos;^\\d*.?\\d{0,&apos; + bit + &apos;}$&apos;);
        return re.test(s) &amp;&amp; s &gt;= 0;
    }
}

/*字符串判断*/
function isString(s) {
    return typeof(s) == &apos;string&apos;;
}

/*========================/常用函数========================*/

js onkeyup replace 自动替换

检测浮点数 只能是整数或者小数 
多余的就replace 掉 的表单验证


function checkFloatNum(obj)
{
    //先把非数字的都替换掉，除了数字和.
    obj.value = obj.value.replace(/[^\d.]/g,&quot;&quot;);
    //必须保证第一个为数字而不是.
    obj.value = obj.value.replace(/^\./g,&quot;&quot;);
    //保证只有出现一个.而没有多个.
    obj.value = obj.value.replace(/\.{2,}/g,&quot;.&quot;);
    //保证.只出现一次，而不能出现两次以上
    obj.value = obj.value.replace(&quot;.&quot;,&quot;$#$&quot;).replace(/\./g,&quot;&quot;).replace(&quot;$#$&quot;,&quot;.&quot;);
}
</code></pre><p>解决键盘弹出遮挡：</p>
<pre><code>// 解决键盘弹出后挡表单的问题
        window.addEventListener(&apos;resize&apos;, function() {
            if(
                document.activeElement.tagName === &apos;INPUT&apos; ||
                document.activeElement.tagName === &apos;TEXTAREA&apos;
            ) {
                window.setTimeout(function() {
                    if(&apos;scrollIntoView&apos; in document.activeElement) {
                        document.activeElement.scrollIntoView();
                    } else {
                        document.activeElement.scrollIntoViewIfNeeded();
                    }
                }, 0);
            }
        });
</code></pre><p>单个for循环实现排序：</p>
<pre><code>var a = [12, 13, 65, 54, 86, 21, 37, 1, 95, 4];
var l=a.length;
        for(var i = 0; i &lt; l; i++) {
            if(a[i] &gt; a[i + 1]) {
                var tem = a[i];
                a[i] = a[i + 1];
                a[i + 1] = tem;
            }
            if(i == l - 1) {
                i = -1;
                l--;
            }
        }
        console.log(a);
</code></pre><p>Object.assign实现:</p>
<pre><code>if (!Object.assign) {
    // 定义assign方法
  Object.defineProperty(Object, &apos;assign&apos;, {
    enumerable: false,
    configurable: true,
    writable: true,
    value: function(target) { // assign方法的第一个参数
      &apos;use strict&apos;;
      // 第一个参数为空，则抛错
      if (target === undefined || target === null) {
        throw new TypeError(&apos;Cannot convert first argument to object&apos;);
      }

      var to = Object(target);
      // 遍历剩余所有参数
      for (var i = 1; i &lt; arguments.length; i++) {
        var nextSource = arguments[i];
        // 参数为空，则跳过，继续下一个
        if (nextSource === undefined || nextSource === null) {
          continue;
        }
        nextSource = Object(nextSource);

        // 获取改参数的所有key值，并遍历
        var keysArray = Object.keys(nextSource);
        for (var nextIndex = 0, len = keysArray.length; nextIndex &lt; len; nextIndex++) {
          var nextKey = keysArray[nextIndex];
          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
          // 如果不为空且可枚举，则直接浅拷贝赋值
          if (desc !== undefined &amp;&amp; desc.enumerable) {
            to[nextKey] = nextSource[nextKey];
          }
        }
      }
      return to;
    }
  });
}
</code></pre><blockquote>
<p>记录下与Math有关的常用方法，如：求最大值、最小值等，或者是保留几位数啥的</p>
</blockquote>
<h1 id="1-数据"><a href="#1-数据" class="headerlink" title="1.数据"></a>1.数据</h1><pre><code>let floatA = 2.325232;
let floatB = 2.3456;
let temporaryArray = [1, 2, 5, 6, 3];
let minusNum = -12;
let minusFloat = -12.321;
let intA = 10;
letmin, max, num;
</code></pre><h1 id="2-求最大值、最小值"><a href="#2-求最大值、最小值" class="headerlink" title="2.求最大值、最小值"></a>2.求最大值、最小值</h1><pre><code>{
    /* 求最小值 */
    min = Math.min(floatA, floatB);
    console.log(min);
    /* 使用apply来重新绑定this */
    min = Math.min.apply(null, temporaryArray);
    console.log(min);
    /* 使用展开运算符 */
    min = Math.min(...temporaryArray);
    console.log(min);

    /* 求最大值 */
    max = Math.max(floatA, floatB);
    console.log(max);
    /* 使用apply来重新绑定this */
    max = Math.max.apply(null, temporaryArray);
    console.log(max);
    /* 使用展开运算符 */
    max = Math.max(...temporaryArray);
    console.log(max);
}
</code></pre><h1 id="3-取整"><a href="#3-取整" class="headerlink" title="3.取整"></a>3.取整</h1><pre><code>{
    /* 四舍五入取整:取与参数最接近的整数 */
    num = Math.round(floatA);
    console.log(num);

    num = Math.round(minusFloat);
    console.log(num);

    /* 向上取整:取大于或等于函数参数，并且与之最接近的整数 */
    num = Math.ceil(floatB);
    console.log(num);

    /* 向下取整:取小于或等于函数参数，并且与之最接近的整数 */
    num = Math.floor(floatB);
    console.log(num);

    /* ceil、floor结合起来，实现一个总是返回数值的整数部分的函数 */
    function getInteger(value) {
        value = Number(value);
        return value &lt; 0 ? Math.ceil(value) : Math.floor(value);
    }
    console.log(getInteger(-2.3322));
}
</code></pre><h1 id="4-求绝对值"><a href="#4-求绝对值" class="headerlink" title="4.求绝对值"></a>4.求绝对值</h1><pre><code>{
    /* 负整数 */
    num = Math.abs(minusNum);
    console.log(num);

    /* 负浮点数 */
    num = Math.abs(minusFloat);
    console.log(num);
}
</code></pre><h1 id="5-次幂"><a href="#5-次幂" class="headerlink" title="5.次幂"></a>5.次幂</h1><pre><code>{
    /* 结果是虚数或负数，则该方法将返回 NaN
    * 如果由于指数过大而引起浮点溢出，则该方法将返回 Infinity
    */
    /* 2的3次方 */
    num = Math.pow(2, 3);
    console.log(num);
}
</code></pre><h1 id="6-去平方根"><a href="#6-去平方根" class="headerlink" title="6.去平方根"></a>6.去平方根</h1><pre><code>{
    /*  求参数的平方根，如果参数小于 0，则返回 NaN */
    num = Math.sqrt(9);
    console.log(num);
}
</code></pre><h1 id="7-生成随机数"><a href="#7-生成随机数" class="headerlink" title="7.生成随机数"></a>7.生成随机数</h1><pre><code>{
    /* 生成0-1的随机数，大于0小于1 */
    num = Math.random();
    console.log(num);

    /* 生成0-10的随机数 */
    num = Math.random() * 10;
    console.log(num);

    /* 生成任意范围随机数 */
    function getRandom(min, max) {
        return Math.random() * (max - min) + min;
    }
    console.log(getRandom(3.5, 6.5));

    /* 整数min与整数max生成任意范围整数随机数 */
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    console.log(getRandomInt(5, 15));
}
</code></pre><h1 id="8-es6中对Math方法的扩展（部分）"><a href="#8-es6中对Math方法的扩展（部分）" class="headerlink" title="8.es6中对Math方法的扩展（部分）"></a>8.es6中对Math方法的扩展（部分）</h1><pre><code>{
    /* 取整(非四舍五入)
     * 对于非数值，内部调用 Number 强转为数值
     * 对于空值或其他数据，返回NaN
     * */
    num = Math.trunc(floatA);
    console.log(num);

    num = Math.trunc(intA);
    console.log(num);

    num = Math.trunc(&apos;aaa&apos;);
    console.log(num);
}

{
    /* 判断一个数是正数、负数或零
     * 正数返回+1，负数返回-1，零返回0或-0
     * 其他值 NaN
     * */
    num = Math.sign(2);
    console.log(num);

    num = Math.sign(0);
    console.log(num);

    num = Math.sign(-0);
    console.log(num);

    num = Math.sign(-14);
    console.log(num);

    num = Math.sign(&apos;ss&apos;);
    console.log(num);
}

{
    let a = 2;
    a **= 3;
    /* 相当于 a*a*a */
    console.log(a);
}
</code></pre><h1 id="9-保留位数操作"><a href="#9-保留位数操作" class="headerlink" title="9.保留位数操作"></a>9.保留位数操作</h1><pre><code>{
    /* 四舍五入保留两位小数
     * toFixed(num) 方法可把 Number型 四舍五入为指定小数位数的数字
     * num规定小数的位数，是 0 ~ 20 之间的值，包括 0 和 20
     * 有些实现可以支持更大的数值范围,如果省略了该参数，将用 0 代替
     * */
    num = floatA.toFixed(2);
    console.log(num);

    let word = 2.5;
    num = word.toFixed();
    console.log(num);

    /* 不四舍五入 */
    num = Math.floor(23.365125 * 100) / 100;
    console.log(num);
}
</code></pre><h1 id="10-字符串转数字"><a href="#10-字符串转数字" class="headerlink" title="10.字符串转数字"></a>10.字符串转数字</h1><pre><code> {
    /* parseInt(value, radix)
    * 用于解析字符串，返回一个整数
    * radix表示要解析的数字的基数，该值介于 2 ~ 36 之间
    * 如果省略该参数或其值为 0，则数字将以 10 为基础来解析
    * 如果它以 “0x” 或 “0X” 开头，将以 16 为基数
    * 如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。
    * */
    let temporaryString = &apos;123&apos;;
    num = parseInt(temporaryString);
    console.log(num);

    {
        console.log(parseInt(&quot;10&quot;));        //返回 10
        console.log(parseInt(&quot;19&quot;,10));        //返回 19 : 10 + 9
        console.log(parseInt(&quot;11&quot;,2));        //返回 3 : 2 + 1
        console.log(parseInt(&quot;17&quot;,8));        //返回 15 : 8 + 7
        console.log(parseInt(&quot;1f&quot;,16));        //返回 31 : 16 + 15
        console.log(parseInt(&quot;010&quot;));        //未定：返回 10 或 8
    }

    /* 常见的parseInt一道题 */
    {
        console.log([&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(parseInt));

        /* 返回[1, NaN, NaN]
        * map(function(value, index, array) {})
        * map方法中的回调函数中的3个参数值，每个值value，索引值index，数组对象array
        * 上面的相当于parseInt(&apos;1&apos;, 0)、parseInt(&apos;2&apos;, 1)、parseInt(&apos;3&apos;, 2)
        * */
    }

    /* Number强转 */
    num = Number(&apos;12345&apos;);
    console.log(num);
}
</code></pre><h1 id="文件流下载"><a href="#文件流下载" class="headerlink" title="文件流下载"></a>文件流下载</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>项目中经常会遇到需要导出列表内容，或者下载文件之类的需求。结合各种情况，我总结了前端最常用的三种方法来接受后端传过来的文件流并下载，针对不同的情况可以使用不同的方法。</p>
<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><p>针对后端的<code>get</code>请求</p>
<h3 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"后端文件下载接口地址"</span> &gt;下载文件&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure>
<p>直接用个<code>&lt;a&gt;</code>标签来接受后端的文件流</p>
<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><h3 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h3><p>针对后端的<code>post</code>请求<br>利用原生的<a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FXMLHttpRequest" target="_blank" rel="noopener"><code>XMLHttpRequest</code></a>方法实现</p>
<h3 id="具体实现-1"><a href="#具体实现-1" class="headerlink" title="具体实现"></a>具体实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">functionrequest () &#123;</span><br><span class="line">    <span class="keyword">const</span> req = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    req.open(<span class="string">'POST'</span>, <span class="string">'&lt;接口地址&gt;'</span>, <span class="literal">true</span>);</span><br><span class="line">    req.responseType = <span class="string">'blob'</span>;</span><br><span class="line">    req.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/json'</span>);</span><br><span class="line">    req.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> data = req.response;</span><br><span class="line">      <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">      <span class="keyword">const</span> blob = <span class="keyword">new</span> Blob([data]);</span><br><span class="line">      <span class="keyword">const</span> blobUrl = <span class="built_in">window</span>.URL.createObjectURL(blob);</span><br><span class="line">      download(blobUrl) ;</span><br><span class="line">    &#125;;</span><br><span class="line">    req.send(<span class="string">'&lt;请求参数：json字符串&gt;'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params">blobUrl</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  a.style.display = <span class="string">'none'</span>;</span><br><span class="line">  a.download = <span class="string">'&lt;文件名&gt;'</span>;</span><br><span class="line">  a.href = blobUrl;</span><br><span class="line">  a.click();</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">request();</span><br></pre></td></tr></table></figure>
<h2 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h2><h3 id="使用场景-2"><a href="#使用场景-2" class="headerlink" title="使用场景"></a>使用场景</h3><p>针对后端的<code>post</code>请求<br>利用原生的<a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FFetch_API" target="_blank" rel="noopener"><code>fetch</code></a>方法实现</p>
<h3 id="具体实现-2"><a href="#具体实现-2" class="headerlink" title="具体实现"></a>具体实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">functionrequest() &#123;</span><br><span class="line">  fetch(<span class="string">'&lt;接口地址&gt;'</span>, &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    body: <span class="string">'&lt;请求参数：json字符串&gt;'</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> res.blob())</span><br><span class="line">    .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> blobUrl = <span class="built_in">window</span>.URL.createObjectURL(data);</span><br><span class="line">      download(blobUrl);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">download</span>(<span class="params">blobUrl</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  a.style.display = <span class="string">'none'</span>;</span><br><span class="line">  a.download = <span class="string">'&lt;文件名&gt;'</span>;</span><br><span class="line">  a.href = blobUrl;</span><br><span class="line">  a.click();</span><br><span class="line">  <span class="built_in">document</span>.body.removeChild(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">request();</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>如果后端提供的下载接口是<code>get</code>类型，可以直接使用方法一，简单又便捷；当然如果想使用方法二、三也是可以的，不过感觉有点舍近求远了。</li>
<li>如果后端提供的下载接口是<code>post</code>类型，就必须要用方法二或者方法三了。</li>
</ul>
<h3 id="方法二和方法三怎么取舍？"><a href="#方法二和方法三怎么取舍？" class="headerlink" title="方法二和方法三怎么取舍？"></a>方法二和方法三怎么取舍？</h3><ul>
<li>当你的项目里的接口请求全是基于<code>XMLHttpRequest</code>实现的，这时<strong>方法二</strong>就更加适合，只要基于你原来项目中的接口请求工具类加以扩展就行了。</li>
<li>当你的项目里的接口请求全是基于<code>fetch</code>实现的，这时<strong>方法三</strong>就更加适合，比如我现在的做的一个项目就是基于<code>ant design pro</code>的后台管理系统，它里面的请求类就是基于<code>fetch</code>的，所以我就直接用的<strong>方法三</strong>，只要在它的<code>request.js</code>文件中稍作修改就行。</li>
<li>我这里讨论的是两种原生的请求方式，如果你项目中引用了第三方请求包来发送请求，比如axios之类的，那就要另当别论了。</li>
</ul>
<hr>
<h1 id="JavaScript骚操作之操作符-JavaScript骚操作之操作符"><a href="#JavaScript骚操作之操作符-JavaScript骚操作之操作符" class="headerlink" title="JavaScript骚操作之操作符  JavaScript骚操作之操作符"></a>JavaScript骚操作之操作符  <a href="https://juejin.im/post/5c15dc47e51d457b00691be5" target="_blank" rel="noopener">JavaScript骚操作之操作符</a></h1><h2 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符 ?:"></a>三目运算符 ?:</h2><p>每到周末我都会问自己，怎么安排？于是我写了个程序跑了一下</p>
<pre><code>if (hasMoney) {
        console.log(&apos;周末嗨翻天&apos;);
    } else {
        console.log(&apos;周末睡一天&apos;);
    }
</code></pre><p>看上去没有什么问题，但总感觉代码有点臃肿，能不能稍微简约一点？</p>
<p>换成三目运算符后</p>
<pre><code>hasMoney ? console.log(&apos;周末嗨翻天&apos;) : console.log(&apos;周末睡一天&apos;);
</code></pre><p>look，当hasMoney为true的时候，嗨翻天，为false的时候的睡一天。这种操作符在我们的根据简单的判断条件赋值的时候非常有用</p>
<pre><code>let weekendPlan = hasMoney ? &apos;周末嗨翻天&apos; : &apos;周末睡一天&apos;;
</code></pre><p>如此，我们的代码就不会充斥着大量的if判断条件句，还能略显骚气。但是，别骚过度了</p>
<pre><code>val = simpleCondition
    ? 1
    : simpleConditionAgain
    ? 2
    : simpleConditionAgainAndAgain
    ? 3
    : 4;
</code></pre><p>上面的例子有点为了装逼而装逼的感觉，在代码可读性方面有点糟糕，即使换成了if条件句也不甚美观；像这种情况，可以使用switch语句或者策略模式的设计思想优化。</p>
<h2 id="逻辑与操作符-amp-amp"><a href="#逻辑与操作符-amp-amp" class="headerlink" title="逻辑与操作符 &amp;&amp;"></a>逻辑与操作符 &amp;&amp;</h2><p>如果有钱的话，周末就去嗨翻天，但没钱的情况还没有想好要干嘛（虽然没钱的情况干不了什么），常规操作为</p>
<pre><code>if (hasMoney) {
        console.log(&apos;周末嗨翻天&apos;);
    }
</code></pre><p>这个时候使用三目运算符改写的话</p>
<pre><code>hasMoney ? console.log(&apos;周末嗨翻天&apos;) : undefined;
</code></pre><p>有点奇怪，我们不得不写个undefined去告诉程序判断条件为false的时候应该怎么做。使用逻辑与操作符就可以避免这个问题</p>
<pre><code>hasMoney &amp;&amp; console.log(&apos;周末嗨翻天&apos;);
</code></pre><p>逻辑与操作符会使用Boolean函数判断每一个条件(表达式)是否为true，当所有的判断条件都为true的情况下，就会返回最后的表达式的运算结果；但是如果有判断条件为false的话，就会返回第一个判断条件为false的运算结果</p>
<pre><code>true &amp;&amp; console.log(&apos;It is true&apos;);                         // It is truetrue &amp;&amp; false &amp;&amp; console.log(&apos;It is true&apos;);                // 返回 falsetrue &amp;&amp; 0 &amp;&amp; console.log(&apos;It is true&apos;);                    // 返回 0true &amp;&amp; undefined == null &amp;&amp; console.log(&apos;It is true&apos;);    // It is true, 表达式undefined == null的运算结果为truetrue &amp;&amp; undefined === null &amp;&amp; console.log(&apos;It is true&apos;);   // 返回 false, 表达式undefined === null的运算结果为false
</code></pre><p>所以在react中使用逻辑与操作符渲染元素的时候，一定要注意</p>
<pre><code>render() {
    return (
        &lt;Fragment&gt;{
            data.length &amp;&amp; data.map(item =&gt; &lt;span&gt;{ item }&lt;/span&gt;)
        }&lt;/Fragment&gt;
    );
}

// 当没有数据的时候，页面会渲染出一个0
</code></pre><p>上面的例子的本意是当有数据的时候就将数据渲染出来，没有数据的时候，不做任何操作。但是逻辑与操作符会将第一个为false的表达式的运算结果返回，导致返回了个0！</p>
<h2 id="逻辑或操作符"><a href="#逻辑或操作符" class="headerlink" title="逻辑或操作符 ||"></a>逻辑或操作符 ||</h2><p>说到逻辑与操作符，就不得不提它的好基友：逻辑或操作符。考虑下面的场景</p>
<pre><code>// 当自身为undefined时，赋值为0，否则还是赋值为自身
    val = val !== undefined ? val : 0;
</code></pre><p>使用三目运算符去处理上述例子的逻辑时，我们需要显式的判断val是否为空的，然后再决定变量val是否应该等于本身。那么本着能省就省的原则，我们可以使用逻辑或操作符</p>
<pre><code>val = val || 0;
</code></pre><p>逻辑或操作符，其会将第一个表达式的运算结果传入Boolean函数，如果Boolean函数返回true，就会返回这个运算结果；否则将会尝试下一个，直到结束；如果所有的表达式的运算结果对应的布尔值都为false，则返回最后一个表达式的运算结果</p>
<p>故此操作符在向下兼容、设置函数参数的默认值时非常有用</p>
<pre><code>// ES5设置函数默认值functiontestFunc(arg1) {
        arg1 = arg1 || 1;

        // do something else
    }

    let a = 1,
        b = 2,
        c = null;

    console.log(a || b || c);         // 1console.log(0 || b || c);         // 2console.log(0 || false || c);     // null
</code></pre><blockquote>
<p>note: 故此猜想，if条件句里面使用逻辑或、逻辑与操作符，实际上也只是返回表达式的运算结果，然后再隐式调用了Boolean函数得到一个最终的布尔值</p>
</blockquote>
<h2 id="逻辑取反-！"><a href="#逻辑取反-！" class="headerlink" title="逻辑取反 ！"></a>逻辑取反 ！</h2><p>上文说到，有钱的周末可以为所欲为，没钱的周末，估计也就只能选择睡一天了。这种情况下，如果使用hasMoney作为判断标准，我们的代码是这样的</p>
<pre><code>hasMoney === false &amp;&amp; console.log(&apos;周末睡一天&apos;);
</code></pre><p>当hasMoney不是一个布尔值的时候，hasMoney === false语句就会一直返回false，造成有钱的假象。所以我们必须的将hasMoney转换成一个布尔值才能判断，恰好取反操作符可以同时给我们做这两件事</p>
<pre><code>!hasMoney &amp;&amp; console.log(&apos;周末睡一天&apos;);
</code></pre><p>这样就能在没钱的时候睡一天了。</p>
<p>取反操作符能够将一个非Boolean类型的值转化为Boolean类型的值且取反</p>
<pre><code>!true &amp;&amp; console.log(&apos;666&apos;);             // 返回false
!!true &amp;&amp; console.log(&apos;666&apos;);            // 666
{} &amp;&amp; console.log(&apos;666&apos;);                // 报错
!{} &amp;&amp; console.log(&apos;666&apos;);               // 返回false
!!{} &amp;&amp; console.log(&apos;666&apos;);              // 666
</code></pre><h2 id="按位取反操作符"><a href="#按位取反操作符" class="headerlink" title="按位取反操作符 ~"></a>按位取反操作符 ~</h2><p>加入我们需要判断一个数组里面是否存在某个元素，在ES6里面可以使用includes</p>
<pre><code>let arr = [&apos;we&apos;, &apos;are&apos;, &apos;the&apos;, &apos;BlackGold&apos;, &apos;team&apos;];

    arr.includes(&apos;the&apos;) &amp;&amp; console.log(&apos;in&apos;);      // in
</code></pre><p>但是这个方法有比较大的限制：没办法传入一个筛选函数。</p>
<pre><code>let arr = [&apos;we&apos;, &apos;are&apos;, &apos;the&apos;, &apos;BlackGold&apos;, &apos;team&apos;];

    arr.includes(element =&gt; element === &apos;the&apos;) &amp;&amp; console.log(&apos;in&apos;);     // 返回false
</code></pre><p>这种情况下，我们通常可以使用findIndex方法</p>
<pre><code>let arr = [&apos;we&apos;, &apos;are&apos;, &apos;the&apos;, &apos;BlackGold&apos;, &apos;team&apos;];

    arr.findIndex(element =&gt; element === &apos;the&apos;) !== -1 &amp;&amp; console.log(&apos;in&apos;);      // in
</code></pre><p>由于findIndex方法返回的索引是从0开始的，所以我们必须得判断其返回的索引是否不等于-1或者是大于等于0。如果使用按位取反操作符，将不需要显示去判断</p>
<pre><code>let arr = [&apos;we&apos;, &apos;are&apos;, &apos;the&apos;, &apos;BlackGold&apos;, &apos;team&apos;];

    ~arr.findIndex(element =&gt; element === &apos;we&apos;) &amp;&amp; console.log(&apos;in&apos;);      // in
    ~arr.findIndex(element =&gt; element === &apos;the&apos;) &amp;&amp; console.log(&apos;in&apos;);      // in
</code></pre><p>按位取反操作符，顾名思义，就是将变量的每一个比特位取反：0-&gt;1、1-&gt;0</p>
<pre><code>console.log(~-1);       // 0 转换为Boolean值即为falseconsole.log(~0);        // -1 转换为Boolean值即为trueconsole.log(~1);        // -2 转换为Boolean值即为true
</code></pre><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>JavaScript骚操作系列主要总结JavaScript一些好用的特性、方法，以供交流学习之用，不喜勿喷。如有错漏，欢迎指正。</p>
<hr>
<h1 id="window-open只打开一个窗口"><a href="#window-open只打开一个窗口" class="headerlink" title="window.open只打开一个窗口"></a>window.open只打开一个窗口</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;WB_webchat&quot;).addEventListener(&quot;click&quot;, function(e) &#123;</span><br><span class="line">      e.preventDefault();</span><br><span class="line">      oWin &amp;&amp; oWin.close();</span><br><span class="line">      oWin = null;</span><br><span class="line">      oWin = window.open(chatUrl, &quot;newhat&quot;);</span><br><span class="line">      oWin.focus();</span><br><span class="line">  &#125;, false);</span><br></pre></td></tr></table></figure>
<h1 id="前端文件下载"><a href="#前端文件下载" class="headerlink" title="前端文件下载"></a><a href="https://juejin.im/post/5c53e5636fb9a049f36287c2" target="_blank" rel="noopener">前端文件下载</a></h1>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/js/" rel="tag"># js</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/01/01/JS原生常用API大全/" rel="next" title="JS原生常用API大全">
                <i class="fa fa-chevron-left"></i> JS原生常用API大全
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/01/01/JavaScript核武库/" rel="prev" title="JavaScript核武库">
                JavaScript核武库 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/tx.jpg" alt="李斌">
            
              <p class="site-author-name" itemprop="name">李斌</p>
              <p class="site-description motion-element" itemprop="description">想要飞得高，那就把地平线忘掉</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">157</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">111</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/libin1991" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/57e737f6c4c971005f6bcd8d" target="_blank" title="juejin">
                      
                        <i class="fa fa-fw fa-spinner"></i>juejin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-数据"><span class="nav-number">1.</span> <span class="nav-text">1.数据</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-求最大值、最小值"><span class="nav-number">2.</span> <span class="nav-text">2.求最大值、最小值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-取整"><span class="nav-number">3.</span> <span class="nav-text">3.取整</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-求绝对值"><span class="nav-number">4.</span> <span class="nav-text">4.求绝对值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-次幂"><span class="nav-number">5.</span> <span class="nav-text">5.次幂</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-去平方根"><span class="nav-number">6.</span> <span class="nav-text">6.去平方根</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-生成随机数"><span class="nav-number">7.</span> <span class="nav-text">7.生成随机数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-es6中对Math方法的扩展（部分）"><span class="nav-number">8.</span> <span class="nav-text">8.es6中对Math方法的扩展（部分）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-保留位数操作"><span class="nav-number">9.</span> <span class="nav-text">9.保留位数操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10-字符串转数字"><span class="nav-number">10.</span> <span class="nav-text">10.字符串转数字</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件流下载"><span class="nav-number">11.</span> <span class="nav-text">文件流下载</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">11.1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法一"><span class="nav-number">11.2.</span> <span class="nav-text">方法一</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用场景"><span class="nav-number">11.2.1.</span> <span class="nav-text">使用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#具体实现"><span class="nav-number">11.2.2.</span> <span class="nav-text">具体实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法二"><span class="nav-number">11.3.</span> <span class="nav-text">方法二</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用场景-1"><span class="nav-number">11.3.1.</span> <span class="nav-text">使用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#具体实现-1"><span class="nav-number">11.3.2.</span> <span class="nav-text">具体实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法三"><span class="nav-number">11.4.</span> <span class="nav-text">方法三</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用场景-2"><span class="nav-number">11.4.1.</span> <span class="nav-text">使用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#具体实现-2"><span class="nav-number">11.4.2.</span> <span class="nav-text">具体实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">11.5.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方法二和方法三怎么取舍？"><span class="nav-number">11.5.1.</span> <span class="nav-text">方法二和方法三怎么取舍？</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript骚操作之操作符-JavaScript骚操作之操作符"><span class="nav-number">12.</span> <span class="nav-text">JavaScript骚操作之操作符  JavaScript骚操作之操作符</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#三目运算符"><span class="nav-number">12.1.</span> <span class="nav-text">三目运算符 ?:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑与操作符-amp-amp"><span class="nav-number">12.2.</span> <span class="nav-text">逻辑与操作符 &amp;&amp;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑或操作符"><span class="nav-number">12.3.</span> <span class="nav-text">逻辑或操作符 ||</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑取反-！"><span class="nav-number">12.4.</span> <span class="nav-text">逻辑取反 ！</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按位取反操作符"><span class="nav-number">12.5.</span> <span class="nav-text">按位取反操作符 ~</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#结语"><span class="nav-number">12.6.</span> <span class="nav-text">结语</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#window-open只打开一个窗口"><span class="nav-number">13.</span> <span class="nav-text">window.open只打开一个窗口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#前端文件下载"><span class="nav-number">14.</span> <span class="nav-text">前端文件下载</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李斌</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <!--
  	描述：点击红心
  -->
  <script type="text/javascript" src="/js/src/clicklove.js"></script>
  <!--
  	描述：复制代码
  -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</body>
</html>


