<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="Nginx一、安装Nginx1、准备工作 （1）打开虚拟机，使用远程连接工具连接 linux 操作系统  （2）到 nginx 官网下载软件  http://nginx.org/ 2、开始进行 nginx 安装（1）安装 pcre 依赖 第一步联网下载 pcre 压缩文件依赖wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/p">
<meta property="og:type" content="article">
<meta property="og:title" content="nginx+Vim入门">
<meta property="og:url" content="http://yoursite.com/2017/12/15/nginx-Vim入门/index.html">
<meta property="og:site_name" content="啷哩咯啷">
<meta property="og:description" content="Nginx一、安装Nginx1、准备工作 （1）打开虚拟机，使用远程连接工具连接 linux 操作系统  （2）到 nginx 官网下载软件  http://nginx.org/ 2、开始进行 nginx 安装（1）安装 pcre 依赖 第一步联网下载 pcre 压缩文件依赖wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/p">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102553820-1653097356.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102610520-1568314025.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102622854-1627774877.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102726015-172811692.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102802614-510328292.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102827884-232471630.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102837788-914776640.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102851922-1592334025.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102901346-2016909563.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103129000-1647870419.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103141392-957260709.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103147529-141884990.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103200326-1880157403.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103210478-1402408403.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103236151-575997990.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103245851-2135151223.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103257021-406101154.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103434709-133983538.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103440910-1253898902.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103448391-1932086344.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103503613-506507153.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103551408-155195568.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103601180-712857275.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103613911-2017185401.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103620555-1775332206.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103710873-640599395.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103717881-58535625.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103730680-1429030716.png">
<meta property="og:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103745507-149451607.png">
<meta property="og:updated_time" content="2019-12-15T07:37:14.780Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="nginx+Vim入门">
<meta name="twitter:description" content="Nginx一、安装Nginx1、准备工作 （1）打开虚拟机，使用远程连接工具连接 linux 操作系统  （2）到 nginx 官网下载软件  http://nginx.org/ 2、开始进行 nginx 安装（1）安装 pcre 依赖 第一步联网下载 pcre 压缩文件依赖wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/p">
<meta name="twitter:image" content="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102553820-1653097356.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/12/15/nginx-Vim入门/">





  <title>nginx+Vim入门 | 啷哩咯啷</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband">
    	<div class="eevee"><div class="body"><div class="head"><div class="ears"><div class="ear"><div class="lobe"></div></div><div class="ear"><div class="lobe"></div></div></div><div class="face"><div class="eyes"><div class="eye"><div class="eyelid"></div></div><div class="eye"><div class="eyelid"></div></div></div><div class="nose"></div><div class="mouth"></div></div></div><div class="chest"><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div></div><div class="legs"><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div></div><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail -end"></div></div></div></div></div></div></div></div>
    </div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
    	<div id="sky">
				<div id="background" class="container">
			<!-- svg file -->
			<svg id="svgout" height="100%" width="100%" viewbox="0 0 550 400">
				<defs>
					<g id="bottomShadow">
						<path fill="#000000" stroke="none" d="
		M 270.5 225.95
		L 127.35 316.65 266.8 400 409.6 309.25 270.5 225.95 Z"/>
					</g>
					<g id="Layer52_0_FILL">
						<path class="topGrass" fill="#B9D668" stroke="none" d="
	M 397.85 229.3
	L 397.85 225.6 269.85 152 135.75 228.6 135.75 233.65 262.1 306.55 397.85 229.3 Z"/>
					</g>
					<g id="Layer51_0_FILL">
						<path class="leftSideGrass" fill="#6E9E4F" stroke="none" d="
	M 135.1 229.95
	L 135.1 256.85 262.1 328.4 262.1 301.85 135.1 229.95 Z"/>
					</g>
					<g id="Layer50_0_FILL">
						<path class="rightGrassTop" fill="#8CB154" stroke="none" d="
	M 397.85 225.95
	L 395.8 225.95 261.75 301.55 261.75 328.4 397.85 251.15 397.85 225.95 Z"/>
					</g>
					<g id="Layer48_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.45 282.4
	L 135.75 298.15 262.1 372.1 261.75 355.65 135.45 282.4 Z"/>
					</g>
					<g id="Layer47_0_FILL">
						<path class="middleLeftCrust" fill="#C77E61" stroke="none" d="
	M 135.1 270.3
	L 135.1 283.05 275.9 364.35 271.85 348.9 135.1 270.3 Z"/>
					</g>
					<g id="Layer46_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.1 255.15
	L 135.1 270.3 262.1 343.55 262.1 328.05 135.1 255.15 Z"/>
					</g>
					<g id="Layer45_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 294.5
	L 397.5 277 261.75 355.3 261.75 372.75 397.5 294.5 Z"/>
					</g>
					<g id="Layer44_0_FILL">
						<path class="middleRightCrust" fill="#C89451" stroke="none" d="
	M 397.5 269.95
	L 397.15 266.6 262.1 343.2 262.1 355.95 397.5 279.7 397.5 269.95 Z"/>
					</g>
					<g id="Layer43_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 266.6
	L 397.5 250.45 261.75 328.4 261.75 343.85 397.5 266.6 Z"/>
					</g>
					<g id="Layer41_0_FILL">
						<path class="greyRoad" fill="#B2B2B1" stroke="none" d="
	M 295.05 283.05
	Q 299.05 280.35 308.45 275.3 317.85 269.95 323.6 266.9
	L 268.8 233.65 338.05 191.35 309.15 174.55 177.75 254.5
	Q 191.55 262.2 198.25 266.25 204.65 269.95 209.7 271.95
	L 241.6 250.45 295.05 283.05 Z"/>
					</g>
					<g id="Layer40_0_FILL">
						<path fill="#FFFFFF" stroke="none" d="
	M 199.95 256.85
	Q 194.55 261.2 191.9 262.2
	L 194.9 263.9 200.95 259.2 199.95 256.85
	M 225.8 243.75
	L 224.8 241.75 211.05 250.8 212.05 252.8 225.8 243.75
	M 308.15 275.65
	L 296.7 266.6 295.35 268.6 306.8 277.7 308.15 275.65
	M 275.9 253.5
	L 274.55 255.5 285.95 264.55 287.3 262.55 275.9 253.5
	M 251.7 227.3
	L 250.7 225.25 236.9 234.35 237.9 236.35 251.7 227.3
	M 257.05 240.7
	L 254.05 240.7 268.8 249.8 269.5 247.75 257.05 240.7
	M 277.2 207.8
	L 263.45 216.85 264.45 218.9 278.25 209.8 277.2 207.8
	M 305.1 192.65
	L 304.1 190.65 290.3 199.75 291.35 201.75 305.1 192.65 Z"/>
					</g>
					<g id="Layer38_0_FILL">
						<path class="frontFascia" fill="#ECB27B" stroke="none" d="
	M 359.25 187.95
	L 346.4 174.95 333.85 202.9 359.25 187.95 Z"/>
					</g>
					<g id="Layer37_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 334 201.05
	L 334.35 232 359.2 217.55 359.25 187.95 334 201.05 Z"/>
					</g>
					<g id="Layer36_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 334.35 232.3
	L 334.35 205.1 305.1 191.35 305.1 216.85 334.35 232.3 Z"/>
					</g>
					<g id="Layer35_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 329.7 167.9
	L 331.05 167.9 344.55 176.7 347.85 176.7 363 192.25 363.15 189.55 350.65 176.7 350.55 176.7 334.25 167.5 334.25 159.1 329.7 159.1 329.7 164.9 322.65 160.95 322.3 162.15 329.7 167 329.7 167.9 Z"/>
					</g>
					<g id="Layer34_0_FILL">
						<path class="leftRoof" fill="#F2563B" stroke="none" d="
	M 334.05 207.05
	L 350.65 176.7 322.1 160.45 302.1 192.05 334.05 207.05 Z"/>
					</g>
					<g id="Layer30_0_FILL">
						<path id="windowFour" class="windows" stroke="none" fill="#975A42" d="
	M 341.35 203.3
	Q 340.9 203.45 340.5 203.8 340.1 204.2 339.85 204.75 339.7 205 339.7 205.3 339.6 205.75 339.7 206.1 339.7 206.15 339.7 206.2 339.8 206.5 340 206.8 340.55 207.4 341.45 207.4 342.35 207.4 343 206.8 343.4 206.5 343.65 206.1 343.85 205.75 343.95 205.3 344.05 204.4 343.55 203.8 343.3 203.45 343 203.3 342.65 203.15 342.2 203.15 341.8 203.15 341.35 203.3
	M 355.85 198.45
	Q 355.8 198.2 355.6 198 355.1 197.4 354.2 197.4 353.35 197.4 352.6 198 351.85 198.65 351.7 199.55 351.7 199.7 351.7 199.85 351.6 200.5 352 201.05 352.55 201.65 353.45 201.65 354.3 201.65 355.05 201.05 355.45 200.7 355.7 200.25 355.8 200.05 355.9 199.85 355.95 199.7 355.95 199.55 356.05 198.95 355.85 198.45 Z"/>
						<path class="door" fill="#B65041" stroke="none" d="
	M 351.95 211.2
	L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2
	M 351.2 211.2
	L 351.35 211.2 351.35 211.1 351.2 211.2 Z"/>
					</g>
					<g>
						<path id="Layer30_0_FILL" fill="#000000" fill-opacity="1" stroke="none" d="
	M 183.7 215.3
	L 183.7 215.6
	Q 187.25 231.75 212.25 234.35
	L 183.7 215.3 Z"/>
					</g>
					<g id="Layer29_0_FILL">
						<path fill="#000000" fill-opacity="0.4" stroke="none" d="
	M 305.1 216.85
	L 305.15 217.2
	Q 309.45 233.2 334.35 232.3
	L 305.1 216.85 Z"/>
					</g>
					<g id="Layer27_0_FILL">
						<path class="vegetation" fill="#78A950" stroke="none" d="
	M 177.45 231.65
	Q 175.75 235.35 181.8 239.35 185.5 235.7 185.15 231.3 182.8 230.65 181.45 234 179.45 231.3 177.45 231.65
	M 236.9 266.6
	Q 235.2 270.3 241.25 274.3 244.95 270.6 244.65 266.25 242.3 265.6 240.95 268.95 238.9 266.25 236.9 266.6
	M 254.7 277
	Q 253.05 280.7 259.1 284.75 262.75 281.05 262.45 276.65 260.1 276 258.75 279.35 256.7 276.65 254.7 277
	M 315.5 245.75
	Q 313.5 243.05 311.5 243.4 309.8 247.1 315.85 251.15 319.55 247.45 319.2 243.05 316.85 242.4 315.5 245.75
	M 295.35 232.65
	Q 293.7 236.35 299.75 240.4 303.45 236.7 303.1 232.3 300.75 231.65 299.4 235 297.4 232.3 295.35 232.65
	M 277.2 171.85
	Q 275.55 175.55 281.6 179.55 285.3 175.85 284.95 171.5 282.6 170.85 281.25 174.2 279.25 171.5 277.2 171.85 Z"/>
					</g>
					<g id="Layer26_0_FILL">
						<path class="treeWood" fill="#AE663D" stroke="none" d="
	M 175.1 177.55
	L 172.05 177.55 172.05 191.1 159.3 172.85
	Q 154.6 171.5 172.05 195.7
	L 172.05 212.5 175.1 212.5 175.1 177.55
	M 252.7 151.35
	L 249 151.35 249 176.9 252.7 176.9 252.7 151.35 Z"/>
					</g>
					<g id="Layer25_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 192.55 179.55
	Q 200.95 173.5 200.95 165.1 200.95 156.4 192.55 150 184.15 144.3 172.05 144.3 160.3 144.3 151.9 150 143.15 156.4 143.15 165.1 143.15 173.5 151.9 179.55 160.3 185.95 172.05 185.95 184.15 185.95 192.55 179.55
	M 236.25 106.65
	Q 230.2 116.05 230.2 129.15 230.2 142.25 236.25 151.35 242.3 160.75 250.7 160.75 258.75 160.75 264.8 151.35 270.85 142.25 270.85 129.15 270.85 116.05 264.8 106.65 258.75 97.6 250.7 97.6 242.3 97.6 236.25 106.65 Z"/>
					</g>
					<g id="Layer24_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 158.3 221.9
	Q 160.65 221.9 161.95 220.2 163 219.55 163.3 218.55 164.65 218.9 166.35 218.9 170.05 218.9 172.4 216.2 175.1 213.85 175.1 210.15 175.1 206.45 172.4 203.75 170.05 201.4 166.35 201.4 162.65 201.4 159.95 203.75 157.6 206.45 157.6 210.15 157.6 210.8 157.6 211.15 155.95 211.5 154.6 212.5 152.9 214.15 152.9 216.55 152.9 218.9 154.6 220.2 156.25 221.9 158.3 221.9
	M 338.35 240.05
	Q 341.05 237.7 341.05 234 341.05 230.3 338.35 227.6 336 225.25 332.3 225.25 328.65 225.25 325.95 227.6 323.6 230.3 323.6 234 323.6 237.7 325.95 240.05 328.65 242.75 332.3 242.75 336 242.75 338.35 240.05 Z"/>
					</g>
					<g id="Layer22_0_FILL">
						<path class="rightRoof" fill="#D05041" stroke="none" d="
	M 220 173.85
	L 236.8 186.7 264.35 171.15 244.5 159.55 220 173.85 Z"/>
					</g>
					<g id="Layer21_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 212.25 191.35
	L 183.35 172.3 183.7 215.3 212.25 234.35 212.25 191.35 Z"/>
					</g>
					<g id="Layer20_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 192.1 149.85
	L 236.45 174.8 243.1 171.4
	Q 220.05 150.55 196.3 139.95
	L 192.1 149.85 Z"/>
					</g>
					<g id="Layer19_0_FILL">
						<path class="frontFascia" fill="#EBB17B" stroke="none" d="
	M 226.85 160.95
	L 212 190.6 229.75 192.6 239.75 172.85 226.85 160.95 Z"/>
					</g>
					<g id="Layer18_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 240.15 172.65
	L 211.9 191.6 212.25 233.65 264.35 201.7 264.35 170.8 240.8 184.45 240.15 172.65 Z"/>
					</g>
					<g id="Layer17_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 210.9 142.2
	L 205.9 142.2 205.9 152.65 210.9 152.65 210.9 142.2 Z"/>
					</g>
					<g>
						<path id="Layer16_0_FILL" class="leftRoof" fill="#F2563B" stroke="none" d="
	M 210.25 195.5
	L 227.4 160.95 195.45 141.35 177.65 175.85 210.25 195.5 Z"/>
					</g>
					<g>
						<path id="sun" fill="#E3BD0E" stroke="none" d="
	M 257.05 15.95
	Q 251.7 15.95 248 19.65 244.3 23.35 244.3 28.7 244.3 34.1 248 37.8 251.7 41.5 257.05 41.5 262.45 41.5 266.15 37.8 269.85 34.1 269.85 28.7 269.85 23.35 266.15 19.65 262.45 15.95 257.05 15.95 Z"/>
					</g>
					<g id="Layer8_0_FILL">
						<path fill="#975A42" stroke="none" d="
	M 238.45 189.65
	Q 238.295703125 189.362109375 238.05 189.1 237.35 188.3 236.2 188.3 235.05 188.3 234.15 189.1 233.3 189.9 233.2 191.05 233.1 192.2 233.8 193 234.55 193.8 235.7 193.8 236.85 193.8 237.7 193 238.1970703125 192.558203125 238.45 192 238.6552734375 191.56484375 238.7 191.05 238.7671875 190.276953125 238.45 189.65
	M 220.55 197.55
	Q 220 197.55 219.5 197.75 218.95 197.95 218.5 198.35 217.933203125 198.8833984375 217.7 199.55 217.5833984375 199.916796875 217.55 200.3 217.4923828125 200.96171875 217.7 201.5 217.852734375 201.9103515625 218.15 202.25 218.95 203.05 220.1 203.05 221.25 203.05 222.05 202.25 222.95 201.45 223.05 200.3 223.15 199.15 222.4 198.35 222.05 197.95 221.65 197.75 221.15 197.55 220.55 197.55 Z"/>
					</g>
					<g id="Layer7_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 233.55 206.75
	L 225.9 211.95 226.25 225.5 233.95 220.35 233.55 206.75 Z"/>
					</g>
					<g>
						<path id="windowOne" class="windows" fill="#975A42" stroke="none" d="
	M 188.65 198.4
	L 188.8 204.1 198.65 210.45 198.55 204.75 188.65 198.4
	M 208.45 216.8
	L 208.35 211.1 198.55 204.75 198.65 210.45 208.45 216.8
	M 188.8 204.1
	L 188.95 209.8 198.8 216.15 198.65 210.45 188.8 204.1
	M 208.6 222.5
	L 208.45 216.8 198.65 210.45 198.8 216.15 208.6 222.5 Z"/>
					</g>
					<g>
						<path id="windowThree" class="windows" fill="#975A42" stroke="none" d="
	M 311.7 214.1
	L 318.55 217.55 318.45 211.9 311.6 208.45 311.7 214.1
	M 325.4 221
	L 325.25 215.35 318.45 211.9 318.55 217.55 325.4 221
	M 318.4 206.2
	L 311.5 202.75 311.6 208.45 318.45 211.9 318.4 206.2
	M 325.25 215.35
	L 325.2 209.7 318.4 206.2 318.45 211.9 325.25 215.35 Z"/>
					</g>
					<g id="Layer2_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 259.7 183.25
	L 244.6 191.9 244.6 213.8 259.7 204.55 259.7 183.25 Z"/>
					</g>
					<path id="windowTwo" fill="#975A42" class="windows" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" d="
	M 223.05 200.3
	Q 222.95 201.45 222.05 202.25 221.25 203.05 220.1 203.05 218.95 203.05 218.15 202.25 217.852734375 201.9103515625 217.7 201.5 217.4923828125 200.96171875 217.55 200.3 217.5833984375 199.916796875 217.7 199.575 217.933203125 198.8833984375 218.5 198.35 218.95 197.95 219.5 197.75 220 197.55 220.55 197.55 221.15 197.55 221.65 197.75 222.05 197.95 222.4 198.35 223.15 199.15 223.05 200.3 Z
	M 238.7 191.05
	Q 238.6552734375 191.56484375 238.45 192 238.1970703125 192.558203125 237.7 193 236.85 193.8 235.7 193.8 234.55 193.8 233.8 193 233.1 192.2 233.2 191.05 233.3 189.9 234.15 189.1 235.05 188.3 236.2 188.3 237.35 188.3 238.05 189.1 238.295703125 189.362109375 238.45 189.65 238.7671875 190.276953125 238.7 191.05 Z"/>
					<path fill="#F2563B" stroke="none" d=" M 351.95 211.2 L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2 Z"/>
					<path id="Layer6_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 198.55 204.75
	L 208.35 211.1 208.45 216.8 208.6 222.5 198.8 216.15 188.95 209.8 188.8 204.1 188.65 198.4 198.55 204.75 198.65 210.45 208.45 216.8
	M 198.8 216.15
	L 198.65 210.45 188.8 204.1"/>
					<path id="Layer5_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 325.25 215.35
	L 325.4 221 318.55 217.55 311.7 214.1 311.6 208.45 311.5 202.75 318.4 206.2 325.2 209.7 325.25 215.35 318.45 211.9 318.55 217.55
	M 318.4 206.2
	L 318.45 211.9 311.6 208.45"/>
				</defs>
				<g id="shadow">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use xlink:href="#bottomShadow"/>
					</g>
				</g>
				<g transform="matrix( 1, 0, 0, 1, 0,0) ">
					<use xlink:href="#sun"/>
				</g>
				<g id="earth">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer52_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer51_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer50_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer48_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer47_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer46_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer45_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer44_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer43_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer41_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer40_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer38_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer37_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer36_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer35_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer34_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowFour"/>
						<use class="element" xlink:href="#Layer32_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer30_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer27_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer26_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer25_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer24_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer22_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer21_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer20_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer19_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer18_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer17_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer16_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer8_0_FILL"/>
						<use class="element" xlink:href="#windowTwo"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer7_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowOne"/>
						<use class="element" xlink:href="#Layer6_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowThree"/>
						<use class="element" xlink:href="#Layer5_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer2_0_FILL"/>
					</g>
				</g>
			</svg>
			<! -- End of SVG file -->
			<! -- Moon/Sun Toggle -->
			<div id="toggleButton" class="day-toggle">
				<div class="sun-icon"></div>
				<label class="switch">
            <input id="toggleCheckbox" type="checkbox">
            <div class="slider"></div>
        </label>
				<div class="cloud-icon"></div>
			</div>
			<! -- Moon/Sun Toggle -->
			<! -- End of Container -->
		</div>
			</div>
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">啷哩咯啷</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">打工是不可能打工的， 这辈子都不可能打工的！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/15/nginx-Vim入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李斌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/tx.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="啷哩咯啷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">nginx+Vim入门</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-15T14:43:02+08:00">
                2017-12-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a><a href="https://www.cnblogs.com/LiuQizhong/p/11757420.html" target="_blank" rel="noopener">Nginx</a></h2><h2 id="一、安装Nginx"><a href="#一、安装Nginx" class="headerlink" title="一、安装Nginx"></a><strong>一、安装Nginx</strong></h2><h2 id="1、准备工作"><a href="#1、准备工作" class="headerlink" title="1、准备工作 "></a><strong>1、准备工作 </strong></h2><p>（1）打开虚拟机，使用远程连接工具连接 linux 操作系统 </p>
<p>（2）到 nginx 官网下载软件 </p>
<p><a href="http://nginx.org/" target="_blank" rel="noopener">http://nginx.org/</a></p>
<h2 id="2、开始进行-nginx-安装"><a href="#2、开始进行-nginx-安装" class="headerlink" title="2、开始进行 nginx 安装"></a>2、开始进行 nginx 安装</h2><h3 id="（1）安装-pcre-依赖"><a href="#（1）安装-pcre-依赖" class="headerlink" title="（1）安装 pcre 依赖 "></a><strong>（1）安装 pcre 依赖 </strong></h3><h4 id="第一步联网下载-pcre-压缩文件依赖"><a href="#第一步联网下载-pcre-压缩文件依赖" class="headerlink" title="第一步联网下载 pcre 压缩文件依赖"></a>第一步联网下载 pcre 压缩文件依赖</h4><pre><code>wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/pcre-8.37.tar.gz
</code></pre><h4 id="第二步解压压缩文件"><a href="#第二步解压压缩文件" class="headerlink" title="第二步解压压缩文件"></a>第二步解压压缩文件</h4><p>使用命令 tar –xvf pcre-8.37.tar.gz</p>
<h4 id="第三步-configure-完成后，回到-pcre-目录下执行-make，最后执行-make-install"><a href="#第三步-configure-完成后，回到-pcre-目录下执行-make，最后执行-make-install" class="headerlink" title="第三步./configure 完成后，回到 pcre 目录下执行 make，最后执行 make install"></a>第三步./configure 完成后，回到 pcre 目录下执行 make，最后执行 make install</h4><p>查看pcre依赖是否安装成功：pcre-config –version</p>
<h3 id="（2）安装-openssl-、zlib-、-gcc-依赖"><a href="#（2）安装-openssl-、zlib-、-gcc-依赖" class="headerlink" title="（2）安装 openssl 、zlib 、 gcc 依赖 "></a><strong>（2）安装 openssl 、zlib 、 gcc 依赖 </strong></h3><pre><code>yum -y install make zlib zlib-devel gcc-c++ libtool openssl openssl-devel
</code></pre><h3 id="（3）安装-nginx"><a href="#（3）安装-nginx" class="headerlink" title="（3）安装 nginx "></a><strong>（3）安装 nginx </strong></h3><ul>
<li><p>使用命令解压 </p>
</li>
<li><p>./configure</p>
</li>
<li><p>make &amp;&amp; make install</p>
</li>
</ul>
<p>进入目录 /usr/local/nginx/sbin/nginx 启动服务</p>
<p><strong>安装后，不能访问的，需要对防火墙进行设置</strong></p>
<p><strong>也可以直接关闭防火墙，并防止自启(在练习模式中)</strong></p>
<pre><code>//关闭防火墙&amp;&amp;防火墙自启
systemctl stop firewalld &amp;&amp; systemctl disable firewalld

//安装Iptables管理工具&amp;&amp;启动Iptables&amp;&amp;设为Iptables开机自启&amp;&amp;清空Iptables规则&amp;&amp;保存Iptables默认规则
yum -y install iptables-services &amp;&amp; systemctl start iptables &amp;&amp; systemctl enable iptables&amp;&amp; iptables -F &amp;&amp; service iptables save** **
</code></pre><p>①　查看开放的端口</p>
<p>firewall-cmd –list-all</p>
<p><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102553820-1653097356.png" alt></p>
<p>②　设置开放的端口号</p>
<p>firewall-cmd –add-service=http –permanent</p>
<p>firewall-cmd –add-port=80/tcp –permanent</p>
<p>③　设置之后需要重启防火墙</p>
<p>firewall-cmd –reload</p>
<p><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102610520-1568314025.png" alt></p>
<p>④　访问成功</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102622854-1627774877.png" alt></p>
<h1 id="二、Nginx常用命令"><a href="#二、Nginx常用命令" class="headerlink" title="二、Nginx常用命令"></a><strong>二、Nginx常用命令</strong></h1><p>进入 nginx 目录中: cd /usr/local/nginx/sbin</p>
<h2 id="1、查看-nginx-版本号"><a href="#1、查看-nginx-版本号" class="headerlink" title="1、查看 nginx 版本号"></a><strong>1、查看 nginx 版本号</strong></h2><p>./nginx -v</p>
<h2 id="2、启动-nginx"><a href="#2、启动-nginx" class="headerlink" title="2、启动 nginx "></a><strong>2、启动 nginx </strong></h2><p>./nginx</p>
<p>查看是否启动成功：ps -ef|grep nginx</p>
<p><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102726015-172811692.png" alt></p>
<h2 id="3、停止-nginx"><a href="#3、停止-nginx" class="headerlink" title="3、停止 nginx "></a><strong>3、停止 nginx </strong></h2><p>./nginx -s stop</p>
<h2 id="4、重新加载-nginx"><a href="#4、重新加载-nginx" class="headerlink" title="4、重新加载 nginx "></a><strong>4、重新加载 nginx </strong></h2><p>./nginx -s reload</p>
<h1 id="三、nginx-conf配置文件"><a href="#三、nginx-conf配置文件" class="headerlink" title="三、nginx.conf配置文件"></a><strong>三、nginx.conf配置文件</strong></h1><h2 id="1、位置"><a href="#1、位置" class="headerlink" title="1、位置"></a><strong>1、位置</strong></h2><p>vim /usr/local/nginx/conf/nginx.conf</p>
<h2 id="2、配置文件中的内容（包含三部分）"><a href="#2、配置文件中的内容（包含三部分）" class="headerlink" title="2、配置文件中的内容（包含三部分）"></a><strong>2、配置文件中的内容（包含三部分）</strong></h2><h3 id="（1）全局块：配置服务器整体运行的配置指令"><a href="#（1）全局块：配置服务器整体运行的配置指令" class="headerlink" title="（1）全局块：配置服务器整体运行的配置指令"></a>（1）全局块：配置服务器整体运行的配置指令</h3><p>从配置文件开始到 events 块之间的内容，主要会设置一些影响 nginx 服务器整体运行的配置指令，主要包括配 </p>
<p>置运行 Nginx 服务器的用户（组）、允许生成的 worker process 数，进程 PID 存放路径、日志存放路径和类型以 </p>
<p>及配置文件的引入等。</p>
<p>比如上面第一行配置的：</p>
<p>这是 Nginx 服务器并发处理服务的关键配置，worker_processes 值越大，可以支持的并发处理量也越多，但是 </p>
<p>会受到硬件、软件等设备的制约</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102802614-510328292.png" alt></p>
<h3 id="（2）events-块：影响-Nginx-服务器与用户的网络连接"><a href="#（2）events-块：影响-Nginx-服务器与用户的网络连接" class="headerlink" title="（2）events 块：影响 Nginx 服务器与用户的网络连接"></a>（2）events 块：影响 Nginx 服务器与用户的网络连接</h3><p>events 块涉及的指令主要影响 Nginx 服务器与用户的网络连接，常用的设置包括是否开启对多 work process </p>
<p>下的网络连接进行序列化，是否允许同时接收多个网络连接，选取哪种事件驱动模型来处理连接请求，每个 word</p>
<p>process 可以同时支持的最大连接数等。 </p>
<p>上述例子就表示每个 work process 支持的最大连接数为 1024. </p>
<p>这部分的配置对 Nginx 的性能影响较大，在实际中应该灵活配置。</p>
<p><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102827884-232471630.png" alt></p>
<h3 id="（3）http-块"><a href="#（3）http-块" class="headerlink" title="（3）http 块"></a>（3）http 块</h3><p>这算是 Nginx 服务器配置中最频繁的部分，代理、缓存和日志定义等绝大多数功能和第三方模块的配置都在这里。 </p>
<p>需要注意的是：http 块也可以包括 http 全局块、server 块。 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102837788-914776640.png" alt></p>
<h4 id="①、http-全局块"><a href="#①、http-全局块" class="headerlink" title="①、http 全局块"></a>①、http 全局块</h4><p>http 全局块配置的指令包括文件引入、MIME-TYPE 定义、日志自定义、连接超时时间、单链接请求数上限等。</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102851922-1592334025.png" alt></p>
<h4 id="②、server-块"><a href="#②、server-块" class="headerlink" title="②、server 块"></a>②、server 块</h4><p>这块和虚拟主机有密切关系，虚拟主机从用户角度看，和一台独立的硬件主机是完全一样的，该技术的产生是为了</p>
<p>节省互联网服务器硬件成本。</p>
<p>每个 http 块可以包括多个 server 块，而每个 server 块就相当于一个虚拟主机。 </p>
<p>而每个 server 块也分为全局 server 块，以及可以同时包含多个 locaton 块。 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102901346-2016909563.png" alt></p>
<h5 id="全局-server-块"><a href="#全局-server-块" class="headerlink" title="全局 server 块"></a>全局 server 块</h5><p>最常见的配置是本虚拟机主机的监听配置和本虚拟主机的名称或 IP 配置。 </p>
<h5 id="location-块"><a href="#location-块" class="headerlink" title="location 块"></a>location 块</h5><p>一个 server 块可以配置多个 location 块。 </p>
<p>这块的主要作用是基于 Nginx 服务器接收到的请求字符串（例如 server_name/uri-string），对虚拟主机名称 </p>
<p>（也可以是 IP 别名）之外的字符串（例如 前面的 /uri-string）进行匹配，对特定的请求进行处理。地址定向、数据缓 </p>
<p>存和应答控制等功能，还有许多第三方模块的配置也在这里进行。</p>
<h1 id="四、Nginx-反向代理实例-2"><a href="#四、Nginx-反向代理实例-2" class="headerlink" title="四、Nginx 反向代理实例 2"></a><strong>四、Nginx 反向代理实例 2</strong></h1><h2 id="1、实现效果"><a href="#1、实现效果" class="headerlink" title="1、实现效果 "></a><strong>1、实现效果 </strong></h2><p>打开浏览器，在浏览器地址栏输入地址 <a href="http://www.123.com，跳转到" target="_blank" rel="noopener">www.123.com，跳转到</a> liunx 系统 tomcat 主页 </p>
<p>面中</p>
<h2 id="2、准备工作"><a href="#2、准备工作" class="headerlink" title="2、准备工作 "></a><strong>2、准备工作 </strong></h2><h3 id="（1）在-liunx-系统安装-tomcat，使用默认端口-8080"><a href="#（1）在-liunx-系统安装-tomcat，使用默认端口-8080" class="headerlink" title="（1）在 liunx 系统安装 tomcat，使用默认端口 8080 "></a><strong>（1）在 liunx 系统安装 tomcat，使用默认端口 8080 </strong></h3><ul>
<li><p>tomcat 安装文件放到 liunx 系统中，解压 </p>
</li>
<li><p>进入 tomcat 的 bin 目录中，./startup.sh 启动 tomcat 服务器 </p>
</li>
</ul>
<h3 id="（2）对外开放访问的端口"><a href="#（2）对外开放访问的端口" class="headerlink" title="（2）对外开放访问的端口"></a><strong>（2）对外开放访问的端口</strong></h3><p>firewall-cmd –add-port=8080/tcp –permanent</p>
<p>firewall-cmd –reload</p>
<p>查看已经开放的端口号</p>
<p>firewall-cmd –list-all</p>
<h3 id="（3）在-windows-系统中通过浏览器访问-tomcat-服务器"><a href="#（3）在-windows-系统中通过浏览器访问-tomcat-服务器" class="headerlink" title="（3）在 windows 系统中通过浏览器访问 tomcat 服务器"></a><strong>（3）在 windows 系统中通过浏览器访问 tomcat 服务器</strong></h3><h2 id="3、访问过程的分析"><a href="#3、访问过程的分析" class="headerlink" title="3、访问过程的分析 "></a><strong>3、访问过程的分析 </strong></h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103129000-1647870419.png" alt></p>
<h2 id="4、具体配置"><a href="#4、具体配置" class="headerlink" title="4、具体配置 "></a><strong>4、具体配置 </strong></h2><p>第一步在 windows 系统的 host 文件进行域名和 ip 对应关系的配置 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103141392-957260709.png" alt></p>
<p>添加内容在 host 文件中</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103147529-141884990.png" alt></p>
<p>第二步在 nginx 进行请求转发的配置（反向代理配置） </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103200326-1880157403.png" alt></p>
<h2 id="5、最终测试"><a href="#5、最终测试" class="headerlink" title="5、最终测试 "></a><strong>5、最终测试 </strong></h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103210478-1402408403.png" alt></p>
<h1 id="五、Nginx-反向代理实例-2"><a href="#五、Nginx-反向代理实例-2" class="headerlink" title="五、Nginx 反向代理实例 2"></a><strong>五、Nginx 反向代理实例 2</strong></h1><h2 id="1、实现效果-1"><a href="#1、实现效果-1" class="headerlink" title="1、实现效果 "></a><strong>1、实现效果 </strong></h2><p>使用 nginx 反向代理，根据访问的路径跳转到不同端口的服务中 </p>
<p>nginx 监听端口为 9001，</p>
<p>访问 <a href="http://192.168.17.129:9001/edu/" target="_blank" rel="noopener">http://192.168.17.129:9001/edu/</a> 直接跳转到 127.0.0.1:8080 </p>
<p>访问 http:// 192.168.17.129:9001/vod/ 直接跳转到 127.0.0.1:8081 </p>
<h2 id="2、准备工作-1"><a href="#2、准备工作-1" class="headerlink" title="2、准备工作 "></a><strong>2、准备工作 </strong></h2><p>（1）准备两个 tomcat 服务器，一个 8080 端口，一个 8081 端口 </p>
<p>（2）创建文件夹和测试页面 </p>
<h2 id="3、具体配置"><a href="#3、具体配置" class="headerlink" title="3、具体配置 "></a><strong>3、具体配置 </strong></h2><p>（1）找到 nginx 配置文件，进行反向代理配置 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103236151-575997990.png" alt></p>
<p>（2）开放对外访问的端口号 9001 8080 8081 </p>
<h2 id="4、最终测试"><a href="#4、最终测试" class="headerlink" title="4、最终测试"></a><strong>4、最终测试</strong></h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103245851-2135151223.png" alt></p>
<h1 id="六、Nginx-配置实例-负载均衡"><a href="#六、Nginx-配置实例-负载均衡" class="headerlink" title="六、Nginx 配置实例-负载均衡"></a><strong>六、Nginx 配置实例-负载均衡</strong></h1><h2 id="1、实现效果-2"><a href="#1、实现效果-2" class="headerlink" title="1、实现效果 "></a><strong>1、实现效果 </strong></h2><p>（1）浏览器地址栏输入地址 <a href="http://192.168.17.129/edu/a.html，负载均衡效果，平均" target="_blank" rel="noopener">http://192.168.17.129/edu/a.html，负载均衡效果，平均</a> 8080 </p>
<p>和 8081 端口中 </p>
<h2 id="2、准备工作-2"><a href="#2、准备工作-2" class="headerlink" title="2、准备工作 "></a><strong>2、准备工作 </strong></h2><p>（1）准备两台 tomcat 服务器，一台 8080，一台 8081 </p>
<p>（2）在两台 tomcat 里面 webapps 目录中，创建名称是 edu 文件夹，在 edu 文件夹中创建 </p>
<p>页面 a.html，用于测试 </p>
<h2 id="3、在-nginx-的配置文件中进行负载均衡的配置"><a href="#3、在-nginx-的配置文件中进行负载均衡的配置" class="headerlink" title="3、在 nginx 的配置文件中进行负载均衡的配置 "></a><strong>3、在 nginx 的配置文件中进行负载均衡的配置 </strong></h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103257021-406101154.png" alt></p>
<h2 id="4、nginx-分配服务器策略"><a href="#4、nginx-分配服务器策略" class="headerlink" title="4、nginx 分配服务器策略 "></a><strong>4、nginx 分配服务器策略 </strong></h2><h3 id="第一种轮询（默认）"><a href="#第一种轮询（默认）" class="headerlink" title="第一种轮询（默认）"></a><strong>第一种轮询（默认）</strong></h3><p>每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器 down 掉，能自动剔除。 </p>
<h3 id="第二种-weight"><a href="#第二种-weight" class="headerlink" title="第二种 weight "></a><strong>第二种 weight </strong></h3><p>weight 代表权重默认为 1,权重越高被分配的客户端越多 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103434709-133983538.png" alt></p>
<h3 id="第三种-ip-hash"><a href="#第三种-ip-hash" class="headerlink" title="第三种 ip_hash "></a><strong>第三种 ip_hash </strong></h3><p>每个请求按访问 ip 的 hash 结果分配，这样每个访客固定访问一个后端服务器 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103440910-1253898902.png" alt></p>
<h3 id="第四种-fair（第三方）"><a href="#第四种-fair（第三方）" class="headerlink" title="第四种 fair（第三方） "></a><strong>第四种 fair（第三方） </strong></h3><p>按后端服务器的响应时间来分配请求，响应时间短的优先分配。</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103448391-1932086344.png" alt></p>
<h1 id="七、Nginx-配置实例-动静分离"><a href="#七、Nginx-配置实例-动静分离" class="headerlink" title="七、Nginx 配置实例-动静分离"></a><strong>七、Nginx 配置实例-动静分离</strong></h1><h2 id="1、什么是动静分离"><a href="#1、什么是动静分离" class="headerlink" title="1、什么是动静分离 "></a><strong>1、什么是动静分离 </strong></h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103503613-506507153.png" alt></p>
<p>Nginx 动静分离简单来说就是把动态跟静态请求分开，不能理解成只是单纯的把动态页面和 </p>
<p>静态页面物理分离。严格意义上说应该是动态请求跟静态请求分开，可以理解成使用 Nginx</p>
<p>处理静态页面，Tomcat 处理动态页面。动静分离从目前实现角度来讲大致分为两种， </p>
<p>一种是纯粹把静态文件独立成单独的域名，放在独立的服务器上，也是目前主流推崇的方案；</p>
<p>另外一种方法就是动态跟静态文件混合在一起发布，通过 nginx 来分开。</p>
<p>通过 location 指定不同的后缀名实现不同的请求转发。通过 expires 参数设置，可以使浏 </p>
<p>览器缓存过期时间，减少与服务器之前的请求和流量。具体 Expires 定义：是给一个资源 </p>
<p>设定一个过期时间，也就是说无需去服务端验证，直接通过浏览器自身确认是否过期即可，</p>
<p>所以不会产生额外的流量。此种方法非常适合不经常变动的资源。（如果经常更新的文件，</p>
<p>不建议使用 Expires 来缓存），我这里设置 3d，表示在这 3 天之内访问这个 URL，发送一 </p>
<p>个请求，比对服务器该文件最后更新时间没有变化，则不会从服务器抓取，返回状态码 304， </p>
<p>如果有修改，则直接从服务器重新下载，返回状态码 200。 </p>
<h2 id="2、准备工作-3"><a href="#2、准备工作-3" class="headerlink" title="2、准备工作 "></a><strong>2、准备工作 </strong></h2><p>在 liunx 系统中准备静态资源，用于进行访问 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103551408-155195568.png" alt></p>
<h2 id="3、具体配置-1"><a href="#3、具体配置-1" class="headerlink" title="3、具体配置 "></a><strong>3、具体配置 </strong></h2><p>在 nginx 配置文件中进行配置</p>
<p><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103601180-712857275.png" alt></p>
<h2 id="4、最终测试-1"><a href="#4、最终测试-1" class="headerlink" title="4、最终测试 "></a><strong>4、最终测试 </strong></h2><p>（1）浏览器中输入地址 </p>
<p><a href="http://192.168.17.129/image/01.jpg" target="_blank" rel="noopener">http://192.168.17.129/image/01.jpg</a></p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103613911-2017185401.png" alt></p>
<p>因为配置文件 autoindex on</p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103620555-1775332206.png" alt></p>
<p>重点是添加 location， </p>
<p>最后检查 Nginx 配置是否正确即可，然后测试动静分离是否成功，之需要删除后端 tomcat </p>
<p>服务器上的某个静态文件，查看是否能访问，如果可以访问说明静态资源 nginx 直接返回 </p>
<p>了，不走后端 tomcat 服务器</p>
<h1 id="八、nginx原理"><a href="#八、nginx原理" class="headerlink" title="八、nginx原理"></a><strong>八、nginx原理</strong></h1><h2 id="1、mater-和-worker"><a href="#1、mater-和-worker" class="headerlink" title="1、mater 和 worker"></a>1、mater 和 worker</h2><p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103710873-640599395.png" alt></p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103717881-58535625.png" alt></p>
<h2 id="2、worker-如何进行工作的"><a href="#2、worker-如何进行工作的" class="headerlink" title="2、worker 如何进行工作的"></a>2、worker 如何进行工作的</h2><h2 id><a href="#" class="headerlink" title></a><img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103730680-1429030716.png" alt></h2><h2 id="-1"><a href="#-1" class="headerlink" title=" "></a> </h2><h2 id="3、一个-master-和多个-woker-有好处"><a href="#3、一个-master-和多个-woker-有好处" class="headerlink" title="3、一个 master 和多个 woker 有好处"></a>3、一个 master 和多个 woker 有好处</h2><p>（1）可以使用 nginx –s reload 热部署，利用 nginx 进行热部署操作 </p>
<p>（2）每个 woker 是独立的进程，如果有其中的一个 woker 出现问题，其他 woker 独立的， </p>
<p>继续进行争抢，实现请求过程，不会造成服务中断</p>
<h2 id="4、设置多少个-woker-合适"><a href="#4、设置多少个-woker-合适" class="headerlink" title="4、设置多少个 woker 合适"></a>4、设置多少个 woker 合适</h2><p>worker 数和服务器的 cpu 数相等是最为适宜的 </p>
<h2 id="5、连接数-worker-connection"><a href="#5、连接数-worker-connection" class="headerlink" title="5、连接数 worker_connection"></a>5、连接数 worker_connection</h2><p>第一个：发送请求，占用了 woker 的几个连接数？ </p>
<p>答案：2 或者 4 个 </p>
<p> <img src="https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029103745507-149451607.png" alt></p>
<p>第二个：nginx 有一个 master，有四个 woker，每个 woker 支持最大的连接数 1024，支持的 </p>
<p>最大并发数是多少？</p>
<p>l 普通的静态访问最大并发数是： worker_connections * worker_processes /2， </p>
<p>l 而如果是 HTTP 作 为反向代理来说，最大并发数量应该是 worker_connections * </p>
<p>worker_processes/4。</p>
<p><strong>尚硅谷视频链接：<a href="https://www.bilibili.com/video/av68136734" target="_blank" rel="noopener">https://www.bilibili.com/video/av68136734</a></strong></p>
<h3 id="nginx如何解决跨域问题-Nginx解决CORS跨域解决方案"><a href="#nginx如何解决跨域问题-Nginx解决CORS跨域解决方案" class="headerlink" title="nginx如何解决跨域问题 Nginx解决CORS跨域解决方案"></a>nginx如何解决跨域问题 <a href="https://my.oschina.net/liuyuantao/blog/1931256" target="_blank" rel="noopener">Nginx解决CORS跨域解决方案</a></h3><p>nginx配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  server &#123;</span><br><span class="line">        #监听8000端口</span><br><span class="line">        listen       8000;</span><br><span class="line">        #监听指定的ip地址</span><br><span class="line">        server_name  10.10.2.116;</span><br><span class="line">        #对对应url路径执行反向代理,如10.10.2.116:8000/demo</span><br><span class="line">        location /demo &#123;</span><br><span class="line">        #目标的ip地址</span><br><span class="line">            proxy_pass http://10.10.2.116:10037; </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>知识点梳理来源于黑马教育</p>
<p>vi编辑器是所有Unix及Linux系统下标准的编辑器，它的强大不逊色于任何最新的文本编辑器，这里只是简单地介绍一下它的用法和一小部分指令。由于对Unix及Linux系统的任何版本，vi编辑器是完全相同的，因此您可以在其他任何介绍vi的地方进一步了解它。Vi也是Linux中最基本的文本编辑器，学会它后，您将在Linux的世界里畅行无阻。 </p>
<p><strong>1、vi的基本概念 </strong><br>　　基本上vi可以分为三种状态，分别是命令模式（command mode）、插入模式（Insert mode）和底行模式（last line mode），各模式的功能区分如下：<br>   <strong> 1) 命令行模式command mode） **</strong><br><strong>　　控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode。 
    </strong>2) 插入模式（Insert mode）<strong><br>　　只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。 
   </strong> 3) 底行模式（last line mode）**<br>　　将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。 </p>
<pre><code>不过一般我们在使用时把vi简化成两个模式，就是将底行模式（last line mode）也算入命令行模式command mode）。 
</code></pre><p><strong>2、vi的基本操作</strong><br><strong>a) 进入vi </strong><br>   　在系统提示符号输入vi及文件名称后，就进入vi全屏幕编辑画面：<br>$ vi myfile<br>　　不过有一点要特别注意，就是您进入vi之后，是处于「命令行模式（command mode）」，您要切换到「插入模式（Insert mode）」才能够输入文字。初次使用vi的人都会想先用上下左右键移动光标，结果电脑一直哔哔叫，把自己气个半死，所以进入vi后，先不要乱动，转换到「插入模式（Insert mode）」再说吧！ </p>
<p><strong>b) 切换至插入模式（Insert mode）编辑文件</strong><br>　　在「命令行模式（command mode）」下按一下字母「i」就可以进入「插入模式（Insert mode）」，这时候你就可以开始输入文字了。 </p>
<p><strong>c) Insert 的切换 </strong><br>　　您目前处于「插入模式（Insert mode）」，您就只能一直输入文字，如果您发现输错了字！想用光标键往回移动，将该字删除，就要先按一下「ESC」键转到「命令行模式（command mode）」再删除文字。 </p>
<p><strong>d) 退出vi及保存文件</strong><br>　　在「命令行模式（command mode）」下，按一下「：」冒号键进入「Last line mode」，例如：<br>: w filename （输入 「w filename」将文章以指定的文件名filename保存）<br>: wq (输入「wq」，存盘并退出vi)<br>: q! (输入q!， 不存盘强制退出vi) </p>
<p><strong>3、命令行模式（command mode）功能键 </strong><br><strong>1）. 插入模式 </strong><br>       按「i」切换进入插入模式「insert mode」，按”i”进入插入模式后是从光标当前位置开始输入文件；<br>　　按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；<br>　　按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。 </p>
<p><strong>2）. 从插入模式切换为命令行模式</strong><br>      按「ESC」键。 </p>
<p><strong>3）. 移动光标</strong><br>vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。<br>　　按「ctrl」+「b」：屏幕往”后”移动一页。<br>　　按「ctrl」+「f」：屏幕往”前”移动一页。<br>　　按「ctrl」+「u」：屏幕往”后”移动半页。<br>　　按「ctrl」+「d」：屏幕往”前”移动半页。<br>　　按数字「0」：移到文章的开头。<br>　　按「G」：移动到文章的最后。<br>　　按「$」：移动到光标所在行的”行尾”。<br>　　按「^」：移动到光标所在行的”行首”<br>　　按「w」：光标跳到下个字的开头<br>　　按「e」：光标跳到下个字的字尾<br>　　按「b」：光标回到上个字的开头<br>　　按「#l」：光标移到该行的第#个位置，如：5l,56l。 </p>
<p><strong>4）. 删除文字 </strong><br>　　「x」：每按一次，删除光标所在位置的”后面”一个字符。<br>　　「#x」：例如，「6x」表示删除光标所在位置的”后面”6个字符。<br>　　「X」：大写的X，每按一次，删除光标所在位置的”前面”一个字符。<br>　　「#X」：例如，「20X」表示删除光标所在位置的”前面”20个字符。<br>　　「dd」：删除光标所在行。<br>　　「#dd」：从光标所在行开始删除#行 </p>
<p><strong>5）. 复制</strong><br>　　「yw」：将光标所在之处到字尾的字符复制到缓冲区中。<br>　　「#yw」：复制#个字到缓冲区<br>　　「yy」：复制光标所在行到缓冲区。<br>　　「#yy」：例如，「6yy」表示拷贝从光标所在的该行”往下数”6行文字。<br>　　「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与”y”有关的复制命令都必须与”p”配合才能完成复制与粘贴功能。 </p>
<p><strong>6）. 替换</strong><br>　　「r」：替换光标所在处的字符。<br>　　「R」：替换光标所到之处的字符，直到按下「ESC」键为止。 </p>
<p><strong>7）. 回复上一次操作</strong><br>　　「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次”u”可以执行多次回复。 </p>
<p><strong>8）. 更改</strong><br>　　「cw」：更改光标所在处的字到字尾处<br>　　「c#w」：例如，「c3w」表示更改3个字 </p>
<p><strong>9）. 跳至指定的行</strong><br>　　「ctrl」+「g」列出光标所在行的行号。<br>　　「#G」：例如，「15G」，表示移动光标至文章的第15行行首。<br><strong>4、Last line mode下命令简介</strong><br>　　在使用「last line mode」之前，请记住先按「ESC」键确定您已经处于「command mode」下后，再按「：」冒号即可进入「last line mode」。 </p>
<p><strong>A) 列出行号 </strong></p>
<p>　「set nu」：输入「set nu」后，会在文件中的每一行前面列出行号。 </p>
<p><strong>B) 跳到文件中的某一行</strong> </p>
<p>　「#」：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字15，再回车，就会跳到文章的第15行。 </p>
<p><strong>C) 查找字符</strong> </p>
<p>　「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止。 </p>
<p>　「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。 </p>
<p><strong>D) 保存文件</strong> </p>
<p>　「w」：在冒号输入字母「w」就可以将文件保存起来。 </p>
<p><strong>E) 离开vi</strong> </p>
<p>　「q」：按「q」就是退出，如果无法离开vi，可以在「q」后跟一个「!」强制离开vi。 </p>
<p>　「qw」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件。 </p>
<p><strong>5、vi命令列表</strong><br><strong>1、下表列出命令模式下的一些键的功能</strong>： </p>
<p>h<br>左移光标一个字符 </p>
<p>l<br>右移光标一个字符 </p>
<p>k<br>光标上移一行 </p>
<p>j<br>光标下移一行 </p>
<p>^<br>光标移动至行首 </p>
<p>0<br>数字”0”，光标移至文章的开头 </p>
<p>G<br>光标移至文章的最后 </p>
<p>$<br>光标移动至行尾 </p>
<p>Ctrl+f<br>向前翻屏 </p>
<p>Ctrl+b<br>向后翻屏 </p>
<p>Ctrl+d<br>向前翻半屏 </p>
<p>Ctrl+u<br>向后翻半屏 </p>
<p>i<br>在光标位置前插入字符 </p>
<p>a<br>在光标所在位置的后一个字符开始增加 </p>
<p>o<br>插入新的一行，从行首开始输入 </p>
<p>ESC<br>从输入状态退至命令状态 </p>
<p>x<br>删除光标后面的字符 </p>
<p>#x<br>删除光标后的＃个字符 </p>
<p>X<br>(大写X)，删除光标前面的字符 </p>
<p>#X<br>删除光标前面的#个字符 </p>
<p>dd<br>删除光标所在的行 </p>
<p>#dd<br>删除从光标所在行数的#行 </p>
<p>yw<br>复制光标所在位置的一个字 </p>
<p>#yw<br>复制光标所在位置的#个字 </p>
<p>yy<br>复制光标所在位置的一行 </p>
<p>#yy<br>复制从光标所在行数的#行 </p>
<p>p<br>粘贴 </p>
<p>u<br>取消操作 </p>
<p>cw<br>更改光标所在位置的一个字 </p>
<p>#cw<br>更改光标所在位置的#个字 </p>
<p><strong>2、下表列出行命令模式下的一些指令</strong><br>w filename<br>储存正在编辑的文件为filename </p>
<p>wq filename<br>储存正在编辑的文件为filename，并退出vi </p>
<p>q!<br>放弃所有修改，退出vi </p>
<p>set nu<br>显示行号 </p>
<p>/或?<br>查找，在/后输入要查找的内容 </p>
<p>n<br>与/或?一起使用，如果查找的内容不是想要找的关键字，按n或向后（与/联用）或向前（与?联用）继续查找，直到找到为止。 </p>
<p><strong>对于第一次用vi，有几点注意要提醒一下： **</strong><br><strong><strong>1、用vi打开文件后，是处于「命令行模式（command mode）」，您要切换到「插入模式（Insert mode）」才能够输入文字。切换方法：在「命令行模式（command mode）」下按一下字母「i」就可以进入「插入模式（Insert mode）」，这时候你就可以开始输入文字了。 </strong></strong><br><strong><strong>2、编辑好后，需从插入模式切换为命令行模式才能对文件进行保存，切换方法：按「ESC」键。 </strong></strong><br><strong>**3、保存并退出文件：在命令模式下输入:wq即可！（别忘了wq前面的）</strong></p>
<h1 id="vi使用手册"><a href="#vi使用手册" class="headerlink" title="vi使用手册"></a><strong>vi使用手册</strong></h1><p>VI是unix上最常用的文本编辑工具，作为unix软件测试人员，有必要熟练掌握它。</p>
<p><strong>进入vi的命令</strong><br>vi filename :打开或新建文件，并将光标置于第一行首<br>vi +n filename ：打开文件，并将光标置于第n行首<br>vi + filename ：打开文件，并将光标置于最后一行首<br>vi +/pattern filename：打开文件，并将光标置于第一个与pattern匹配的串处<br>vi -r filename ：在上次正用vi编辑时发生系统崩溃，恢复filename<br>vi filename….filename ：打开多个文件，依次编辑</p>
<p><strong>移动光标类命令</strong><br>h ：光标左移一个字符<br>l ：光标右移一个字符<br>space：光标右移一个字符<br>Backspace：光标左移一个字符<br>k或Ctrl+p：光标上移一行<br>j或Ctrl+n ：光标下移一行<br>Enter ：光标下移一行<br>w或W ：光标右移一个字至字首<br>b或B ：光标左移一个字至字首<br>e或E ：光标右移一个字j至字尾<br>) ：光标移至句尾<br>( ：光标移至句首<br>}：光标移至段落开头<br>{：光标移至段落结尾<br>nG：光标移至第n行首<br>n+：光标下移n行<br>n-：光标上移n行<br>n$：光标移至第n行尾<br>H ：光标移至屏幕顶行<br>M ：光标移至屏幕中间行<br>L ：光标移至屏幕最后行<br>0：（注意是数字零）光标移至当前行首<br>$：光标移至当前行尾</p>
<p><strong>屏幕翻滚类命令</strong><br>Ctrl+u：向文件首翻半屏<br>Ctrl+d：向文件尾翻半屏<br>Ctrl+f：向文件尾翻一屏<br>Ctrl＋b；向文件首翻一屏<br>nz：将第n行滚至屏幕顶部，不指定n时将当前行滚至屏幕顶部。</p>
<p><strong>插入文本类命令</strong><br>i ：在光标前<br>I ：在当前行首<br>a：光标后<br>A：在当前行尾<br>o：在当前行之下新开一行<br>O：在当前行之上新开一行<br>r：替换当前字符<br>R：替换当前字符及其后的字符，直至按ESC键<br>s：从当前光标位置处开始，以输入的文本替代指定数目的字符<br>S：删除指定数目的行，并以所输入文本代替之<br>ncw或nCW：修改指定数目的字<br>nCC：修改指定数目的行</p>
<p><strong>删除命令</strong><br>ndw或ndW：删除光标处开始及其后的n-1个字<br>do：删至行首<br>d$：删至行尾<br>ndd：删除当前行及其后n-1行<br>x或X：删除一个字符，x删除光标后的，而X删除光标前的<br>Ctrl+u：删除输入方式下所输入的文本</p>
<p><strong>搜索及替换命令 :</strong><br>/pattern：从光标开始处向文件尾搜索pattern<br>?pattern：从光标开始处向文件首搜索pattern<br>n：在同一方向重复上一次搜索命令<br>N：在反方向上重复上一次搜索命令<br>：s/p1/p2/g：将当前行中所有p1均用p2替代<br>：n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代<br>：g/p1/s//p2/g：将文件中所有p1均用p2替换</p>
<p><strong>选项设置</strong><br>all：列出所有选项设置情况<br>term：设置终端类型<br>ignorance：在搜索中忽略大小写<br>list：显示制表位(Ctrl+I)和行尾标志（$)<br>number：显示行号<br>report：显示由面向行的命令修改过的数目<br>terse：显示简短的警告信息<br>warn：在转到别的文件时若没保存当前文件则显示NO write信息<br>nomagic：允许在搜索模式中，使用前面不带“\”的特殊字符<br>nowrapscan：禁止vi在搜索到达文件两端时，又从另一端开始<br>mesg：允许vi显示其他用户用write写到自己终端上的信息</p>
<p><strong>最后行方式命令</strong><br>：n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下<br>：n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下<br>：n1,n2 d ：将n1行到n2行之间的内容删除<br>：w ：保存当前文件<br>：e filename：打开文件filename进行编辑<br>：x：保存当前文件并退出<br>：q：退出vi<br>：q!：不保存文件并退出vi<br>：!command：执行shell命令command<br>：n1,n2 w!command：将文件中n1行至n2行的内容作为command的输入并执行之，若不指<br>定n1，n2，则表示将整个文件内容作为command的输入<br>：r!command：将命令command的输出结果放到当前行 。</p>
<hr>
<p>知识点梳理来源于黑马教育</p>
<p><strong>命令历史</strong></p>
<p>以:和/开头的命令都有历史纪录，可以首先键入:或/然后按上下箭头来选择某个历史命令。</p>
<p><strong>启动vim</strong></p>
<p>在命令行窗口中输入以下命令即可</p>
<p>vim 直接启动vim</p>
<p>vim filename 打开vim并创建名为filename的文件</p>
<p><strong>文件命令</strong></p>
<p>打开单个文件</p>
<p>vim file</p>
<p>同时打开多个文件</p>
<p>vim file1 file2 file3 …</p>
<p>在vim窗口中打开一个新文件</p>
<p>:open file</p>
<p>在新窗口中打开文件</p>
<p>:split file</p>
<p>切换到下一个文件</p>
<p>:bn</p>
<p>切换到上一个文件</p>
<p>:bp</p>
<p>查看当前打开的文件列表，当前正在编辑的文件会用[]括起来。</p>
<p>:args</p>
<p>打开远程文件，比如ftp或者share folder</p>
<p>:e <a href="ftp://192.168.10.76/abc.txt" target="_blank" rel="noopener">ftp://192.168.10.76/abc.txt</a></p>
<p>:e \qadrive\test\1.txt</p>
<p><strong>vim的模式</strong></p>
<p>正常模式（按Esc或Ctrl+[进入） 左下角显示文件名或为空</p>
<p>插入模式（按i键进入） 左下角显示–INSERT–</p>
<p>可视模式（不知道如何进入）左下角显示–VISUAL–</p>
<p><strong>导航命令</strong></p>
<p>% 括号匹配</p>
<p><strong>插入命令</strong></p>
<p>i 在当前位置生前插入</p>
<p>I 在当前行首插入</p>
<p>a 在当前位置后插入</p>
<p>A 在当前行尾插入</p>
<p>o 在当前行之后插入一行</p>
<p>O 在当前行之前插入一行</p>
<p><strong>查找命令</strong></p>
<p>/text　　查找text，按n健查找下一个，按N健查找前一个。</p>
<p>?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。</p>
<p>vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$</p>
<p>:set ignorecase　　忽略大小写的查找</p>
<p>:set noignorecase　　不忽略大小写的查找</p>
<p>查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按*或#键即可以该单词进行搜索，相当于/搜索。而#命令相当于?搜索。</p>
<p>:set hlsearch　　高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配。</p>
<p>:set nohlsearch　　关闭高亮搜索显示</p>
<p>:nohlsearch　　关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮。</p>
<p>:set incsearch　　逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成。</p>
<p>:set wrapscan　　重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启。</p>
<p><strong>替换命令</strong></p>
<p>ra 将当前字符替换为a，当期字符即光标所在字符。</p>
<p>s/old/new/ 用old替换new，替换当前行的第一个匹配</p>
<p>s/old/new/g 用old替换new，替换当前行的所有匹配</p>
<p>%s/old/new/ 用old替换new，替换所有行的第一个匹配</p>
<p>%s/old/new/g 用old替换new，替换整个文件的所有匹配</p>
<p>:10,20 s/^/    /g 在第10行知第20行每行前面加四个空格，用于缩进。</p>
<p>ddp 交换光标所在行和其下紧邻的一行。</p>
<p><strong>移动命令</strong></p>
<p>h 左移一个字符</p>
<p>l 右移一个字符，这个命令很少用，一般用w代替。</p>
<p>k 上移一个字符</p>
<p>j 下移一个字符</p>
<p>以上四个命令可以配合数字使用，比如20j就是向下移动20行，5h就是向左移动5个字符，在Vim中，很多命令都可以配合数字使用，比如删除10个字符10x，在当前位置后插入3个！，3a！<esc>，这里的Esc是必须的，否则命令不生效。</esc></p>
<p>w 向前移动一个单词（光标停在单词首部），如果已到行尾，则转至下一行行首。此命令快，可以代替l命令。</p>
<p>b 向后移动一个单词 2b 向后移动2个单词</p>
<p>e，同w，只不过是光标停在单词尾部</p>
<p>ge，同b，光标停在单词尾部。</p>
<p>^ 移动到本行第一个非空白字符上。</p>
<p>0（数字0）移动到本行第一个字符上，</p>
<p><home> 移动到本行第一个字符。同0健。</home></p>
<p>$ 移动到行尾 3$ 移动到下面3行的行尾</p>
<p>gg 移动到文件头。 = [[</p>
<p>G（shift + g） 移动到文件尾。 = ]]</p>
<p>f（find）命令也可以用于移动，fx将找到光标后第一个为x的字符，3fd将找到第三个为d的字符。</p>
<p>F 同f，反向查找。</p>
<p>跳到指定行，冒号+行号，回车，比如跳到240行就是 :240回车。另一个方法是行号+G，比如230G跳到230行。</p>
<p>Ctrl + e 向下滚动一行</p>
<p>Ctrl + y 向上滚动一行</p>
<p>Ctrl + d 向下滚动半屏</p>
<p>Ctrl + u 向上滚动半屏</p>
<p>Ctrl + f 向下滚动一屏</p>
<p>Ctrl + b 向上滚动一屏</p>
<p><strong>撤销和重做</strong></p>
<p>u 撤销（Undo）</p>
<p>U 撤销对整行的操作</p>
<p>Ctrl + r 重做（Redo），即撤销的撤销。</p>
<p><strong>删除命令</strong></p>
<p>x 删除当前字符</p>
<p>3x 删除当前光标开始向后三个字符</p>
<p>X 删除当前字符的前一个字符。X=dh</p>
<p>dl 删除当前字符， dl=x</p>
<p>dh 删除前一个字符</p>
<p>dd 删除当前行</p>
<p>dj 删除上一行</p>
<p>dk 删除下一行</p>
<p>10d 删除当前行开始的10行。</p>
<p>D 删除当前字符至行尾。D=d$</p>
<p>d$ 删除当前字符之后的所有字符（本行）</p>
<p>kdgg 删除当前行之前所有行（不包括当前行）</p>
<p>jdG（jd shift + g）   删除当前行之后所有行（不包括当前行）</p>
<p>:1,10d 删除1-10行</p>
<p>:11,$d 删除11行及以后所有的行</p>
<p>:1,$d 删除所有行</p>
<p>J(shift + j)　　删除两行之间的空行，实际上是合并两行。</p>
<p><strong>拷贝和粘贴</strong></p>
<p>yy 拷贝当前行</p>
<p>nyy 拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。</p>
<p>p  在当前光标后粘贴,如果之前使用了yy命令来复制一行，那么就在当前行的下一行粘贴。</p>
<p>shift+p 在当前行前粘贴</p>
<p>:1,10 co 20 将1-10行插入到第20行之后。</p>
<p>:1,$ co $ 将整个文件复制一份并添加到文件尾部。</p>
<p>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按y即可复制</p>
<p>ddp交换当前行和其下一行</p>
<p>xp交换当前字符和其后一个字符</p>
<p><strong>剪切命令</strong></p>
<p>正常模式下按v（逐字）或V（逐行）进入可视模式，然后用jklh命令移动即可选择某些行或字符，再按d即可剪切</p>
<p>ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴</p>
<p>:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。</p>
<p>:1, 10 m 20 将第1-10行移动到第20行之后。</p>
<p><strong>退出命令</strong></p>
<p>:wq 保存并退出</p>
<p>ZZ 保存并退出</p>
<p>:q! 强制退出并忽略所有更改</p>
<p>:e! 放弃所有修改，并打开原来文件。</p>
<p><strong>窗口命令</strong></p>
<p>:split或new 打开一个新窗口，光标停在顶层的窗口上</p>
<p>:split file或:new file 用新窗口打开文件</p>
<p>split打开的窗口都是横向的，使用vsplit可以纵向打开窗口。</p>
<p>Ctrl+ww 移动到下一个窗口</p>
<p>Ctrl+wj 移动到下方的窗口</p>
<p>Ctrl+wk 移动到上方的窗口</p>
<p>关闭窗口</p>
<p>:close 最后一个窗口不能使用此命令，可以防止意外退出vim。</p>
<p>:q 如果是最后一个被关闭的窗口，那么将退出vim。</p>
<p>ZZ 保存并退出。</p>
<p>关闭所有窗口，只保留当前窗口</p>
<p>:only</p>
<p>录制宏</p>
<p>按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。</p>
<p><strong>执行shell命令</strong></p>
<p>:!command</p>
<p>:!ls 列出当前目录下文件</p>
<p>:!perl -c script.pl 检查perl脚本语法，可以不用退出vim，非常方便。</p>
<p>:!perl script.pl 执行perl脚本，可以不用退出vim，非常方便。</p>
<p>:suspend或Ctrl - Z 挂起vim，回到shell，按fg可以返回vim。</p>
<p><strong>注释命令</strong></p>
<p>perl程序中#开始的行为注释，所以要注释某些行，只需在行首加入#</p>
<p>3,5 s/^/#/g 注释第3-5行</p>
<p>3,5 s/^#//g 解除3-5行的注释</p>
<p>1,$ s/^/#/g 注释整个文档。</p>
<p>:%s/^/#/g 注释整个文档，此法更快。</p>
<p><strong>帮助命令</strong></p>
<p>:help or F1 显示整个帮助</p>
<p>:help xxx 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。</p>
<p>:help ‘number’ Vim选项的帮助用单引号括起</p>
<p>:help <esc> 特殊键的帮助用&lt;&gt;扩起</esc></p>
<p>:help -t Vim启动参数的帮助用-</p>
<p>：help i_<esc> 插入模式下Esc的帮助，某个模式下的帮助用模式_主题的模式</esc></p>
<p>帮助文件中位于||之间的内容是超链接，可以用Ctrl+]进入链接，Ctrl+o（Ctrl + t）返回</p>
<p><strong>其他非编辑命令</strong></p>
<p>. 重复前一次命令</p>
<p>:set ruler?　　查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看</p>
<p>:scriptnames　　查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。</p>
<p>:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:&gt;-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。</p>
<p>Vim教程</p>
<p>在Unix系统上</p>
<p>$ vimtutor</p>
<p>在Windows系统上</p>
<p>:help tutor</p>
<p>:syntax 列出已经定义的语法项</p>
<p>:syntax clear 清除已定义的语法规则</p>
<p>:syntax case match 大小写敏感，int和Int将视为不同的语法元素</p>
<p>:syntax case ignore 大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/12/10/Vue动画大全/" rel="next" title="Vue动画大全">
                <i class="fa fa-chevron-left"></i> Vue动画大全
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/17/JavaScript风格指南/" rel="prev" title="JavaScript风格指南">
                JavaScript风格指南 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/tx.jpg" alt="李斌">
            
              <p class="site-author-name" itemprop="name">李斌</p>
              <p class="site-description motion-element" itemprop="description">人生如逆旅     我亦是行人</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">206</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">121</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/libin1991" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/57e737f6c4c971005f6bcd8d" target="_blank" title="juejin">
                      
                        <i class="fa fa-fw fa-spinner"></i>juejin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx"><span class="nav-number">1.</span> <span class="nav-text">Nginx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一、安装Nginx"><span class="nav-number">2.</span> <span class="nav-text">一、安装Nginx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1、准备工作"><span class="nav-number">3.</span> <span class="nav-text">1、准备工作 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、开始进行-nginx-安装"><span class="nav-number">4.</span> <span class="nav-text">2、开始进行 nginx 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#（1）安装-pcre-依赖"><span class="nav-number">4.1.</span> <span class="nav-text">（1）安装 pcre 依赖 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第一步联网下载-pcre-压缩文件依赖"><span class="nav-number">4.1.1.</span> <span class="nav-text">第一步联网下载 pcre 压缩文件依赖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第二步解压压缩文件"><span class="nav-number">4.1.2.</span> <span class="nav-text">第二步解压压缩文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第三步-configure-完成后，回到-pcre-目录下执行-make，最后执行-make-install"><span class="nav-number">4.1.3.</span> <span class="nav-text">第三步./configure 完成后，回到 pcre 目录下执行 make，最后执行 make install</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（2）安装-openssl-、zlib-、-gcc-依赖"><span class="nav-number">4.2.</span> <span class="nav-text">（2）安装 openssl 、zlib 、 gcc 依赖 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（3）安装-nginx"><span class="nav-number">4.3.</span> <span class="nav-text">（3）安装 nginx </span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#二、Nginx常用命令"><span class="nav-number"></span> <span class="nav-text">二、Nginx常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、查看-nginx-版本号"><span class="nav-number">1.</span> <span class="nav-text">1、查看 nginx 版本号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、启动-nginx"><span class="nav-number">2.</span> <span class="nav-text">2、启动 nginx </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、停止-nginx"><span class="nav-number">3.</span> <span class="nav-text">3、停止 nginx </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、重新加载-nginx"><span class="nav-number">4.</span> <span class="nav-text">4、重新加载 nginx </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、nginx-conf配置文件"><span class="nav-number"></span> <span class="nav-text">三、nginx.conf配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、位置"><span class="nav-number">1.</span> <span class="nav-text">1、位置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、配置文件中的内容（包含三部分）"><span class="nav-number">2.</span> <span class="nav-text">2、配置文件中的内容（包含三部分）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#（1）全局块：配置服务器整体运行的配置指令"><span class="nav-number">2.1.</span> <span class="nav-text">（1）全局块：配置服务器整体运行的配置指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（2）events-块：影响-Nginx-服务器与用户的网络连接"><span class="nav-number">2.2.</span> <span class="nav-text">（2）events 块：影响 Nginx 服务器与用户的网络连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（3）http-块"><span class="nav-number">2.3.</span> <span class="nav-text">（3）http 块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#①、http-全局块"><span class="nav-number">2.3.1.</span> <span class="nav-text">①、http 全局块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#②、server-块"><span class="nav-number">2.3.2.</span> <span class="nav-text">②、server 块</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#全局-server-块"><span class="nav-number">2.3.2.1.</span> <span class="nav-text">全局 server 块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#location-块"><span class="nav-number">2.3.2.2.</span> <span class="nav-text">location 块</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、Nginx-反向代理实例-2"><span class="nav-number"></span> <span class="nav-text">四、Nginx 反向代理实例 2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、实现效果"><span class="nav-number">1.</span> <span class="nav-text">1、实现效果 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、准备工作"><span class="nav-number">2.</span> <span class="nav-text">2、准备工作 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#（1）在-liunx-系统安装-tomcat，使用默认端口-8080"><span class="nav-number">2.1.</span> <span class="nav-text">（1）在 liunx 系统安装 tomcat，使用默认端口 8080 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（2）对外开放访问的端口"><span class="nav-number">2.2.</span> <span class="nav-text">（2）对外开放访问的端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#（3）在-windows-系统中通过浏览器访问-tomcat-服务器"><span class="nav-number">2.3.</span> <span class="nav-text">（3）在 windows 系统中通过浏览器访问 tomcat 服务器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、访问过程的分析"><span class="nav-number">3.</span> <span class="nav-text">3、访问过程的分析 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、具体配置"><span class="nav-number">4.</span> <span class="nav-text">4、具体配置 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、最终测试"><span class="nav-number">5.</span> <span class="nav-text">5、最终测试 </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五、Nginx-反向代理实例-2"><span class="nav-number"></span> <span class="nav-text">五、Nginx 反向代理实例 2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、实现效果-1"><span class="nav-number">1.</span> <span class="nav-text">1、实现效果 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、准备工作-1"><span class="nav-number">2.</span> <span class="nav-text">2、准备工作 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、具体配置"><span class="nav-number">3.</span> <span class="nav-text">3、具体配置 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、最终测试"><span class="nav-number">4.</span> <span class="nav-text">4、最终测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六、Nginx-配置实例-负载均衡"><span class="nav-number"></span> <span class="nav-text">六、Nginx 配置实例-负载均衡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、实现效果-2"><span class="nav-number">1.</span> <span class="nav-text">1、实现效果 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、准备工作-2"><span class="nav-number">2.</span> <span class="nav-text">2、准备工作 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、在-nginx-的配置文件中进行负载均衡的配置"><span class="nav-number">3.</span> <span class="nav-text">3、在 nginx 的配置文件中进行负载均衡的配置 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、nginx-分配服务器策略"><span class="nav-number">4.</span> <span class="nav-text">4、nginx 分配服务器策略 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#第一种轮询（默认）"><span class="nav-number">4.1.</span> <span class="nav-text">第一种轮询（默认）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第二种-weight"><span class="nav-number">4.2.</span> <span class="nav-text">第二种 weight </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第三种-ip-hash"><span class="nav-number">4.3.</span> <span class="nav-text">第三种 ip_hash </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第四种-fair（第三方）"><span class="nav-number">4.4.</span> <span class="nav-text">第四种 fair（第三方） </span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七、Nginx-配置实例-动静分离"><span class="nav-number"></span> <span class="nav-text">七、Nginx 配置实例-动静分离</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、什么是动静分离"><span class="nav-number">1.</span> <span class="nav-text">1、什么是动静分离 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、准备工作-3"><span class="nav-number">2.</span> <span class="nav-text">2、准备工作 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、具体配置-1"><span class="nav-number">3.</span> <span class="nav-text">3、具体配置 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、最终测试-1"><span class="nav-number">4.</span> <span class="nav-text">4、最终测试 </span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八、nginx原理"><span class="nav-number"></span> <span class="nav-text">八、nginx原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、mater-和-worker"><span class="nav-number">1.</span> <span class="nav-text">1、mater 和 worker</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、worker-如何进行工作的"><span class="nav-number">2.</span> <span class="nav-text">2、worker 如何进行工作的</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">3.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-1"><span class="nav-number">4.</span> <span class="nav-text"> </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、一个-master-和多个-woker-有好处"><span class="nav-number">5.</span> <span class="nav-text">3、一个 master 和多个 woker 有好处</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、设置多少个-woker-合适"><span class="nav-number">6.</span> <span class="nav-text">4、设置多少个 woker 合适</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、连接数-worker-connection"><span class="nav-number">7.</span> <span class="nav-text">5、连接数 worker_connection</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#nginx如何解决跨域问题-Nginx解决CORS跨域解决方案"><span class="nav-number">7.1.</span> <span class="nav-text">nginx如何解决跨域问题 Nginx解决CORS跨域解决方案</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vi使用手册"><span class="nav-number"></span> <span class="nav-text">vi使用手册</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李斌</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <!--
  	描述：点击红心
  -->
  <script type="text/javascript" src="/js/src/clicklove.js"></script>
  <!--
  	描述：复制代码
  -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</body>
</html>


