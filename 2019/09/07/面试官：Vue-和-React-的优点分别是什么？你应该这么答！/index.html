<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="原文转自知乎Vue 和 React 的优点分别是什么？Vue 即将演进到 v3.0，刚刚过去的端午节尤雨溪 也做了 「State of vue 」的精彩分享；另一方面，React 到了成熟壮年期，hooks 等特性引领了未来发展趋势。 记得 2013，Pete hunt 在推广 React 时，做了一个足以“颠覆前端开发”的变革演讲「React: Rethinking best practices">
<meta property="og:type" content="article">
<meta property="og:title" content="面试官：Vue 和 React 的优点分别是什么？你应该这么答！">
<meta property="og:url" content="http://yoursite.com/2019/09/07/面试官：Vue-和-React-的优点分别是什么？你应该这么答！/index.html">
<meta property="og:site_name" content="Zero Days">
<meta property="og:description" content="原文转自知乎Vue 和 React 的优点分别是什么？Vue 即将演进到 v3.0，刚刚过去的端午节尤雨溪 也做了 「State of vue 」的精彩分享；另一方面，React 到了成熟壮年期，hooks 等特性引领了未来发展趋势。 记得 2013，Pete hunt 在推广 React 时，做了一个足以“颠覆前端开发”的变革演讲「React: Rethinking best practices">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://camo.githubusercontent.com/9c8f27e8d9a585d6e7c60e9be96f058826b22c3f/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d63313836633232356636383762623765356537376565616332303061636461335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/37a7b0ec143e0df915d1e4f37fc4bb4b4bb87734/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d63313836633232356636383762623765356537376565616332303061636461335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/a952646d4484829cae7f77350846cac264fc6a10/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d63613766666635666232656164363263376361666435346639633537616636335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/e918f1eb17d6062ed5d39e89b02fbd91c5ec6d7d/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d63613766666635666232656164363263376361666435346639633537616636335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/9287cb76a89e3f503048116667b31a184e72be5d/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d30333931663663363064653332353638346165623233303631346266383161655f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/0ec3a93202255e76685252587abc5cb0072ea224/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d30333931663663363064653332353638346165623233303631346266383161655f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/d72bf8cceef944a04091d4e599999f49a6098eac/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d61623361393036326330623830373265306337386336636139333463346638325f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/d749a62c3f0a3c66f8567335d089aafa3fe58e8e/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d61623361393036326330623830373265306337386336636139333463346638325f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/62c2518107e2b14af201f4958b2afc14feb5fed3/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d37623139653337646563396162633938613563663864646361383030303833305f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/29ac1d9255e478ac6cd0aae28cb86861a361dc17/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d37623139653337646563396162633938613563663864646361383030303833305f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/63e3de8d16cc2afe2c506aa869973479398d16a1/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d34636534636165626534353063613661323833356265326334336664353661365f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/edbe66debc31b9a0d1286f1b79d2e1d1eeff4b1f/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d34636534636165626534353063613661323833356265326334336664353661365f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/85e105e0a27cfd7e6397eabcf31855c2be79f7f5/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d30313236396535303732623836383830326332663330336431623039663161625f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/b149b13015f963dd6e11efafab2e9e6702cd24ac/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d30313236396535303732623836383830326332663330336431623039663161625f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/263e31a84d7459a61d8629143b9d1167b44a41d7/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d35383538346333383139303238343165386533306339363738633564396636385f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/c092fa4267b2bc0e6db67732c7e4e6c3e9128bde/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d35383538346333383139303238343165386533306339363738633564396636385f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/360889253db6a22b97d740791a2d35b7fb22c84b/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d61633034336333643033333962343433396364336430613139333636303637665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/3dfeb3cf01fa694c527e9a060c479c10958ce714/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d61633034336333643033333962343433396364336430613139333636303637665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/f6ac846f48a4d5ab8c220840fdffd8a4237fd000/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d31303034333738636131336130636461653861393962633035653433376539395f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/1ad43521e18fd666130f7cb6501453e1fd15f192/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d31303034333738636131336130636461653861393962633035653433376539395f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/74302769bb32e7b576c2b3c0ecdb45e9def89fd3/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d31386632303963623965303664356432633932636362383531386134346266625f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/dc6d8c185357bc2bf681ea32355cd92aae9db3cd/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d31386632303963623965303664356432633932636362383531386134346266625f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/d199c6e31ecada0aba2b701ff4132a73249173ec/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d65373630353939643634666638623334613337636334646438616466393537385f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/d53813e9f8b56161729430cfef85d297f2b3d935/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d65373630353939643634666638623334613337636334646438616466393537385f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/b9607d71feebba22fa708b849340f7b8fed8fde5/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d64366561623038313939303861646136613962316331316632656337333161665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/ee3eadfd54797cfd08bfd7d69a68594db2af2215/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d64366561623038313939303861646136613962316331316632656337333161665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/b221bc96f4b828263ec1c67c25788638ab2f48ed/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d34356232643766393738353837356362323337323835333233323536646262375f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/953891328922a7a38bcf013c4e3f75707b24948a/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d34356232643766393738353837356362323337323835333233323536646262375f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/d2ffb50afff93ff95b63a9f2e69aa93b57f9a404/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d33633534386132386632393738303330326532656236643864643063636533665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/b6ecf8503601e7f5d30595637f632708849de055/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d33633534386132386632393738303330326532656236643864643063636533665f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/27161dd58b303f982edc2ddb7baa81e0a9b18792/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d37616261373166376262326333306164626464323664333331343861333966655f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/b9075ab3c57dd31908b937897e9002333c2ecf79/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d37616261373166376262326333306164626464323664333331343861333966655f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/780a47d3c09fa237260ab926310a7108879fb708/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d36626261303264396665623337333061323863326231623033656434366362335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/9a0d8f49573349b39b6d27fc45e4e0da329e6f90/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d36626261303264396665623337333061323863326231623033656434366362335f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/01573487e85cf47c28490c37b58952b46fe57e6f/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d35376237326430316333313737656233316533626533323063636434663563645f68642e6a7067">
<meta property="og:image" content="https://camo.githubusercontent.com/892dc25259ef11670d9a7703e4898c822b3cb5eb/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d35376237326430316333313737656233316533626533323063636434663563645f68642e6a7067">
<meta property="og:updated_time" content="2019-09-07T16:51:53.448Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="面试官：Vue 和 React 的优点分别是什么？你应该这么答！">
<meta name="twitter:description" content="原文转自知乎Vue 和 React 的优点分别是什么？Vue 即将演进到 v3.0，刚刚过去的端午节尤雨溪 也做了 「State of vue 」的精彩分享；另一方面，React 到了成熟壮年期，hooks 等特性引领了未来发展趋势。 记得 2013，Pete hunt 在推广 React 时，做了一个足以“颠覆前端开发”的变革演讲「React: Rethinking best practices">
<meta name="twitter:image" content="https://camo.githubusercontent.com/9c8f27e8d9a585d6e7c60e9be96f058826b22c3f/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d63313836633232356636383762623765356537376565616332303061636461335f68642e6a7067">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/09/07/面试官：Vue-和-React-的优点分别是什么？你应该这么答！/">





  <title>面试官：Vue 和 React 的优点分别是什么？你应该这么答！ | Zero Days</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband">
    	<div class="eevee"><div class="body"><div class="head"><div class="ears"><div class="ear"><div class="lobe"></div></div><div class="ear"><div class="lobe"></div></div></div><div class="face"><div class="eyes"><div class="eye"><div class="eyelid"></div></div><div class="eye"><div class="eyelid"></div></div></div><div class="nose"></div><div class="mouth"></div></div></div><div class="chest"><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div></div><div class="legs"><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div></div><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail -end"></div></div></div></div></div></div></div></div>
    </div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
    	<div id="sky">
				<div id="background" class="container">
			<!-- svg file -->
			<svg id="svgout" height="100%" width="100%" viewbox="0 0 550 400">
				<defs>
					<g id="bottomShadow">
						<path fill="#000000" stroke="none" d="
		M 270.5 225.95
		L 127.35 316.65 266.8 400 409.6 309.25 270.5 225.95 Z"/>
					</g>
					<g id="Layer52_0_FILL">
						<path class="topGrass" fill="#B9D668" stroke="none" d="
	M 397.85 229.3
	L 397.85 225.6 269.85 152 135.75 228.6 135.75 233.65 262.1 306.55 397.85 229.3 Z"/>
					</g>
					<g id="Layer51_0_FILL">
						<path class="leftSideGrass" fill="#6E9E4F" stroke="none" d="
	M 135.1 229.95
	L 135.1 256.85 262.1 328.4 262.1 301.85 135.1 229.95 Z"/>
					</g>
					<g id="Layer50_0_FILL">
						<path class="rightGrassTop" fill="#8CB154" stroke="none" d="
	M 397.85 225.95
	L 395.8 225.95 261.75 301.55 261.75 328.4 397.85 251.15 397.85 225.95 Z"/>
					</g>
					<g id="Layer48_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.45 282.4
	L 135.75 298.15 262.1 372.1 261.75 355.65 135.45 282.4 Z"/>
					</g>
					<g id="Layer47_0_FILL">
						<path class="middleLeftCrust" fill="#C77E61" stroke="none" d="
	M 135.1 270.3
	L 135.1 283.05 275.9 364.35 271.85 348.9 135.1 270.3 Z"/>
					</g>
					<g id="Layer46_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.1 255.15
	L 135.1 270.3 262.1 343.55 262.1 328.05 135.1 255.15 Z"/>
					</g>
					<g id="Layer45_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 294.5
	L 397.5 277 261.75 355.3 261.75 372.75 397.5 294.5 Z"/>
					</g>
					<g id="Layer44_0_FILL">
						<path class="middleRightCrust" fill="#C89451" stroke="none" d="
	M 397.5 269.95
	L 397.15 266.6 262.1 343.2 262.1 355.95 397.5 279.7 397.5 269.95 Z"/>
					</g>
					<g id="Layer43_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 266.6
	L 397.5 250.45 261.75 328.4 261.75 343.85 397.5 266.6 Z"/>
					</g>
					<g id="Layer41_0_FILL">
						<path class="greyRoad" fill="#B2B2B1" stroke="none" d="
	M 295.05 283.05
	Q 299.05 280.35 308.45 275.3 317.85 269.95 323.6 266.9
	L 268.8 233.65 338.05 191.35 309.15 174.55 177.75 254.5
	Q 191.55 262.2 198.25 266.25 204.65 269.95 209.7 271.95
	L 241.6 250.45 295.05 283.05 Z"/>
					</g>
					<g id="Layer40_0_FILL">
						<path fill="#FFFFFF" stroke="none" d="
	M 199.95 256.85
	Q 194.55 261.2 191.9 262.2
	L 194.9 263.9 200.95 259.2 199.95 256.85
	M 225.8 243.75
	L 224.8 241.75 211.05 250.8 212.05 252.8 225.8 243.75
	M 308.15 275.65
	L 296.7 266.6 295.35 268.6 306.8 277.7 308.15 275.65
	M 275.9 253.5
	L 274.55 255.5 285.95 264.55 287.3 262.55 275.9 253.5
	M 251.7 227.3
	L 250.7 225.25 236.9 234.35 237.9 236.35 251.7 227.3
	M 257.05 240.7
	L 254.05 240.7 268.8 249.8 269.5 247.75 257.05 240.7
	M 277.2 207.8
	L 263.45 216.85 264.45 218.9 278.25 209.8 277.2 207.8
	M 305.1 192.65
	L 304.1 190.65 290.3 199.75 291.35 201.75 305.1 192.65 Z"/>
					</g>
					<g id="Layer38_0_FILL">
						<path class="frontFascia" fill="#ECB27B" stroke="none" d="
	M 359.25 187.95
	L 346.4 174.95 333.85 202.9 359.25 187.95 Z"/>
					</g>
					<g id="Layer37_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 334 201.05
	L 334.35 232 359.2 217.55 359.25 187.95 334 201.05 Z"/>
					</g>
					<g id="Layer36_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 334.35 232.3
	L 334.35 205.1 305.1 191.35 305.1 216.85 334.35 232.3 Z"/>
					</g>
					<g id="Layer35_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 329.7 167.9
	L 331.05 167.9 344.55 176.7 347.85 176.7 363 192.25 363.15 189.55 350.65 176.7 350.55 176.7 334.25 167.5 334.25 159.1 329.7 159.1 329.7 164.9 322.65 160.95 322.3 162.15 329.7 167 329.7 167.9 Z"/>
					</g>
					<g id="Layer34_0_FILL">
						<path class="leftRoof" fill="#F2563B" stroke="none" d="
	M 334.05 207.05
	L 350.65 176.7 322.1 160.45 302.1 192.05 334.05 207.05 Z"/>
					</g>
					<g id="Layer30_0_FILL">
						<path id="windowFour" class="windows" stroke="none" fill="#975A42" d="
	M 341.35 203.3
	Q 340.9 203.45 340.5 203.8 340.1 204.2 339.85 204.75 339.7 205 339.7 205.3 339.6 205.75 339.7 206.1 339.7 206.15 339.7 206.2 339.8 206.5 340 206.8 340.55 207.4 341.45 207.4 342.35 207.4 343 206.8 343.4 206.5 343.65 206.1 343.85 205.75 343.95 205.3 344.05 204.4 343.55 203.8 343.3 203.45 343 203.3 342.65 203.15 342.2 203.15 341.8 203.15 341.35 203.3
	M 355.85 198.45
	Q 355.8 198.2 355.6 198 355.1 197.4 354.2 197.4 353.35 197.4 352.6 198 351.85 198.65 351.7 199.55 351.7 199.7 351.7 199.85 351.6 200.5 352 201.05 352.55 201.65 353.45 201.65 354.3 201.65 355.05 201.05 355.45 200.7 355.7 200.25 355.8 200.05 355.9 199.85 355.95 199.7 355.95 199.55 356.05 198.95 355.85 198.45 Z"/>
						<path class="door" fill="#B65041" stroke="none" d="
	M 351.95 211.2
	L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2
	M 351.2 211.2
	L 351.35 211.2 351.35 211.1 351.2 211.2 Z"/>
					</g>
					<g>
						<path id="Layer30_0_FILL" fill="#000000" fill-opacity="1" stroke="none" d="
	M 183.7 215.3
	L 183.7 215.6
	Q 187.25 231.75 212.25 234.35
	L 183.7 215.3 Z"/>
					</g>
					<g id="Layer29_0_FILL">
						<path fill="#000000" fill-opacity="0.4" stroke="none" d="
	M 305.1 216.85
	L 305.15 217.2
	Q 309.45 233.2 334.35 232.3
	L 305.1 216.85 Z"/>
					</g>
					<g id="Layer27_0_FILL">
						<path class="vegetation" fill="#78A950" stroke="none" d="
	M 177.45 231.65
	Q 175.75 235.35 181.8 239.35 185.5 235.7 185.15 231.3 182.8 230.65 181.45 234 179.45 231.3 177.45 231.65
	M 236.9 266.6
	Q 235.2 270.3 241.25 274.3 244.95 270.6 244.65 266.25 242.3 265.6 240.95 268.95 238.9 266.25 236.9 266.6
	M 254.7 277
	Q 253.05 280.7 259.1 284.75 262.75 281.05 262.45 276.65 260.1 276 258.75 279.35 256.7 276.65 254.7 277
	M 315.5 245.75
	Q 313.5 243.05 311.5 243.4 309.8 247.1 315.85 251.15 319.55 247.45 319.2 243.05 316.85 242.4 315.5 245.75
	M 295.35 232.65
	Q 293.7 236.35 299.75 240.4 303.45 236.7 303.1 232.3 300.75 231.65 299.4 235 297.4 232.3 295.35 232.65
	M 277.2 171.85
	Q 275.55 175.55 281.6 179.55 285.3 175.85 284.95 171.5 282.6 170.85 281.25 174.2 279.25 171.5 277.2 171.85 Z"/>
					</g>
					<g id="Layer26_0_FILL">
						<path class="treeWood" fill="#AE663D" stroke="none" d="
	M 175.1 177.55
	L 172.05 177.55 172.05 191.1 159.3 172.85
	Q 154.6 171.5 172.05 195.7
	L 172.05 212.5 175.1 212.5 175.1 177.55
	M 252.7 151.35
	L 249 151.35 249 176.9 252.7 176.9 252.7 151.35 Z"/>
					</g>
					<g id="Layer25_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 192.55 179.55
	Q 200.95 173.5 200.95 165.1 200.95 156.4 192.55 150 184.15 144.3 172.05 144.3 160.3 144.3 151.9 150 143.15 156.4 143.15 165.1 143.15 173.5 151.9 179.55 160.3 185.95 172.05 185.95 184.15 185.95 192.55 179.55
	M 236.25 106.65
	Q 230.2 116.05 230.2 129.15 230.2 142.25 236.25 151.35 242.3 160.75 250.7 160.75 258.75 160.75 264.8 151.35 270.85 142.25 270.85 129.15 270.85 116.05 264.8 106.65 258.75 97.6 250.7 97.6 242.3 97.6 236.25 106.65 Z"/>
					</g>
					<g id="Layer24_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 158.3 221.9
	Q 160.65 221.9 161.95 220.2 163 219.55 163.3 218.55 164.65 218.9 166.35 218.9 170.05 218.9 172.4 216.2 175.1 213.85 175.1 210.15 175.1 206.45 172.4 203.75 170.05 201.4 166.35 201.4 162.65 201.4 159.95 203.75 157.6 206.45 157.6 210.15 157.6 210.8 157.6 211.15 155.95 211.5 154.6 212.5 152.9 214.15 152.9 216.55 152.9 218.9 154.6 220.2 156.25 221.9 158.3 221.9
	M 338.35 240.05
	Q 341.05 237.7 341.05 234 341.05 230.3 338.35 227.6 336 225.25 332.3 225.25 328.65 225.25 325.95 227.6 323.6 230.3 323.6 234 323.6 237.7 325.95 240.05 328.65 242.75 332.3 242.75 336 242.75 338.35 240.05 Z"/>
					</g>
					<g id="Layer22_0_FILL">
						<path class="rightRoof" fill="#D05041" stroke="none" d="
	M 220 173.85
	L 236.8 186.7 264.35 171.15 244.5 159.55 220 173.85 Z"/>
					</g>
					<g id="Layer21_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 212.25 191.35
	L 183.35 172.3 183.7 215.3 212.25 234.35 212.25 191.35 Z"/>
					</g>
					<g id="Layer20_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 192.1 149.85
	L 236.45 174.8 243.1 171.4
	Q 220.05 150.55 196.3 139.95
	L 192.1 149.85 Z"/>
					</g>
					<g id="Layer19_0_FILL">
						<path class="frontFascia" fill="#EBB17B" stroke="none" d="
	M 226.85 160.95
	L 212 190.6 229.75 192.6 239.75 172.85 226.85 160.95 Z"/>
					</g>
					<g id="Layer18_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 240.15 172.65
	L 211.9 191.6 212.25 233.65 264.35 201.7 264.35 170.8 240.8 184.45 240.15 172.65 Z"/>
					</g>
					<g id="Layer17_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 210.9 142.2
	L 205.9 142.2 205.9 152.65 210.9 152.65 210.9 142.2 Z"/>
					</g>
					<g>
						<path id="Layer16_0_FILL" class="leftRoof" fill="#F2563B" stroke="none" d="
	M 210.25 195.5
	L 227.4 160.95 195.45 141.35 177.65 175.85 210.25 195.5 Z"/>
					</g>
					<g>
						<path id="sun" fill="#E3BD0E" stroke="none" d="
	M 257.05 15.95
	Q 251.7 15.95 248 19.65 244.3 23.35 244.3 28.7 244.3 34.1 248 37.8 251.7 41.5 257.05 41.5 262.45 41.5 266.15 37.8 269.85 34.1 269.85 28.7 269.85 23.35 266.15 19.65 262.45 15.95 257.05 15.95 Z"/>
					</g>
					<g id="Layer8_0_FILL">
						<path fill="#975A42" stroke="none" d="
	M 238.45 189.65
	Q 238.295703125 189.362109375 238.05 189.1 237.35 188.3 236.2 188.3 235.05 188.3 234.15 189.1 233.3 189.9 233.2 191.05 233.1 192.2 233.8 193 234.55 193.8 235.7 193.8 236.85 193.8 237.7 193 238.1970703125 192.558203125 238.45 192 238.6552734375 191.56484375 238.7 191.05 238.7671875 190.276953125 238.45 189.65
	M 220.55 197.55
	Q 220 197.55 219.5 197.75 218.95 197.95 218.5 198.35 217.933203125 198.8833984375 217.7 199.55 217.5833984375 199.916796875 217.55 200.3 217.4923828125 200.96171875 217.7 201.5 217.852734375 201.9103515625 218.15 202.25 218.95 203.05 220.1 203.05 221.25 203.05 222.05 202.25 222.95 201.45 223.05 200.3 223.15 199.15 222.4 198.35 222.05 197.95 221.65 197.75 221.15 197.55 220.55 197.55 Z"/>
					</g>
					<g id="Layer7_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 233.55 206.75
	L 225.9 211.95 226.25 225.5 233.95 220.35 233.55 206.75 Z"/>
					</g>
					<g>
						<path id="windowOne" class="windows" fill="#975A42" stroke="none" d="
	M 188.65 198.4
	L 188.8 204.1 198.65 210.45 198.55 204.75 188.65 198.4
	M 208.45 216.8
	L 208.35 211.1 198.55 204.75 198.65 210.45 208.45 216.8
	M 188.8 204.1
	L 188.95 209.8 198.8 216.15 198.65 210.45 188.8 204.1
	M 208.6 222.5
	L 208.45 216.8 198.65 210.45 198.8 216.15 208.6 222.5 Z"/>
					</g>
					<g>
						<path id="windowThree" class="windows" fill="#975A42" stroke="none" d="
	M 311.7 214.1
	L 318.55 217.55 318.45 211.9 311.6 208.45 311.7 214.1
	M 325.4 221
	L 325.25 215.35 318.45 211.9 318.55 217.55 325.4 221
	M 318.4 206.2
	L 311.5 202.75 311.6 208.45 318.45 211.9 318.4 206.2
	M 325.25 215.35
	L 325.2 209.7 318.4 206.2 318.45 211.9 325.25 215.35 Z"/>
					</g>
					<g id="Layer2_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 259.7 183.25
	L 244.6 191.9 244.6 213.8 259.7 204.55 259.7 183.25 Z"/>
					</g>
					<path id="windowTwo" fill="#975A42" class="windows" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" d="
	M 223.05 200.3
	Q 222.95 201.45 222.05 202.25 221.25 203.05 220.1 203.05 218.95 203.05 218.15 202.25 217.852734375 201.9103515625 217.7 201.5 217.4923828125 200.96171875 217.55 200.3 217.5833984375 199.916796875 217.7 199.575 217.933203125 198.8833984375 218.5 198.35 218.95 197.95 219.5 197.75 220 197.55 220.55 197.55 221.15 197.55 221.65 197.75 222.05 197.95 222.4 198.35 223.15 199.15 223.05 200.3 Z
	M 238.7 191.05
	Q 238.6552734375 191.56484375 238.45 192 238.1970703125 192.558203125 237.7 193 236.85 193.8 235.7 193.8 234.55 193.8 233.8 193 233.1 192.2 233.2 191.05 233.3 189.9 234.15 189.1 235.05 188.3 236.2 188.3 237.35 188.3 238.05 189.1 238.295703125 189.362109375 238.45 189.65 238.7671875 190.276953125 238.7 191.05 Z"/>
					<path fill="#F2563B" stroke="none" d=" M 351.95 211.2 L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2 Z"/>
					<path id="Layer6_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 198.55 204.75
	L 208.35 211.1 208.45 216.8 208.6 222.5 198.8 216.15 188.95 209.8 188.8 204.1 188.65 198.4 198.55 204.75 198.65 210.45 208.45 216.8
	M 198.8 216.15
	L 198.65 210.45 188.8 204.1"/>
					<path id="Layer5_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 325.25 215.35
	L 325.4 221 318.55 217.55 311.7 214.1 311.6 208.45 311.5 202.75 318.4 206.2 325.2 209.7 325.25 215.35 318.45 211.9 318.55 217.55
	M 318.4 206.2
	L 318.45 211.9 311.6 208.45"/>
				</defs>
				<g id="shadow">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use xlink:href="#bottomShadow"/>
					</g>
				</g>
				<g transform="matrix( 1, 0, 0, 1, 0,0) ">
					<use xlink:href="#sun"/>
				</g>
				<g id="earth">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer52_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer51_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer50_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer48_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer47_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer46_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer45_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer44_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer43_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer41_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer40_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer38_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer37_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer36_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer35_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer34_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowFour"/>
						<use class="element" xlink:href="#Layer32_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer30_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer27_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer26_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer25_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer24_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer22_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer21_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer20_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer19_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer18_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer17_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer16_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer8_0_FILL"/>
						<use class="element" xlink:href="#windowTwo"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer7_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowOne"/>
						<use class="element" xlink:href="#Layer6_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowThree"/>
						<use class="element" xlink:href="#Layer5_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer2_0_FILL"/>
					</g>
				</g>
			</svg>
			<! -- End of SVG file -->
			<! -- Moon/Sun Toggle -->
			<div id="toggleButton" class="day-toggle">
				<div class="sun-icon"></div>
				<label class="switch">
            <input id="toggleCheckbox" type="checkbox">
            <div class="slider"></div>
        </label>
				<div class="cloud-icon"></div>
			</div>
			<! -- Moon/Sun Toggle -->
			<! -- End of Container -->
		</div>
			</div>
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zero Days</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">人生如逆旅    我亦是行人</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/07/面试官：Vue-和-React-的优点分别是什么？你应该这么答！/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李斌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/tx.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zero Days">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">面试官：Vue 和 React 的优点分别是什么？你应该这么答！</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-07T22:26:06+08:00">
                2019-09-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="原文转自知乎Vue-和-React-的优点分别是什么？"><a href="#原文转自知乎Vue-和-React-的优点分别是什么？" class="headerlink" title="原文转自知乎Vue 和 React 的优点分别是什么？"></a>原文转自<strong>知乎</strong><a href="https://www.zhihu.com/question/301860721/answer/724759264" target="_blank" rel="noopener"><font color="#dd0000">Vue 和 React 的优点分别是什么？</font></a></h2><p>Vue 即将演进到 v3.0，刚刚过去的端午节<a href="https://www.zhihu.com/people/evanyou/activities" target="_blank" rel="noopener">尤雨溪</a></p>
<p>也做了 「State of vue 」的精彩分享；另一方面，React 到了成熟壮年期，hooks 等特性引领了未来发展趋势。</p>
<p>记得 2013，Pete hunt 在推广 React 时，做了一个足以“颠覆前端开发”的变革演讲「React: Rethinking best practices」。目前来看，演讲中所带来的先进理念仍然是前端开发的“真谛”。但是有些细节和设计却应该随着时代发展而重新思考。尤其是再对比 Vue3.0 的情况下，也许能给我带来更多的启发。</p>
<p>2020 年了！！！我们是时候从更新的角度来 <strong>review</strong> 这个问题了！！！</p>
<p>我对一些老生常谈的话题不再赘述，比如：</p>
<ul>
<li>Vue template 对比 JSX</li>
</ul>
<p>我认为这只是「解决同一个问题的不同实现思路」，完全可以由开发者的个人偏好来决定。退一步讲，Vue 中也不是不可以使用 JSX；同样，JSX 也不是无法实现 Vue template 的特性，比如模版指令，我们完全可以从工程化的角度实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">const</span> visible = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div r-<span class="keyword">if</span>=&#123;visible&#125;&gt;</span><br><span class="line">       content </span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">const</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div r-<span class="keyword">for</span>=&#123;item <span class="keyword">in</span> list&#125;&gt;</span><br><span class="line">        &#123;item&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当然，这需要我们基于抽象语法树 AST，实现解析模版指令的插件，思路也很简单：<br><img src="https://camo.githubusercontent.com/9c8f27e8d9a585d6e7c60e9be96f058826b22c3f/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d63313836633232356636383762623765356537376565616332303061636461335f68642e6a7067" alt><br><img src="https://camo.githubusercontent.com/37a7b0ec143e0df915d1e4f37fc4bb4b4bb87734/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d63313836633232356636383762623765356537376565616332303061636461335f68642e6a7067" alt><br>相关代码我就不贴出来了，感兴趣的小伙伴可以找我讨论。</p>
<p>再比如，</p>
<ul>
<li>Vue 和 React 实现复用</li>
</ul>
<p>这个方面我觉得也没有复述的必要，因为在实现复用的道路上，Vue 和 React 都是经历了：<font color="#f00"><strong> Mixin -Hoc（Vue 比较少用，模版套模版，有点奇怪了）-render prop（Vue 有类似思想的实现为 slot） -hooks（Vue3.0 function based API）</strong></font>。</p>
<p>在这方面，UI 层面的复用本身不是问题：因为组件化本身就是天然可组合的。重要的是逻辑复用：hooks 和 Vue3.0 function based API 的设计无疑是最先进的，它将逻辑复用和组件表达在一定程度上解耦，避免了“面向生命周期编程”的困扰。顺便达到了更好的组合性和 TS 友好性。</p>
<font color="#f00"> 我真正想深入的是这些方面：</font>

<ul>
<li><font color="#f00">Vue 和 React 的核心差异，以及核心差异对后续设计产生的“不可逆”影响 </font></li>
<li><font color="#f00">Vue 和 React 在 API 设计风格和哲学理念（甚至作者个人魅力）上的不同 </font></li>
<li><font color="#f00">Vue 和 React 在工程化预编译构建阶段，AOT 和 JIT 优化的本质差异和设计 </font>

</li>
</ul>
<p>第一点，首先我想明确一下：  用 Evan you 的话说：双向绑定是对表单来说的，表单的双向绑定，说到底不过是 value 的单向绑定 + onChange事件侦听的一个语法糖。这个并不是 React 和 Vue在理念上真正的差别体现。同时，单向数据流不是 Vue 或者 React 的差别，而是 Vue 和 React 的共同默契选择。单向数据流核心是在于避免组件的自身（未来可复用）状态设计，它强调把 state hoist 出来进行集中管理。</p>
<p>而真正我认为 React 和 Vue 在理念上的差别，且对后续设计实现产生不可逆影响的是：<font color="#f00"> Vue 进行数据拦截/代理，它对侦测数据的变化更敏感、更精确，也间接对一些后续实现（比如 hooks，function based API）提供了很大的便利。这个我们后面会提到；React 推崇函数式，它直接进行局部重新刷新（或者重新渲染），这样更粗暴，但是更简单，让我们的开发回到了上古时代，就是刷新呗，前端开发非常简单。但是 React 并不知道什么时候“应该去刷新”，触发局部重新变化是由开发者手动调用 setState完成。  </font></p>
<p>React setState 引起局部重新刷新。为了达到更好的性能，React 暴漏给开发者 shouldComponentUpdate 这个生命周期 hook，来避免不需要的重新渲染<font color="#f00"><strong>（相比之下，Vue 由于采用依赖追踪，默认就是优化状态：你动了多少数据，就触发多少更新，不多也不少，而 React 对数据变化毫无感知，它就提供 React.createElement 调用已生成 virtual dom）。</strong> </font><br>另外 React 为了弥补不必要的更新，会对 setState的行为进行合并操作。因此 setState 有时候会是异步更新，但并不是总是“异步”，具体可见我之前的回答：<br><a href="https://www.zhihu.com/question/66749082/answer/246217812" target="_blank" rel="noopener">问一个react更新State的问题？​www.zhihu.com!</a><br>在设计上，这给开发者带来了额外的“心智负担”，也引出了一些潜在问题（我把它叫做 React-helmet 门（我编的），有机会再展开）。再次赘述，Vue 的响应式理念，进行数据拦截和代理中不存在类似问题（当然也有 batch 的操作）。</p>
<p>这个设计上的差别，直接影响了 hooks 的实现和表现。</p>
<font color="#f00"><strong> React hook 底层是基于链表（Array）实现，每次组件被 render 的时候都会顺序执行所有的 hooks，因为底层是链表，每一个 hook 的 next 是指向下一个 hook 的，所以要求开发者不能在不同 hooks 调用中使用判断条件，因为 if 会导致顺序不正确，从而导致报错。</strong> </font> 如下代码会报错：<br><img src="https://camo.githubusercontent.com/a952646d4484829cae7f77350846cac264fc6a10/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d63613766666635666232656164363263376361666435346639633537616636335f68642e6a7067" alt><br><img src="https://camo.githubusercontent.com/e918f1eb17d6062ed5d39e89b02fbd91c5ec6d7d/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d63613766666635666232656164363263376361666435346639633537616636335f68642e6a7067" alt><br>相反，<font color="#f00"><strong> vue hook 只会被注册调用一次，vue 之所以能避开这些麻烦的问题，根本原因在于它对数据的响应是基于响应式的，是对数据进行了代理的。他不需要链表进行 hooks 记录，它对数据直接代理观察。 </strong> </font>

<p>但是 Vue 这种响应式的方案，也有自己的困扰。比如 useState() （实际上 evan 命名为 value()）返回的是一个 value wrapper （包装对象）。一个包装对象只有一个属性：.value ，该属性指向内部被包装的值。我们知道在 JavaScript 中，原始值类型如 string 和 number 是只有值，没有引用的。不管是使用 Object.defineProperty 还是 Proxy，我们无法追踪原始变量后续的变化。因此 Vue 不得不返回一个包装对象，不然对于基本类型，它无法做到数据的代理和拦截。这算是因为设计理念带来的一个非常非常微小的 side effect。从 Evan you 的截图中，我圈了出来：<br><img src="https://camo.githubusercontent.com/9287cb76a89e3f503048116667b31a184e72be5d/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d30333931663663363064653332353638346165623233303631346266383161655f68642e6a7067" alt><br><img src="https://camo.githubusercontent.com/0ec3a93202255e76685252587abc5cb0072ea224/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d30333931663663363064653332353638346165623233303631346266383161655f68642e6a7067" alt><br>简单说一下我个人的看法：事实上，Mobx在 React 社区很流行，Mobx采用了响应式的思想，实际上 Vue 也采用了几乎相同的反应系统。在一定程度上，React + Mobx也可以被认为是更繁琐的 Vue。所以开发者习惯组合使用它们，那么（也许）选择 Vue 会更合理。</p>
<p>再来思考，Mobx 的流行也许也从侧面说明到底什么样的设计可能是更现代化的设计。</p>
<p>第二点，在设计哲学上。我认为 Evan you 很好地体现了中国人 humble 和 modest 的优良品质（开玩笑～），我选取了比较具有代表性的事件系统：</p>
<p>• React 事件系统庞大而复杂。其中，它暴漏给开发者的事件不是原生事件，是 React 包装过合成事件，并且非常重要的一点是，合成事件是池化的。也就是说不同的事件，可能会共享一个合成事件对象。另外一个细节是，<font color="#f00"><strong> React 对所有事件都进行了代理，将所有事件都绑定 document 上。 </strong> </font> 请读者仔细体会下面的代码：<br><img src="https://camo.githubusercontent.com/d72bf8cceef944a04091d4e599999f49a6098eac/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d61623361393036326330623830373265306337386336636139333463346638325f68642e6a7067" alt><img src="https://camo.githubusercontent.com/d749a62c3f0a3c66f8567335d089aafa3fe58e8e/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d61623361393036326330623830373265306337386336636139333463346638325f68642e6a7067" alt><img src="https://camo.githubusercontent.com/62c2518107e2b14af201f4958b2afc14feb5fed3/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d37623139653337646563396162633938613563663864646361383030303833305f68642e6a7067" alt><img src="https://camo.githubusercontent.com/29ac1d9255e478ac6cd0aae28cb86861a361dc17/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d37623139653337646563396162633938613563663864646361383030303833305f68642e6a7067" alt><img src="https://camo.githubusercontent.com/63e3de8d16cc2afe2c506aa869973479398d16a1/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d34636534636165626534353063613661323833356265326334336664353661365f68642e6a7067" alt><img src="https://camo.githubusercontent.com/edbe66debc31b9a0d1286f1b79d2e1d1eeff4b1f/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d34636534636165626534353063613661323833356265326334336664353661365f68642e6a7067" alt><br>你告诉我他们的输出值好不好？</p>
<ul>
<li><font color="#f00"><strong> 另外，React 中事件处理函数中的 this 默认不指向组件实例 </strong> </font>  。我就懒得再细说这个了。</li>
<li>Vue 事件系统我不多讲，大家看图：</li>
</ul>
<p><img src="https://camo.githubusercontent.com/85e105e0a27cfd7e6397eabcf31855c2be79f7f5/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d30313236396535303732623836383830326332663330336431623039663161625f68642e6a7067" alt><br><img src="https://camo.githubusercontent.com/b149b13015f963dd6e11efafab2e9e6702cd24ac/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d30313236396535303732623836383830326332663330336431623039663161625f68642e6a7067" alt></p>
<ul>
<li><font color="#f00"><strong> 当然 Vue 事件处理函数中的 this 默认指向组件实例  </strong> </font>。连源码都写的那么“清晰易懂”</li>
</ul>
<p><img src="https://camo.githubusercontent.com/263e31a84d7459a61d8629143b9d1167b44a41d7/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d35383538346333383139303238343165386533306339363738633564396636385f68642e6a7067" alt><br><img src="https://camo.githubusercontent.com/c092fa4267b2bc0e6db67732c7e4e6c3e9128bde/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d35383538346333383139303238343165386533306339363738633564396636385f68642e6a7067" alt><br>简单说一下我个人的看法，从事件 API上我们就能看出前端框架在设计的一个不同思路：<font color="#f00"><strong>  React 设计是改变开发者，提供强大而复杂的机制，开发者按照我的来；Vue 是适应开发者，让开发者怎么爽怎么来。 </strong> </font></p>
<p>第三点，预编译优化问题。这个非常值得深挖，但是回答内容已然这么长了，我简单来讲吧。</p>
<p>Vue3.0 提出的动静结合的 DOM diff 思想，我个人认为是 Vue 近几年在“创新”上的一个很好体现。之所以能够做到动静结合的 DOM diff，或者把这个问题放的更大：之所以能够做到预编译优化，是因为 Vue core 可以静态分析 template，在解析模版时，整个 parse 的过程是利用正则表达式顺序解析模板，当解析到开始标签、闭合标签、文本的时候都会分别执行对应的回调函数，来达到构造 AST 树的目的。<br><img src="https://camo.githubusercontent.com/360889253db6a22b97d740791a2d35b7fb22c84b/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d61633034336333643033333962343433396364336430613139333636303637665f68642e6a7067" alt><img src="https://camo.githubusercontent.com/3dfeb3cf01fa694c527e9a060c479c10958ce714/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d61633034336333643033333962343433396364336430613139333636303637665f68642e6a7067" alt><img src="https://camo.githubusercontent.com/f6ac846f48a4d5ab8c220840fdffd8a4237fd000/68747470733a2f2f706963312e7a68696d672e636f6d2f35302f76322d31303034333738636131336130636461653861393962633035653433376539395f68642e6a7067" alt><img src="https://camo.githubusercontent.com/1ad43521e18fd666130f7cb6501453e1fd15f192/68747470733a2f2f706963312e7a68696d672e636f6d2f38302f76322d31303034333738636131336130636461653861393962633035653433376539395f68642e6a7067" alt></p>
<p>我关心的是：React 能否像 Vue 那样进行预编译优化？？？</p>
<p>Vue 需要做数据双向绑定，需要进行数据拦截或代理，那它就需要在预编译阶段静态分析模版，分析出视图依赖了哪些数据，进行响应式处理。而 React 就是局部重新渲染，React 拿到的或者说掌管的，所负责的就是一堆递归 React.createElement的执行调用，它无法从模版层面进行静态分析。</p>
<p>因此 React JSX 过度的灵活性导致运行时可以用于优化的信息不足。</p>
<p>但是，在 React 框架之外，我们作为开发者还是可以通过工程化手段达到类似的目的，因为我们能够接触到 JSX 编译成 React.createElement 的整个过程。开发者在项目中开发 babel 插件，实现 JSX 编译成 React.createElement，那么优化手段就是是从编写 babel 插件开始：<br><img src="https://camo.githubusercontent.com/74302769bb32e7b576c2b3c0ecdb45e9def89fd3/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d31386632303963623965303664356432633932636362383531386134346266625f68642e6a7067" alt><img src="https://camo.githubusercontent.com/dc6d8c185357bc2bf681ea32355cd92aae9db3cd/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d31386632303963623965303664356432633932636362383531386134346266625f68642e6a7067" alt><br>（这里我不再展开优化的原理和代码实现了，不增加额外的“心智负担”，感兴趣的同学可以关注我，或者关注 GIAC 全球互联网架构大会我的分享）</p>
<p>当然 React 并不是没有意识到这个问题，他们在积极的同 prepack 合作。力求弥补构建优化的先天不足。</p>
<p>Prepack 同样是 FaceBook 团队的作品。它让你编写普通的 JavaScript 代码，它在构建阶段就试图了解代码将做什么，然后生成等价的代码，减少了运行时的计算量，就相当于 JavaScript 的部分求值器。</p>
<p>我就用 Prepack 结合 React 尝了个鲜：<br><img src="https://camo.githubusercontent.com/d199c6e31ecada0aba2b701ff4132a73249173ec/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d65373630353939643634666638623334613337636334646438616466393537385f68642e6a7067" alt><img src="https://camo.githubusercontent.com/d53813e9f8b56161729430cfef85d297f2b3d935/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d65373630353939643634666638623334613337636334646438616466393537385f68642e6a7067" alt><br>对比：<br><img src="https://camo.githubusercontent.com/b9607d71feebba22fa708b849340f7b8fed8fde5/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d64366561623038313939303861646136613962316331316632656337333161665f68642e6a7067" alt><img src="https://camo.githubusercontent.com/ee3eadfd54797cfd08bfd7d69a68594db2af2215/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d64366561623038313939303861646136613962316331316632656337333161665f68642e6a7067" alt><br>这不正是 React 梦寐以求的吗？</p>
<p>另外一个 React 的方向就是 fiber 时间分片了，</p>
<p><a href="//www.zhihu.com/people/cfdec6226ece879d2571fbc274372e9f">尤雨溪</a></p>
<p>说过（可能也是玩笑，说者无意，也可能是我没有幽默感，认真解读了）：<font color="#f00"><strong> “React 是伤害已经造成，无法自身在预编译阶段做到更多，时间分片这样的优化只是在弥补伤害” </strong> </font> 。其实作为 React 的粉丝，这里吹了这么久 Vue，我发表一下我的想法：这反倒算是 React 多管齐下的一个做法。</p>
<p>最后，上一个借助 Babel plugin AST 实现一个类似预编译优化：remove inline functions 的小例子。<br><img src="https://camo.githubusercontent.com/b221bc96f4b828263ec1c67c25788638ab2f48ed/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d34356232643766393738353837356362323337323835333233323536646262375f68642e6a7067" alt><img src="https://camo.githubusercontent.com/953891328922a7a38bcf013c4e3f75707b24948a/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d34356232643766393738353837356362323337323835333233323536646262375f68642e6a7067" alt><br>预编译后：<br><img src="https://camo.githubusercontent.com/d2ffb50afff93ff95b63a9f2e69aa93b57f9a404/68747470733a2f2f706963342e7a68696d672e636f6d2f35302f76322d33633534386132386632393738303330326532656236643864643063636533665f68642e6a7067" alt><img src="https://camo.githubusercontent.com/b6ecf8503601e7f5d30595637f632708849de055/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d33633534386132386632393738303330326532656236643864643063636533665f68642e6a7067" alt></p>
<p>考量和设计一个前端解决方案的时候，向上扩展和向下兼容是非常重要的。Vue向上扩展就是 React，Vue向下兼容后就类似于 jQuery，渐进式有时候比革命性更符合时代的要求。</p>
<p>比如这个文稿页使用 React 渲染富文本生成的完整页面：<br><img src="https://camo.githubusercontent.com/27161dd58b303f982edc2ddb7baa81e0a9b18792/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d37616261373166376262326333306164626464323664333331343861333966655f68642e6a7067" alt><img src="https://camo.githubusercontent.com/b9075ab3c57dd31908b937897e9002333c2ecf79/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d37616261373166376262326333306164626464323664333331343861333966655f68642e6a7067" alt><img src="https://camo.githubusercontent.com/780a47d3c09fa237260ab926310a7108879fb708/68747470733a2f2f706963332e7a68696d672e636f6d2f35302f76322d36626261303264396665623337333061323863326231623033656434366362335f68642e6a7067" alt><img src="https://camo.githubusercontent.com/9a0d8f49573349b39b6d27fc45e4e0da329e6f90/68747470733a2f2f706963332e7a68696d672e636f6d2f38302f76322d36626261303264396665623337333061323863326231623033656434366362335f68642e6a7067" alt><br>后端返回了富文本内容，过了几天产品的需求是实现：<br><img src="https://camo.githubusercontent.com/01573487e85cf47c28490c37b58952b46fe57e6f/68747470733a2f2f706963322e7a68696d672e636f6d2f35302f76322d35376237326430316333313737656233316533626533323063636434663563645f68642e6a7067" alt><img src="https://camo.githubusercontent.com/892dc25259ef11670d9a7703e4898c822b3cb5eb/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d35376237326430316333313737656233316533626533323063636434663563645f68642e6a7067" alt><br>添加笔记，且在划线高亮当前行后添加笔记内容，以及点击弹出动态 tooltip 等等。。。想想用 React 该怎么做，且做的符合 React 思想？</p>
<p>我不吐槽更多了：一个 React 粉丝向 Vue3.0 致敬！</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/03/vuex为小程序增加状态管理够用版/" rel="next" title="vuex为小程序增加状态管理够用版">
                <i class="fa fa-chevron-left"></i> vuex为小程序增加状态管理够用版
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/13/前端如何淡定渲染10万条数据/" rel="prev" title="前端如何淡定渲染10万条数据">
                前端如何淡定渲染10万条数据 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/tx.jpg" alt="李斌">
            
              <p class="site-author-name" itemprop="name">李斌</p>
              <p class="site-description motion-element" itemprop="description">人生如逆旅     我亦是行人</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">200</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">121</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/libin1991" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/57e737f6c4c971005f6bcd8d" target="_blank" title="juejin">
                      
                        <i class="fa fa-fw fa-spinner"></i>juejin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#原文转自知乎Vue-和-React-的优点分别是什么？"><span class="nav-number">1.</span> <span class="nav-text">原文转自知乎Vue 和 React 的优点分别是什么？</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李斌</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <!--
  	描述：点击红心
  -->
  <script type="text/javascript" src="/js/src/clicklove.js"></script>
  <!--
  	描述：复制代码
  -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</body>
</html>


