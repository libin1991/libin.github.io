<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="JavaScript相关的数据结构  JavaScript相关的数据结构 列表 列表的抽象数据类型定义 实现列表类 append 给列表添加一个元素 find 从列表中查找某一个元素 remove 从列表中删除一个元素 length 列表中有多少个元素 toString 显示列表中的元素 insert 向列表中插入一个元素 clear 清空列表中所有的元素 contains 判断给定值是否在列表中">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript相关的数据结构">
<meta property="og:url" content="http://yoursite.com/2019/12/30/JavaScript相关的数据结构/index.html">
<meta property="og:site_name" content="明日之事 事事难求">
<meta property="og:description" content="JavaScript相关的数据结构  JavaScript相关的数据结构 列表 列表的抽象数据类型定义 实现列表类 append 给列表添加一个元素 find 从列表中查找某一个元素 remove 从列表中删除一个元素 length 列表中有多少个元素 toString 显示列表中的元素 insert 向列表中插入一个元素 clear 清空列表中所有的元素 contains 判断给定值是否在列表中">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-01-21T13:59:12.888Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript相关的数据结构">
<meta name="twitter:description" content="JavaScript相关的数据结构  JavaScript相关的数据结构 列表 列表的抽象数据类型定义 实现列表类 append 给列表添加一个元素 find 从列表中查找某一个元素 remove 从列表中删除一个元素 length 列表中有多少个元素 toString 显示列表中的元素 insert 向列表中插入一个元素 clear 清空列表中所有的元素 contains 判断给定值是否在列表中">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/12/30/JavaScript相关的数据结构/">





  <title>JavaScript相关的数据结构 | 明日之事 事事难求</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband">
    	<div class="eevee"><div class="body"><div class="head"><div class="ears"><div class="ear"><div class="lobe"></div></div><div class="ear"><div class="lobe"></div></div></div><div class="face"><div class="eyes"><div class="eye"><div class="eyelid"></div></div><div class="eye"><div class="eyelid"></div></div></div><div class="nose"></div><div class="mouth"></div></div></div><div class="chest"><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div><div class="fur"><div class="patch"></div></div></div><div class="legs"><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div><div class="leg"><div class="inner-leg"></div></div></div><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail"><div class="tail -end"></div></div></div></div></div></div></div></div>
    </div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
    	<div id="sky">
				<div id="background" class="container">
			<!-- svg file -->
			<svg id="svgout" height="100%" width="100%" viewbox="0 0 550 400">
				<defs>
					<g id="bottomShadow">
						<path fill="#000000" stroke="none" d="
		M 270.5 225.95
		L 127.35 316.65 266.8 400 409.6 309.25 270.5 225.95 Z"/>
					</g>
					<g id="Layer52_0_FILL">
						<path class="topGrass" fill="#B9D668" stroke="none" d="
	M 397.85 229.3
	L 397.85 225.6 269.85 152 135.75 228.6 135.75 233.65 262.1 306.55 397.85 229.3 Z"/>
					</g>
					<g id="Layer51_0_FILL">
						<path class="leftSideGrass" fill="#6E9E4F" stroke="none" d="
	M 135.1 229.95
	L 135.1 256.85 262.1 328.4 262.1 301.85 135.1 229.95 Z"/>
					</g>
					<g id="Layer50_0_FILL">
						<path class="rightGrassTop" fill="#8CB154" stroke="none" d="
	M 397.85 225.95
	L 395.8 225.95 261.75 301.55 261.75 328.4 397.85 251.15 397.85 225.95 Z"/>
					</g>
					<g id="Layer48_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.45 282.4
	L 135.75 298.15 262.1 372.1 261.75 355.65 135.45 282.4 Z"/>
					</g>
					<g id="Layer47_0_FILL">
						<path class="middleLeftCrust" fill="#C77E61" stroke="none" d="
	M 135.1 270.3
	L 135.1 283.05 275.9 364.35 271.85 348.9 135.1 270.3 Z"/>
					</g>
					<g id="Layer46_0_FILL">
						<path class="crustLeftTop" fill="#955541" stroke="none" d="
	M 135.1 255.15
	L 135.1 270.3 262.1 343.55 262.1 328.05 135.1 255.15 Z"/>
					</g>
					<g id="Layer45_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 294.5
	L 397.5 277 261.75 355.3 261.75 372.75 397.5 294.5 Z"/>
					</g>
					<g id="Layer44_0_FILL">
						<path class="middleRightCrust" fill="#C89451" stroke="none" d="
	M 397.5 269.95
	L 397.15 266.6 262.1 343.2 262.1 355.95 397.5 279.7 397.5 269.95 Z"/>
					</g>
					<g id="Layer43_0_FILL">
						<path class="topRightCrust" fill="#A47237" stroke="none" d="
	M 397.5 266.6
	L 397.5 250.45 261.75 328.4 261.75 343.85 397.5 266.6 Z"/>
					</g>
					<g id="Layer41_0_FILL">
						<path class="greyRoad" fill="#B2B2B1" stroke="none" d="
	M 295.05 283.05
	Q 299.05 280.35 308.45 275.3 317.85 269.95 323.6 266.9
	L 268.8 233.65 338.05 191.35 309.15 174.55 177.75 254.5
	Q 191.55 262.2 198.25 266.25 204.65 269.95 209.7 271.95
	L 241.6 250.45 295.05 283.05 Z"/>
					</g>
					<g id="Layer40_0_FILL">
						<path fill="#FFFFFF" stroke="none" d="
	M 199.95 256.85
	Q 194.55 261.2 191.9 262.2
	L 194.9 263.9 200.95 259.2 199.95 256.85
	M 225.8 243.75
	L 224.8 241.75 211.05 250.8 212.05 252.8 225.8 243.75
	M 308.15 275.65
	L 296.7 266.6 295.35 268.6 306.8 277.7 308.15 275.65
	M 275.9 253.5
	L 274.55 255.5 285.95 264.55 287.3 262.55 275.9 253.5
	M 251.7 227.3
	L 250.7 225.25 236.9 234.35 237.9 236.35 251.7 227.3
	M 257.05 240.7
	L 254.05 240.7 268.8 249.8 269.5 247.75 257.05 240.7
	M 277.2 207.8
	L 263.45 216.85 264.45 218.9 278.25 209.8 277.2 207.8
	M 305.1 192.65
	L 304.1 190.65 290.3 199.75 291.35 201.75 305.1 192.65 Z"/>
					</g>
					<g id="Layer38_0_FILL">
						<path class="frontFascia" fill="#ECB27B" stroke="none" d="
	M 359.25 187.95
	L 346.4 174.95 333.85 202.9 359.25 187.95 Z"/>
					</g>
					<g id="Layer37_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 334 201.05
	L 334.35 232 359.2 217.55 359.25 187.95 334 201.05 Z"/>
					</g>
					<g id="Layer36_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 334.35 232.3
	L 334.35 205.1 305.1 191.35 305.1 216.85 334.35 232.3 Z"/>
					</g>
					<g id="Layer35_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 329.7 167.9
	L 331.05 167.9 344.55 176.7 347.85 176.7 363 192.25 363.15 189.55 350.65 176.7 350.55 176.7 334.25 167.5 334.25 159.1 329.7 159.1 329.7 164.9 322.65 160.95 322.3 162.15 329.7 167 329.7 167.9 Z"/>
					</g>
					<g id="Layer34_0_FILL">
						<path class="leftRoof" fill="#F2563B" stroke="none" d="
	M 334.05 207.05
	L 350.65 176.7 322.1 160.45 302.1 192.05 334.05 207.05 Z"/>
					</g>
					<g id="Layer30_0_FILL">
						<path id="windowFour" class="windows" stroke="none" fill="#975A42" d="
	M 341.35 203.3
	Q 340.9 203.45 340.5 203.8 340.1 204.2 339.85 204.75 339.7 205 339.7 205.3 339.6 205.75 339.7 206.1 339.7 206.15 339.7 206.2 339.8 206.5 340 206.8 340.55 207.4 341.45 207.4 342.35 207.4 343 206.8 343.4 206.5 343.65 206.1 343.85 205.75 343.95 205.3 344.05 204.4 343.55 203.8 343.3 203.45 343 203.3 342.65 203.15 342.2 203.15 341.8 203.15 341.35 203.3
	M 355.85 198.45
	Q 355.8 198.2 355.6 198 355.1 197.4 354.2 197.4 353.35 197.4 352.6 198 351.85 198.65 351.7 199.55 351.7 199.7 351.7 199.85 351.6 200.5 352 201.05 352.55 201.65 353.45 201.65 354.3 201.65 355.05 201.05 355.45 200.7 355.7 200.25 355.8 200.05 355.9 199.85 355.95 199.7 355.95 199.55 356.05 198.95 355.85 198.45 Z"/>
						<path class="door" fill="#B65041" stroke="none" d="
	M 351.95 211.2
	L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2
	M 351.2 211.2
	L 351.35 211.2 351.35 211.1 351.2 211.2 Z"/>
					</g>
					<g>
						<path id="Layer30_0_FILL" fill="#000000" fill-opacity="1" stroke="none" d="
	M 183.7 215.3
	L 183.7 215.6
	Q 187.25 231.75 212.25 234.35
	L 183.7 215.3 Z"/>
					</g>
					<g id="Layer29_0_FILL">
						<path fill="#000000" fill-opacity="0.4" stroke="none" d="
	M 305.1 216.85
	L 305.15 217.2
	Q 309.45 233.2 334.35 232.3
	L 305.1 216.85 Z"/>
					</g>
					<g id="Layer27_0_FILL">
						<path class="vegetation" fill="#78A950" stroke="none" d="
	M 177.45 231.65
	Q 175.75 235.35 181.8 239.35 185.5 235.7 185.15 231.3 182.8 230.65 181.45 234 179.45 231.3 177.45 231.65
	M 236.9 266.6
	Q 235.2 270.3 241.25 274.3 244.95 270.6 244.65 266.25 242.3 265.6 240.95 268.95 238.9 266.25 236.9 266.6
	M 254.7 277
	Q 253.05 280.7 259.1 284.75 262.75 281.05 262.45 276.65 260.1 276 258.75 279.35 256.7 276.65 254.7 277
	M 315.5 245.75
	Q 313.5 243.05 311.5 243.4 309.8 247.1 315.85 251.15 319.55 247.45 319.2 243.05 316.85 242.4 315.5 245.75
	M 295.35 232.65
	Q 293.7 236.35 299.75 240.4 303.45 236.7 303.1 232.3 300.75 231.65 299.4 235 297.4 232.3 295.35 232.65
	M 277.2 171.85
	Q 275.55 175.55 281.6 179.55 285.3 175.85 284.95 171.5 282.6 170.85 281.25 174.2 279.25 171.5 277.2 171.85 Z"/>
					</g>
					<g id="Layer26_0_FILL">
						<path class="treeWood" fill="#AE663D" stroke="none" d="
	M 175.1 177.55
	L 172.05 177.55 172.05 191.1 159.3 172.85
	Q 154.6 171.5 172.05 195.7
	L 172.05 212.5 175.1 212.5 175.1 177.55
	M 252.7 151.35
	L 249 151.35 249 176.9 252.7 176.9 252.7 151.35 Z"/>
					</g>
					<g id="Layer25_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 192.55 179.55
	Q 200.95 173.5 200.95 165.1 200.95 156.4 192.55 150 184.15 144.3 172.05 144.3 160.3 144.3 151.9 150 143.15 156.4 143.15 165.1 143.15 173.5 151.9 179.55 160.3 185.95 172.05 185.95 184.15 185.95 192.55 179.55
	M 236.25 106.65
	Q 230.2 116.05 230.2 129.15 230.2 142.25 236.25 151.35 242.3 160.75 250.7 160.75 258.75 160.75 264.8 151.35 270.85 142.25 270.85 129.15 270.85 116.05 264.8 106.65 258.75 97.6 250.7 97.6 242.3 97.6 236.25 106.65 Z"/>
					</g>
					<g id="Layer24_0_FILL">
						<path class="vegetation" fill="#77A951" stroke="none" d="
	M 158.3 221.9
	Q 160.65 221.9 161.95 220.2 163 219.55 163.3 218.55 164.65 218.9 166.35 218.9 170.05 218.9 172.4 216.2 175.1 213.85 175.1 210.15 175.1 206.45 172.4 203.75 170.05 201.4 166.35 201.4 162.65 201.4 159.95 203.75 157.6 206.45 157.6 210.15 157.6 210.8 157.6 211.15 155.95 211.5 154.6 212.5 152.9 214.15 152.9 216.55 152.9 218.9 154.6 220.2 156.25 221.9 158.3 221.9
	M 338.35 240.05
	Q 341.05 237.7 341.05 234 341.05 230.3 338.35 227.6 336 225.25 332.3 225.25 328.65 225.25 325.95 227.6 323.6 230.3 323.6 234 323.6 237.7 325.95 240.05 328.65 242.75 332.3 242.75 336 242.75 338.35 240.05 Z"/>
					</g>
					<g id="Layer22_0_FILL">
						<path class="rightRoof" fill="#D05041" stroke="none" d="
	M 220 173.85
	L 236.8 186.7 264.35 171.15 244.5 159.55 220 173.85 Z"/>
					</g>
					<g id="Layer21_0_FILL">
						<path class="leftWall" fill="#C57F42" stroke="none" d="
	M 212.25 191.35
	L 183.35 172.3 183.7 215.3 212.25 234.35 212.25 191.35 Z"/>
					</g>
					<g id="Layer20_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 192.1 149.85
	L 236.45 174.8 243.1 171.4
	Q 220.05 150.55 196.3 139.95
	L 192.1 149.85 Z"/>
					</g>
					<g id="Layer19_0_FILL">
						<path class="frontFascia" fill="#EBB17B" stroke="none" d="
	M 226.85 160.95
	L 212 190.6 229.75 192.6 239.75 172.85 226.85 160.95 Z"/>
					</g>
					<g id="Layer18_0_FILL">
						<path class="frontWall" fill="#EFA258" stroke="none" d="
	M 240.15 172.65
	L 211.9 191.6 212.25 233.65 264.35 201.7 264.35 170.8 240.8 184.45 240.15 172.65 Z"/>
					</g>
					<g id="Layer17_0_FILL">
						<path class="rightRoof" fill="#EF4427" stroke="none" d="
	M 210.9 142.2
	L 205.9 142.2 205.9 152.65 210.9 152.65 210.9 142.2 Z"/>
					</g>
					<g>
						<path id="Layer16_0_FILL" class="leftRoof" fill="#F2563B" stroke="none" d="
	M 210.25 195.5
	L 227.4 160.95 195.45 141.35 177.65 175.85 210.25 195.5 Z"/>
					</g>
					<g>
						<path id="sun" fill="#E3BD0E" stroke="none" d="
	M 257.05 15.95
	Q 251.7 15.95 248 19.65 244.3 23.35 244.3 28.7 244.3 34.1 248 37.8 251.7 41.5 257.05 41.5 262.45 41.5 266.15 37.8 269.85 34.1 269.85 28.7 269.85 23.35 266.15 19.65 262.45 15.95 257.05 15.95 Z"/>
					</g>
					<g id="Layer8_0_FILL">
						<path fill="#975A42" stroke="none" d="
	M 238.45 189.65
	Q 238.295703125 189.362109375 238.05 189.1 237.35 188.3 236.2 188.3 235.05 188.3 234.15 189.1 233.3 189.9 233.2 191.05 233.1 192.2 233.8 193 234.55 193.8 235.7 193.8 236.85 193.8 237.7 193 238.1970703125 192.558203125 238.45 192 238.6552734375 191.56484375 238.7 191.05 238.7671875 190.276953125 238.45 189.65
	M 220.55 197.55
	Q 220 197.55 219.5 197.75 218.95 197.95 218.5 198.35 217.933203125 198.8833984375 217.7 199.55 217.5833984375 199.916796875 217.55 200.3 217.4923828125 200.96171875 217.7 201.5 217.852734375 201.9103515625 218.15 202.25 218.95 203.05 220.1 203.05 221.25 203.05 222.05 202.25 222.95 201.45 223.05 200.3 223.15 199.15 222.4 198.35 222.05 197.95 221.65 197.75 221.15 197.55 220.55 197.55 Z"/>
					</g>
					<g id="Layer7_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 233.55 206.75
	L 225.9 211.95 226.25 225.5 233.95 220.35 233.55 206.75 Z"/>
					</g>
					<g>
						<path id="windowOne" class="windows" fill="#975A42" stroke="none" d="
	M 188.65 198.4
	L 188.8 204.1 198.65 210.45 198.55 204.75 188.65 198.4
	M 208.45 216.8
	L 208.35 211.1 198.55 204.75 198.65 210.45 208.45 216.8
	M 188.8 204.1
	L 188.95 209.8 198.8 216.15 198.65 210.45 188.8 204.1
	M 208.6 222.5
	L 208.45 216.8 198.65 210.45 198.8 216.15 208.6 222.5 Z"/>
					</g>
					<g>
						<path id="windowThree" class="windows" fill="#975A42" stroke="none" d="
	M 311.7 214.1
	L 318.55 217.55 318.45 211.9 311.6 208.45 311.7 214.1
	M 325.4 221
	L 325.25 215.35 318.45 211.9 318.55 217.55 325.4 221
	M 318.4 206.2
	L 311.5 202.75 311.6 208.45 318.45 211.9 318.4 206.2
	M 325.25 215.35
	L 325.2 209.7 318.4 206.2 318.45 211.9 325.25 215.35 Z"/>
					</g>
					<g id="Layer2_0_FILL">
						<path class="door" fill="#B65041" stroke="none" d="
	M 259.7 183.25
	L 244.6 191.9 244.6 213.8 259.7 204.55 259.7 183.25 Z"/>
					</g>
					<path id="windowTwo" fill="#975A42" class="windows" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" d="
	M 223.05 200.3
	Q 222.95 201.45 222.05 202.25 221.25 203.05 220.1 203.05 218.95 203.05 218.15 202.25 217.852734375 201.9103515625 217.7 201.5 217.4923828125 200.96171875 217.55 200.3 217.5833984375 199.916796875 217.7 199.575 217.933203125 198.8833984375 218.5 198.35 218.95 197.95 219.5 197.75 220 197.55 220.55 197.55 221.15 197.55 221.65 197.75 222.05 197.95 222.4 198.35 223.15 199.15 223.05 200.3 Z
	M 238.7 191.05
	Q 238.6552734375 191.56484375 238.45 192 238.1970703125 192.558203125 237.7 193 236.85 193.8 235.7 193.8 234.55 193.8 233.8 193 233.1 192.2 233.2 191.05 233.3 189.9 234.15 189.1 235.05 188.3 236.2 188.3 237.35 188.3 238.05 189.1 238.295703125 189.362109375 238.45 189.65 238.7671875 190.276953125 238.7 191.05 Z"/>
					<path fill="#F2563B" stroke="none" d=" M 351.95 211.2 L 351.8 211.2 346.05 215.1 346.05 225.2 351.95 221.6 351.95 211.2 Z"/>
					<path id="Layer6_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 198.55 204.75
	L 208.35 211.1 208.45 216.8 208.6 222.5 198.8 216.15 188.95 209.8 188.8 204.1 188.65 198.4 198.55 204.75 198.65 210.45 208.45 216.8
	M 198.8 216.15
	L 198.65 210.45 188.8 204.1"/>
					<path id="Layer5_0_1_STROKES" class="windowRims" stroke="#AE663D" stroke-width="1" stroke-linejoin="round" stroke-linecap="round" fill="none" d="
	M 325.25 215.35
	L 325.4 221 318.55 217.55 311.7 214.1 311.6 208.45 311.5 202.75 318.4 206.2 325.2 209.7 325.25 215.35 318.45 211.9 318.55 217.55
	M 318.4 206.2
	L 318.45 211.9 311.6 208.45"/>
				</defs>
				<g id="shadow">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use xlink:href="#bottomShadow"/>
					</g>
				</g>
				<g transform="matrix( 1, 0, 0, 1, 0,0) ">
					<use xlink:href="#sun"/>
				</g>
				<g id="earth">
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer52_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer51_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer50_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer48_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer47_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer46_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer45_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer44_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer43_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer41_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer40_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer38_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer37_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer36_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer35_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer34_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowFour"/>
						<use class="element" xlink:href="#Layer32_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer30_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer27_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer26_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer25_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer24_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer22_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer21_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer20_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer19_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer18_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer17_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer16_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer8_0_FILL"/>
						<use class="element" xlink:href="#windowTwo"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer7_0_FILL"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowOne"/>
						<use class="element" xlink:href="#Layer6_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#windowThree"/>
						<use class="element" xlink:href="#Layer5_0_1_STROKES"/>
					</g>
					<g transform="matrix( 1, 0, 0, 1, 0,0) ">
						<use class="element" xlink:href="#Layer2_0_FILL"/>
					</g>
				</g>
			</svg>
			<! -- End of SVG file -->
			<! -- Moon/Sun Toggle -->
			<div id="toggleButton" class="day-toggle">
				<div class="sun-icon"></div>
				<label class="switch">
            <input id="toggleCheckbox" type="checkbox">
            <div class="slider"></div>
        </label>
				<div class="cloud-icon"></div>
			</div>
			<! -- Moon/Sun Toggle -->
			<! -- End of Container -->
		</div>
			</div>
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">明日之事 事事难求</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">打工是不可能打工的， 这辈子都不可能打工的！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/30/JavaScript相关的数据结构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李斌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/tx.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="明日之事 事事难求">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaScript相关的数据结构</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-30T21:55:04+08:00">
                2019-12-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="JavaScript相关的数据结构"><a href="#JavaScript相关的数据结构" class="headerlink" title="JavaScript相关的数据结构"></a>JavaScript相关的数据结构</h1><!-- TOC -->
<ul>
<li><a href="#javascript相关的数据结构">JavaScript相关的数据结构</a><ul>
<li><a href="#列表">列表</a><ul>
<li><a href="#列表的抽象数据类型定义">列表的抽象数据类型定义</a></li>
<li><a href="#实现列表类">实现列表类</a></li>
<li><a href="#append-给列表添加一个元素"><code>append</code> 给列表添加一个元素</a></li>
<li><a href="#find-从列表中查找某一个元素"><code>find</code> 从列表中查找某一个元素</a></li>
<li><a href="#remove-从列表中删除一个元素"><code>remove</code> 从列表中删除一个元素</a></li>
<li><a href="#length-列表中有多少个元素"><code>length</code> 列表中有多少个元素</a></li>
<li><a href="#tostring-显示列表中的元素"><code>toString</code> 显示列表中的元素</a></li>
<li><a href="#insert-向列表中插入一个元素"><code>insert</code> 向列表中插入一个元素</a></li>
<li><a href="#clear-清空列表中所有的元素"><code>clear</code> 清空列表中所有的元素</a></li>
<li><a href="#contains-判断给定值是否在列表中"><code>contains</code> 判断给定值是否在列表中</a></li>
<li><a href="#遍历列表">遍历列表</a></li>
<li><a href="#使用迭代器访问列表">使用迭代器访问列表</a></li>
</ul>
</li>
<li><a href="#栈">栈</a><ul>
<li><a href="#对栈的操作">对栈的操作</a></li>
<li><a href="#栈的实现">栈的实现</a></li>
<li><a href="#使用stack类">使用Stack类</a><ul>
<li><a href="#1-数制间的相互转换">1. 数制间的相互转换</a></li>
<li><a href="#2-判断是否为回文">2. 判断是否为回文</a></li>
<li><a href="#3-递归演示">3. 递归演示</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#队列">队列</a><ul>
<li><a href="#对队列的操作">对队列的操作</a></li>
<li><a href="#用一个数组实现队列">用一个数组实现队列</a></li>
<li><a href="#使用队列方块舞的舞伴分配问题">使用队列：方块舞的舞伴分配问题</a></li>
</ul>
</li>
<li><a href="#链表">链表</a><ul>
<li><a href="#定义链表">定义链表</a></li>
<li><a href="#设计一个基于对象的链表">设计一个基于对象的链表</a><ul>
<li><a href="#node类"><code>Node</code>类</a></li>
<li><a href="#linkedlist类">LinkedList类</a></li>
</ul>
</li>
<li><a href="#在链表中删除一个节点">在链表中删除一个节点</a></li>
<li><a href="#双向链表">双向链表</a><ul>
<li><a href="#完整的双向链表llist类">完整的双向链表LList类</a></li>
</ul>
</li>
<li><a href="#循环列表">循环列表</a></li>
<li><a href="#链表的其他方法">链表的其他方法</a></li>
</ul>
</li>
<li><a href="#字典">字典</a><ul>
<li><a href="#dictionary类">Dictionary类</a></li>
<li><a href="#dictionary类的复制方法">Dictionary类的复制方法</a></li>
</ul>
</li>
<li><a href="#散列">散列</a><ul>
<li><a href="#hashtable类">HashTable类</a></li>
<li><a href="#选择一个散列函数">选择一个散列函数</a></li>
<li><a href="#一个更好的散列函数">一个更好的散列函数</a></li>
<li><a href="#散列化整型键">散列化整型键</a></li>
<li><a href="#对散列表排序从散列表中取值">对散列表排序、从散列表中取值</a></li>
<li><a href="#碰撞处理">碰撞处理</a><ul>
<li><a href="#开链法">开链法</a></li>
<li><a href="#线性探测法">线性探测法</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#集合">集合</a><ul>
<li><a href="#集合的定义操作和属性">集合的定义、操作和属性</a><ul>
<li><a href="#集合的定义">集合的定义</a></li>
<li><a href="#对集合操作">对集合操作</a></li>
</ul>
</li>
<li><a href="#set类的实现">Set类的实现</a></li>
</ul>
</li>
<li><a href="#二叉树和二叉查找树">二叉树和二叉查找树</a><ul>
<li><a href="#树的定义">树的定义</a></li>
<li><a href="#二叉树与二叉查找树">二叉树与二叉查找树</a><ul>
<li><a href="#实现二叉查找树">实现二叉查找树</a></li>
<li><a href="#遍列二叉查找树">遍列二叉查找树</a><ul>
<li><a href="#中序遍历">中序遍历</a></li>
<li><a href="#先序遍历">先序遍历</a></li>
<li><a href="#后序遍历">后序遍历</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#在二叉查找树上进行查找">在二叉查找树上进行查找</a><ul>
<li><a href="#查找最小值和最大值">查找最小值和最大值</a></li>
<li><a href="#查找给定值">查找给定值</a></li>
</ul>
</li>
<li><a href="#从二叉树上删除节点">从二叉树上删除节点</a></li>
<li><a href="#计数">计数</a></li>
</ul>
</li>
<li><a href="#图和图算法">图和图算法</a><ul>
<li><a href="#图的定义">图的定义</a></li>
<li><a href="#图类">图类</a><ul>
<li><a href="#表示顶点">表示顶点</a></li>
<li><a href="#表示边">表示边</a></li>
<li><a href="#构件图">构件图</a></li>
<li><a href="#一个完整的graph类的完整定义">一个完整的Graph类的完整定义</a></li>
</ul>
</li>
<li><a href="#搜索图">搜索图</a><ul>
<li><a href="#深度优先搜索">深度优先搜索</a></li>
<li><a href="#广度优先搜索">广度优先搜索</a></li>
</ul>
</li>
<li><a href="#查找最短路径">查找最短路径</a><ul>
<li><a href="#广度优先搜索对应的最短路径">广度优先搜索对应的最短路径</a></li>
<li><a href="#确定路径">确定路径</a></li>
</ul>
</li>
<li><a href="#拓扑排序">拓扑排序</a><ul>
<li><a href="#拓扑排序算法">拓扑排序算法</a></li>
<li><a href="#实现拓扑排序算法">实现拓扑排序算法</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#排序算法">排序算法</a><ul>
<li><a href="#数组测试平台">数组测试平台</a></li>
<li><a href="#基本排序算法">基本排序算法</a><ul>
<li><a href="#冒泡排序">冒泡排序</a></li>
<li><a href="#选择排序">选择排序</a></li>
<li><a href="#插入排序">插入排序</a></li>
<li><a href="#基本排序算法的计时比较">基本排序算法的计时比较</a></li>
</ul>
</li>
<li><a href="#高级排序">高级排序</a><ul>
<li><a href="#希尔排序">希尔排序</a><ul>
<li><a href="#计算动态间隔序列">计算动态间隔序列</a></li>
</ul>
</li>
<li><a href="#归并排序">归并排序</a><ul>
<li><a href="#自顶向下的归并排序">自顶向下的归并排序</a></li>
<li><a href="#自底向上的归并排序">自底向上的归并排序</a></li>
</ul>
</li>
<li><a href="#快速排序">快速排序</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#检索算法">检索算法</a><ul>
<li><a href="#顺序查找">顺序查找</a><ul>
<li><a href="#查找最小值和最大值-1">查找最小值和最大值</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>列表是一组有序数据，每个列表中的数据项成为元素。</p>
<p>不包含任何元素的列表称为<strong>空列表</strong>，列表中包含元素的个数成为列表的<strong>length</strong>,在内部实现上，用一个变量<strong>listSize</strong>保存列表中元素的个数。可以在列表末尾<strong>append</strong>一个元素，也可以在一个给定元素后或列表的起始位置<strong>insert</strong>一个元素，使用<strong>remove</strong>方法从列表中删除元素，使用<strong>clear</strong>方法清空列表中所有的元素。使用<strong>toString</strong>方法显示列表中的所有元素，使用<strong>getElement</strong>显示当前元素。使用<strong>next</strong>可以从当前元素移动到下一元素，使用<strong>prev</strong>可以移动到当前元素的前一个元素。使用<strong>moveTo</strong>直接移动到指定位置。<strong>dataStore</strong>表示列表的当前位置。</p>
<h3 id="列表的抽象数据类型定义"><a href="#列表的抽象数据类型定义" class="headerlink" title="列表的抽象数据类型定义"></a>列表的抽象数据类型定义</h3><table>
<thead>
<tr>
<th style="text-align:left">属性/方法</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">listSize</td>
<td style="text-align:left">列表的元素个数</td>
</tr>
<tr>
<td style="text-align:left">pos</td>
<td style="text-align:left">列表的当前元素</td>
</tr>
<tr>
<td style="text-align:left">length</td>
<td style="text-align:left">返回列表中元素的个数</td>
</tr>
<tr>
<td style="text-align:left">clear</td>
<td style="text-align:left">清空列表中的所有元素</td>
</tr>
<tr>
<td style="text-align:left">toString</td>
<td style="text-align:left">返回列表的字符串形式</td>
</tr>
<tr>
<td style="text-align:left">getElement</td>
<td style="text-align:left">返回当前元素的位置</td>
</tr>
<tr>
<td style="text-align:left">insert</td>
<td style="text-align:left">在现有元素后插入新元素</td>
</tr>
<tr>
<td style="text-align:left">append</td>
<td style="text-align:left">在列表末尾添加新元素</td>
</tr>
<tr>
<td style="text-align:left">remove</td>
<td style="text-align:left">从列表中删除元素</td>
</tr>
<tr>
<td style="text-align:left">front</td>
<td style="text-align:left">将列表的当前位置移动到第一个元素</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">将列表的当前位置移动到最后一个元素</td>
</tr>
<tr>
<td style="text-align:left">prev</td>
<td style="text-align:left">将当前位置后移一位</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">将当前位置前移一位</td>
</tr>
<tr>
<td style="text-align:left">hasNext</td>
<td style="text-align:left">判断后一位</td>
</tr>
<tr>
<td style="text-align:left">hasPrev</td>
<td style="text-align:left">判断前一位</td>
</tr>
<tr>
<td style="text-align:left">currPos</td>
<td style="text-align:left">返回列表的当前位置</td>
</tr>
<tr>
<td style="text-align:left">moveTo</td>
<td style="text-align:left">将当前位置移动到指定位置</td>
</tr>
</tbody>
</table>
<h3 id="实现列表类"><a href="#实现列表类" class="headerlink" title="实现列表类"></a>实现列表类</h3><p>定义一个列表</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.listSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];  <span class="comment">//  初始化一个空数组来保存列表元素</span></span><br><span class="line">    <span class="keyword">this</span>.clear = clear;</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.append = append;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">    <span class="keyword">this</span>.front = front;</span><br><span class="line">    <span class="keyword">this</span>.end = end;</span><br><span class="line">    <span class="keyword">this</span>.prev = prev;</span><br><span class="line">    <span class="keyword">this</span>.next = next;</span><br><span class="line">    <span class="keyword">this</span>.hasNext;</span><br><span class="line">    <span class="keyword">this</span>.hasPrev;</span><br><span class="line">    <span class="keyword">this</span>.length = length;</span><br><span class="line">    <span class="keyword">this</span>.currPos = currPos;</span><br><span class="line">    <span class="keyword">this</span>.moveTo = moveTo;</span><br><span class="line">    <span class="keyword">this</span>.getElement = getElement;</span><br><span class="line">    <span class="keyword">this</span>.contains = contains;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="append-给列表添加一个元素"><a href="#append-给列表添加一个元素" class="headerlink" title="append 给列表添加一个元素"></a><code>append</code> 给列表添加一个元素</h3><p>给列表的下一个位置添加一个新元素，这个位置刚好等于变量<code>listSize</code>的值：当前元素就位后，<code>liseSize</code>加一</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">append</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.listSize++] = element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="find-从列表中查找某一个元素"><a href="#find-从列表中查找某一个元素" class="headerlink" title="find 从列表中查找某一个元素"></a><code>find</code> 从列表中查找某一个元素</h3><p>通过对数组对象<code>dataStore</code>进行迭代，查找指定元素，如果找到该元素，返回该元素所在的位置，否则返回<code>-1</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.dataStore[i] == element) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="remove-从列表中删除一个元素"><a href="#remove-从列表中删除一个元素" class="headerlink" title="remove 从列表中删除一个元素"></a><code>remove</code> 从列表中删除一个元素</h3><p><code>remove</code>方法使用<code>find</code>方法返回的位置对数组<code>dataStore</code>进行截取，数组改变后，将变量<code>listSize</code>的值减一，以反映列表的最新长度。如果元素删除成功，则返回<code>true</code>，否则返回<code>false</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fountAt = <span class="keyword">this</span>.find(element);</span><br><span class="line">    <span class="keyword">if</span> (fountAt &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore.splice(fountAt, <span class="number">1</span>);</span><br><span class="line">        --<span class="keyword">this</span>.listSize;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="length-列表中有多少个元素"><a href="#length-列表中有多少个元素" class="headerlink" title="length 列表中有多少个元素"></a><code>length</code> 列表中有多少个元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.liseSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="toString-显示列表中的元素"><a href="#toString-显示列表中的元素" class="headerlink" title="toString 显示列表中的元素"></a><code>toString</code> 显示列表中的元素</h3><p>严格来说，该方法返回的是一个数组，而不是一个字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="insert-向列表中插入一个元素"><a href="#insert-向列表中插入一个元素" class="headerlink" title="insert 向列表中插入一个元素"></a><code>insert</code> 向列表中插入一个元素</h3><p>使用<code>find()</code>方法找到元素的位置后，使用<code>splice()</code>方法将新元素插入到该位置之后，然后将变量<code>listSize</code>加一并返回<code>true</code>，表明插入成功。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">element, after</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> insertPos = <span class="keyword">this</span>.find(after);</span><br><span class="line">    <span class="keyword">if</span> (insertPos &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore.splice(insertPos + <span class="number">1</span>, <span class="number">0</span>, element);</span><br><span class="line">        ++<span class="keyword">this</span>.listSize;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="clear-清空列表中所有的元素"><a href="#clear-清空列表中所有的元素" class="headerlink" title="clear 清空列表中所有的元素"></a><code>clear</code> 清空列表中所有的元素</h3><p>使用<code>delete</code>操作符删除数组<code>dataStore</code>，接着在下一行创建一个空数组，最后将<code>listSize</code>和<code>pos</code>的值都设为1，表明这是一个新的空列表。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">this</span>.dataStore;</span><br><span class="line">    <span class="keyword">this</span>.dataStore.length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.listSize = <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="contains-判断给定值是否在列表中"><a href="#contains-判断给定值是否在列表中" class="headerlink" title="contains 判断给定值是否在列表中"></a><code>contains</code> 判断给定值是否在列表中</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">contains</span>(<span class="params">elment</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.dataStore[i] == element) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="遍历列表"><a href="#遍历列表" class="headerlink" title="遍历列表"></a>遍历列表</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">front</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">end</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="keyword">this</span>.listSize <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prev</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    --<span class="keyword">this</span>.pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.pos &lt; <span class="keyword">this</span>.listSize) &#123;</span><br><span class="line">        ++<span class="keyword">this</span>.pos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">currPos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">moveTo</span>(<span class="params">positon</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.pos = position;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElement</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.pos];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasNext</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.pos &lt; <span class="keyword">this</span>.listSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrev</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.pos &gt;= <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用迭代器访问列表"><a href="#使用迭代器访问列表" class="headerlink" title="使用迭代器访问列表"></a>使用迭代器访问列表</h3><p>优点：</p>
<ol>
<li>访问列表元素时不必担心底层的数据存储结构；</li>
<li>当为列表添加一个元素时，索引的值就不对了，此时只用更新列表，而不用更新迭代器；</li>
<li>可以用不同类型的数据存储方式实现<code>cList</code>类，迭代器为访问列表里的元素提供了一种统一的方式。</li>
</ol>
<p>例如:</p>
<p>从前向后遍历列表：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (names.front(); names.hasNext();names.next()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(names.getElment());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从后向前遍历列表 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (names.end(); names.hasNext();names.prev()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(names.getElment());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><p>栈是一种高效的数据结构，因为数据只能在栈顶添加或删除，所以这样的操作很快，而且容易实现。</p>
<p>栈是一种<strong>先入后出</strong> <em>LIFO(last-in-first-out)</em>的数据结构。</p>
<h3 id="对栈的操作"><a href="#对栈的操作" class="headerlink" title="对栈的操作"></a>对栈的操作</h3><p>对栈的两种主要操作：将元素压入栈；将元素弹出栈。</p>
<p>入栈使用<code>push()</code>方法，出栈使用<code>pop()</code>方法。</p>
<p><code>pop()</code>方法虽然可以访问栈顶的元素，但是调用该方法后，栈顶元素也从栈中被永久的删除了。<code>peek()</code>方法则只返回栈顶元素，而不删除它。</p>
<p><code>clear()</code>方法清除栈内所有元素，<code>length</code>属性记录栈内元素的个数。</p>
<h3 id="栈的实现"><a href="#栈的实现" class="headerlink" title="栈的实现"></a>栈的实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];  <span class="comment">// 保存栈内元素</span></span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;  <span class="comment">// 记录栈顶位置</span></span><br><span class="line">    <span class="keyword">this</span>.push = push;  <span class="comment">// 压入栈</span></span><br><span class="line">    <span class="keyword">this</span>.pop = pop;  <span class="comment">// 弹出栈</span></span><br><span class="line">    <span class="keyword">this</span>.peek = peek;  <span class="comment">// 返回栈顶元素</span></span><br><span class="line">    <span class="keyword">this</span>.length = length;  <span class="comment">// 栈内元素的长度</span></span><br><span class="line">    <span class="keyword">this</span>.clear = clear;  <span class="comment">// 清空栈</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>push()</code>方法：当向栈中压入一个新元素时，需要将其保存在数组中变量<code>top</code>所对应的位置，然后将<code>top</code>值加一，让其指向数组中下一个空位置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++] = element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>pop()</code>方法：返回栈顶的元素，同时将变量<code>top</code>的值减一。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>peek()</code>方法：返回数组的第<code>top-1</code>个位置的元素，即栈顶元素。如果这个栈是空的，则返回<code>undefined</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>length()</code>方法：通过返回变量<code>top</code>的值，返回栈内元素的个数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>clear()</code>方法：将变量<code>top</code>的值设为0，清空栈。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>完整的Stack为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];  <span class="comment">// 保存栈内元素</span></span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;  <span class="comment">// 记录栈顶位置</span></span><br><span class="line">    <span class="keyword">this</span>.push = push;  <span class="comment">// 压入栈</span></span><br><span class="line">    <span class="keyword">this</span>.pop = pop;  <span class="comment">// 弹出栈</span></span><br><span class="line">    <span class="keyword">this</span>.peek = peek;  <span class="comment">// 返回栈顶元素</span></span><br><span class="line">    <span class="keyword">this</span>.length = length;  <span class="comment">// 栈内元素的长度</span></span><br><span class="line">    <span class="keyword">this</span>.clear = clear;  <span class="comment">// 清空栈</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++] = element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.top;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用Stack类"><a href="#使用Stack类" class="headerlink" title="使用Stack类"></a>使用Stack类</h3><h4 id="1-数制间的相互转换"><a href="#1-数制间的相互转换" class="headerlink" title="1. 数制间的相互转换"></a>1. 数制间的相互转换</h4><p>假设将数字<code>n</code>转换为以<code>b</code>为基数的数字，实现转换的算法如下：</p>
<ol>
<li>最高位为<code>n%b</code>， 将此位压入栈。</li>
<li>使用<code>n/b</code>代替<code>n</code>。</li>
<li>重复步骤1和2，直到<code>n</code>等于0，且没有余数。</li>
<li>持续将栈内元素弹出，直到栈空，一次将这些元素排列，就得到转换后的字符串形式。</li>
</ol>
<p>实现算法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mulBase</span>(<span class="params">num, base</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> Stack();</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        s.push(num % base);</span><br><span class="line">        num = <span class="built_in">Math</span>.floor(num /= base);</span><br><span class="line">    &#125; <span class="keyword">while</span>(num &gt; <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> converted = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">while</span>(s.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        converted += s.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> converted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<p>将二进制转换为十进制；将十进制转换为八进制。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];  <span class="comment">// 保存栈内元素</span></span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;  <span class="comment">// 记录栈顶位置</span></span><br><span class="line">    <span class="keyword">this</span>.push = push;  <span class="comment">// 压入栈</span></span><br><span class="line">    <span class="keyword">this</span>.pop = pop;  <span class="comment">// 弹出栈</span></span><br><span class="line">    <span class="keyword">this</span>.peek = peek;  <span class="comment">// 返回栈顶元素</span></span><br><span class="line">    <span class="keyword">this</span>.length = length;  <span class="comment">// 栈内元素的长度</span></span><br><span class="line">    <span class="keyword">this</span>.clear = clear;  <span class="comment">// 清空栈</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++] = element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.top;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mulBase</span>(<span class="params">num, base</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> Stack();</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        s.push(num % base);</span><br><span class="line">        num = <span class="built_in">Math</span>.floor(num /= base);</span><br><span class="line">    &#125; <span class="keyword">while</span>(num &gt; <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> converted = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">while</span>(s.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        converted += s.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> converted;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numBase = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">32</span>;</span><br><span class="line"><span class="keyword">var</span> base = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> result = mulBase(num, base);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;numBase&#125;</span>进制数<span class="subst">$&#123;num&#125;</span>转换为<span class="subst">$&#123;base&#125;</span>进制数为<span class="subst">$&#123;result&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>
<h4 id="2-判断是否为回文"><a href="#2-判断是否为回文" class="headerlink" title="2. 判断是否为回文"></a>2. 判断是否为回文</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stack</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];  <span class="comment">// 保存栈内元素</span></span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;  <span class="comment">// 记录栈顶位置</span></span><br><span class="line">    <span class="keyword">this</span>.push = push;  <span class="comment">// 压入栈</span></span><br><span class="line">    <span class="keyword">this</span>.pop = pop;  <span class="comment">// 弹出栈</span></span><br><span class="line">    <span class="keyword">this</span>.peek = peek;  <span class="comment">// 返回栈顶元素</span></span><br><span class="line">    <span class="keyword">this</span>.length = length;  <span class="comment">// 栈内元素的长度</span></span><br><span class="line">    <span class="keyword">this</span>.clear = clear;  <span class="comment">// 清空栈</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top++] = element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[--<span class="keyword">this</span>.top];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.top - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.top;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主要函数：判断是否为回文</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPalindrome</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> Stack();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; word.length; ++i) &#123;</span><br><span class="line">        s.push(word[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> rword = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">while</span>(s.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        rword += s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(word == rword) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> word = <span class="string">'arra'</span>;</span><br><span class="line"><span class="keyword">if</span>(isPalindrome(word)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;word&#125;</span> is a palindrome.`</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;word&#125;</span> is not a palindrome`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-递归演示"><a href="#3-递归演示" class="headerlink" title="3. 递归演示"></a>3. 递归演示</h4><p>阶乘函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fact</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> Stack();</span><br><span class="line">    <span class="keyword">while</span>(n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        s.push(n--);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> product = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(s.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        product *= s.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> product;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fact(<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><p>队列是一种列表，队列只能在队尾插入元素，在队首删除元素。</p>
<p>队列是一种<strong>先进先出</strong>的数据结构。队列被用在很多地方：提交操作系统执行的一系列进程、打印任务池等，一些仿真系统用队列来模拟银行或杂货店里排队的顾客。</p>
<h3 id="对队列的操作"><a href="#对队列的操作" class="headerlink" title="对队列的操作"></a>对队列的操作</h3><p>队列的两种操作时：向队列中插入新元素和删除队列中的元素。插入元素也叫<em>入队</em>，删除的操作也叫<em>出队</em>。</p>
<p>入队操作在队尾插入新元素，出队操作删除队头的元素。读取队头的元素为<code>peek()</code>，该操作返回队头的元素，但不把它从队列中删除。可以使用<code>length</code>得知队列中有多少个元素，使用<code>clear()</code>方法可以清空队列中的元素。</p>
<h3 id="用一个数组实现队列"><a href="#用一个数组实现队列" class="headerlink" title="用一个数组实现队列"></a>用一个数组实现队列</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.enqueue = enqueue;</span><br><span class="line">    <span class="keyword">this</span>.dequeue = dequeue;</span><br><span class="line">    <span class="keyword">this</span>.front = front;</span><br><span class="line">    <span class="keyword">this</span>.back = back;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.empty = empty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>enqueue()</code>方法：向队尾添加一个元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enqueue</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore.push(element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>dequeue()</code>方法：删除队首元素 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dequeue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore.shift();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>front()</code>方法：读取队首元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">front</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>back()</code>方法：读取队尾元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">back</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.dataStore.length - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>toString()</code>方法：显示队列内的所有元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> retStr = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        retStr += <span class="keyword">this</span>.dataStore[i] + <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> retStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>empty()</code>方法：判断队列是否为空</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">empty</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用队列：方块舞的舞伴分配问题"><a href="#使用队列：方块舞的舞伴分配问题" class="headerlink" title="使用队列：方块舞的舞伴分配问题"></a>使用队列：方块舞的舞伴分配问题</h3><p>题意描述：当男男女女来到舞池，他们按照自己的性别排成两队。当舞池中有地方空出来时，选两个队列中的第一人组成舞伴，他们身后的人要各自向移动一步，变成新的队首。当一对舞伴迈入舞池时，主持人会大声喊出他们的名字。当一对舞伴走出舞池，且两排队伍中有任意一队没有人时，支持人也会把这个情况告诉大家。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.enqueue = enqueue;</span><br><span class="line">    <span class="keyword">this</span>.dequeue = dequeue;</span><br><span class="line">    <span class="keyword">this</span>.front = front;</span><br><span class="line">    <span class="keyword">this</span>.back = back;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.empty = empty;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enqueue</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore.push(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dequeue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore.shift();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">front</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">back</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.dataStore.length - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> retStr = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        retStr += <span class="keyword">this</span>.dataStore[i] + <span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> retStr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">empty</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dancer</span>(<span class="params">name, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDancers</span>(<span class="params">males,females</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> names = read(<span class="string">'dancers.txt'</span>).split(<span class="string">'\n'</span>);  <span class="comment">// 读取‘dancers.txt’内的人员名单</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; names.length; ++i) &#123;</span><br><span class="line">        names[i] = names[i].trim();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; names.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">var</span> dancer = names[i].split(<span class="string">''</span>);</span><br><span class="line">        <span class="keyword">var</span> sex = dancer[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">var</span> name = dancer[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (sex == <span class="string">'F'</span>) &#123;</span><br><span class="line">            femaleDancers.enqueue(<span class="keyword">new</span> Dancer(name, sex));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            maleDancers.enqueue(<span class="keyword">new</span> Dancer(name, sex));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dance</span>(<span class="params">males, females</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'The dance parents are: '</span>);</span><br><span class="line">    <span class="keyword">while</span>(!females.empty() &amp;&amp; !males.empty()) &#123;</span><br><span class="line">        person = females.dequeue();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'female dancer is '</span> + person.name);</span><br><span class="line">        person = males.dequeue();</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'and the male dancer is '</span> + person.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><p>js中数组的主要问题是，它们被实现成了对象，与其他语言的数组相比，效率很低。</p>
<p>如果发现数组在实际使用时很慢，可以考虑用链表来替代它。除了对数据的随机访问，俩表几乎可以用在任何可以使用一维数组的情况中。如果需要随机访问，数组仍是最好的选择。</p>
<h3 id="定义链表"><a href="#定义链表" class="headerlink" title="定义链表"></a>定义链表</h3><p>链表是由一组节点组成的集合，每个节点都使用一个对象的引用指向它的后继，指向另一个节点的引用叫做链。</p>
<p>链表中插入一个节点的效率很高，只需要修改它前面的节点（前驱），使其指向新加入的节点，而新加入的节点则指向原来前驱指向的节点。</p>
<p>从链表中删除一个元素也很简单，将待删除元素的前驱节点指向待删除元素的后继节点，同时将待删除元素指向null，元素就删除成功了。</p>
<h3 id="设计一个基于对象的链表"><a href="#设计一个基于对象的链表" class="headerlink" title="设计一个基于对象的链表"></a>设计一个基于对象的链表</h3><p>设计的链表包含两个类，Node类用来表示节点，LinkedList类提供了插入节点、删除节点、显示列表元素的方法，以及一些辅助方法。</p>
<h4 id="Node类"><a href="#Node类" class="headerlink" title="Node类"></a><code>Node</code>类</h4><p><code>Node</code>包含两个属性：<code>element</code>用来保存节点上的数据，<code>next</code>用来保存下一个节点的链接。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.element = element;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="LinkedList类"><a href="#LinkedList类" class="headerlink" title="LinkedList类"></a>LinkedList类</h4><p>链表之后一个属性，那就是使用一个Node对象来保存该链表的头节点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(<span class="string">'head'</span>);</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">    <span class="keyword">this</span>.display = display;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>find()</code>方法：该方法遍历链表，查找给定数据，如果找到数据，该方法返回保存数据的节点。</p>
<p>首先，创建一个新节点，并将链表的头节点赋给这个新创建的节点，然后在链表上进行循环，如果当前节点的<code>element</code>属性和我们要找的信息不符，就从当前节点移动到下一节点。如果查找成功，该方法返回包含该数据的节点，否则返回null。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(currNode.element != item) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>insert()</code>方法：插入新节点</p>
<p>一旦找到‘后面’的节点，就可以将新节点插入到链表。首先，将新节点的<code>next</code>属性设置为‘后面’节点的<code>next</code>属性对应的值。然后设置‘后面’节点的<code>next</code>属性指向新节点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">newElement, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newNode = <span class="keyword">new</span> Node(newElement);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.find(item);</span><br><span class="line">    newNode.next = current.next();</span><br><span class="line">    current.next = newNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>display()</code>方法：显示链表中的元素</p>
<p>先将列表的头节点赋值给一个变量，然后循环遍历链表，当前节点的<code>next</code>属性为<code>null</code>时循环结束。为了只显示包含数据的节点，程序只访问当前节点的下一个节点中保存的数据：<code>currNode.next.element</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.next.element);</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LList类和测试程序</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.element = element;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(<span class="string">'head'</span>);</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="comment">// this.remove = remove;</span></span><br><span class="line">    <span class="keyword">this</span>.display = display;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(currNode.element != item) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">newElement, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newNode = <span class="keyword">new</span> Node(newElement);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.find(item);</span><br><span class="line">    newNode.next = current.next;</span><br><span class="line">    current.next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.next.element);</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 主程序</span></span><br><span class="line"><span class="keyword">var</span> cities = <span class="keyword">new</span> LList();</span><br><span class="line">cities.insert(<span class="string">'Conway'</span>, <span class="string">'head'</span>);</span><br><span class="line">cities.insert(<span class="string">'Russellville'</span>, <span class="string">'Conway'</span>);</span><br><span class="line">cities.insert(<span class="string">'Alma'</span>, <span class="string">'Russellville'</span>);</span><br><span class="line">cities.display();</span><br></pre></td></tr></table></figure>
<h3 id="在链表中删除一个节点"><a href="#在链表中删除一个节点" class="headerlink" title="在链表中删除一个节点"></a>在链表中删除一个节点</h3><p>从链表中删除节点时，需要先找到待删除节点前面的节点。找到这个节点后，修改它的<code>next</code>属性，使其不再指向待删除节点，而是指向带删除节点的下一个节点。</p>
<p>可以定义一个<code>findPrevious()</code>来做这件事。该方法遍历链表中的元素，检查每一个节点的下一个节点中是否存储着待删除的数据，如果找到，返回该节点，这样就可以修改他的<code>next</code>属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findPrevious</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.element == <span class="literal">null</span>) &amp;&amp; (currNode.next.element != item)) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是删除节点的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prevNode = <span class="keyword">this</span>.findPrevious(item);</span><br><span class="line">    <span class="keyword">if</span> (!(prevNode == <span class="literal">null</span>)) &#123;</span><br><span class="line">        prevNode.next = prevNode.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h3><p>要为<code>Node</code>类增加一个<code>previous</code>属性:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.element = element;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.previous = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>双向链表的<code>insert()</code>方法和单向链表的类似，但是需要设置新节点的<code>previous</code>属性，使其指向该节点的前驱。该方法的定义如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">newElement, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newNode = <span class="keyword">new</span> Node(newElement);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.find(item);</span><br><span class="line">    newNode.next = current.next;</span><br><span class="line">    newNode.previous = current;</span><br><span class="line">    current.next = newNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>双向链表的<code>remove()</code>方法比单向链表的效率更高，因为不需要再查找前驱结点。首先需要在链表中找出存储待删除数据的节点，然后设置该节点前驱的<code>next</code>属性，使其指向待删除节点的后继；设置该节点后继的<code>previou</code>s属性，使其指向待删除节点的前驱。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.find(item);</span><br><span class="line">    <span class="keyword">if</span> (!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        currNode.previous.next = currNode.next;</span><br><span class="line">        currNode.next.previous = currNode.previous;</span><br><span class="line">        currNode.next = <span class="literal">null</span>;</span><br><span class="line">        currNode.previous = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为了完成以反序显示链表中元素这类任务，需要给双向链表添加一个工具的方法，用来查找最后的节点。<code>findLast()</code>方法找出了链表中的最后一个节点，同时避免了从前往后遍历链表：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findLast</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>反向显示双向链表中的元素：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dispReverse</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    currNode = <span class="keyword">this</span>.findLast();</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.previous == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.element);</span><br><span class="line">        currNode = currNode.previous;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="完整的双向链表LList类"><a href="#完整的双向链表LList类" class="headerlink" title="完整的双向链表LList类"></a>完整的双向链表LList类</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.element = element;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.previous = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(<span class="string">'head'</span>);</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.display = display;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">    <span class="keyword">this</span>.findLast = findLast;</span><br><span class="line">    <span class="keyword">this</span>.dispReverse = dispReverse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dispReverse</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    currNode = <span class="keyword">this</span>.findLast();</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.previous == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.element);</span><br><span class="line">        currNode = currNode.previous;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findLast</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.find(item);</span><br><span class="line">    <span class="keyword">if</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        currNode.previous.next = currNode.next;</span><br><span class="line">        currNode.next.previous = currNode.previous;</span><br><span class="line">        currNode.next = <span class="literal">null</span>;</span><br><span class="line">        currNode.previous = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.next.element);</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(currNode.element != item) &#123;</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> currNode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">newElement, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newNode = <span class="keyword">new</span> Node(newElement);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.find(item);</span><br><span class="line">    newNode.next = current.next;</span><br><span class="line">    newNode.previous = current;</span><br><span class="line">    current.next = newNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cities = <span class="keyword">new</span> LList();</span><br><span class="line">cities.insert(<span class="string">'Conway'</span>, <span class="string">'head'</span>);</span><br><span class="line">cities.insert(<span class="string">'Russellville'</span>, <span class="string">'Conway'</span>);</span><br><span class="line">cities.insert(<span class="string">'Carlisle'</span>, <span class="string">'Russellville'</span>);</span><br><span class="line">cities.insert(<span class="string">'Alma'</span>, <span class="string">'Carlisle'</span>);</span><br><span class="line">cities.display();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">cities.remove(<span class="string">'Carlisle'</span>);</span><br><span class="line">cities.display();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">cities.dispReverse();</span><br></pre></td></tr></table></figure>
<h3 id="循环列表"><a href="#循环列表" class="headerlink" title="循环列表"></a>循环列表</h3><p>循环链表和单向链表相似，节点类型都是一样的，唯一的区别是，在创建循环链表时，让其头节点的<code>next</code>属性指向它本身：<code>head.next = head</code></p>
<p>如果希望从后向前遍历链表，但是又不想付出额外的代价来创建一个双向链表，那么就可以使用循环链表，从循环链表的尾节点向后移动，就等于从后向前遍历链表。</p>
<p>创建循环链表，只需要修改LList类的构造函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = <span class="keyword">new</span> Node(<span class="string">'head'</span>);</span><br><span class="line">    <span class="keyword">this</span>.head.next = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.display = display;</span><br><span class="line">    <span class="keyword">this</span>.findPrevious = findPrevious;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其他地方也需要做一些改动才可以从单向链表变为循环链表，例如<code>display()</code>中需要改动的是循环的条件, 原来的方式会使链表陷入死循环，当循环到头节点时退出循环：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> currNode = <span class="keyword">this</span>.head;</span><br><span class="line">    <span class="keyword">while</span>(!(currNode.next == <span class="literal">null</span>) &amp;&amp; !(currNode.next.element == <span class="string">'head'</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(currNode.next.element);</span><br><span class="line">        currNode = currNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="链表的其他方法"><a href="#链表的其他方法" class="headerlink" title="链表的其他方法"></a>链表的其他方法</h3><p>可以通过链表实现以下几个功能：</p>
<ol>
<li><p><code>advance(n)</code>: 在链表中向前移动n个节点；</p>
</li>
<li><p><code>back()</code>: 在双向链表中向后移动几个节点；</p>
</li>
<li><p><code>show()</code>: 只显示当前节点。</p>
</li>
</ol>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>字典是一种以键-值队形式存储数据的数据结构。Javascript中的Object就是以字典的形式设计的。</p>
<h3 id="Dictionary类"><a href="#Dictionary类" class="headerlink" title="Dictionary类"></a>Dictionary类</h3><p>Dictionary类的基础是Array类，而不是Object类。</p>
<p>定义Dictionary类</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dictionary</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.add = add;</span><br><span class="line">    <span class="keyword">this</span>.datastore = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">this</span>.find = find;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">    <span class="keyword">this</span>.showAll = showAll;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.datastore[key] = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.datastore[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">this</span>.datastore[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> datakeys = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">Object</span>.keys(<span class="keyword">this</span>.datastore));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> datakeys) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(datakeys[key] + <span class="string">' -&gt;'</span> + <span class="keyword">this</span>.datastore[datakeys[key]]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用Dictionary:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pbook = <span class="keyword">new</span> Dictionary();</span><br><span class="line">pbook.add(<span class="string">'Mike'</span>, <span class="string">'123'</span>);</span><br><span class="line">pbook.add(<span class="string">'David'</span>, <span class="string">'456'</span>);</span><br><span class="line">pbook.add(<span class="string">'Cynthia'</span>, <span class="string">'789'</span>);</span><br><span class="line">pbook.add(<span class="string">'apple'</span>, <span class="string">'235'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"David's extension: "</span> + pbook.find(<span class="string">'David'</span>));</span><br><span class="line">pbook.remove(<span class="string">'David'</span>);</span><br><span class="line">pbook.showAll();</span><br></pre></td></tr></table></figure>
<h3 id="Dictionary类的复制方法"><a href="#Dictionary类的复制方法" class="headerlink" title="Dictionary类的复制方法"></a>Dictionary类的复制方法</h3><p>返回会字典中的元素个数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> each(<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.datastore)) &#123;</span><br><span class="line">        ++n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>清除字典：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> each(<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">Object</span>) &#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>.datastore[key];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对字典进行排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">Object</span>.keys(<span class="keyword">this</span>.datastore).sort()) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(key + <span class="string">' -&gt;'</span> + <span class="keyword">this</span>.datastore[key]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="散列"><a href="#散列" class="headerlink" title="散列"></a>散列</h2><p>散列是一种常用的数据存储技术，散列后的数据可以快速的插入或取用。散列使用的数据结构叫做散列表。在散列表上杀入、删除和取用数据都非常快，但是对于查找操作来说效率比较低。</p>
<p>散列表是基于数组进行设计的的。数组的长度是预先设定的，如有需要，可以随时增加。所有元素根据和该元素对应的键，保存在数组的特定位置。使用散列表存储数据时，通过一个散列函数将键映射为一个数字，这个数字的范围是0到散列列表的长度。</p>
<p>理想情况下，散列函数会将每个键值映射为一个唯一的数组索引。如果存在两个键映射为一个值，这种现象称为<strong>碰撞</strong>。</p>
<h3 id="HashTable类"><a href="#HashTable类" class="headerlink" title="HashTable类"></a>HashTable类</h3><p>HashTable 类的构造函数定义如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HashTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.table = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">137</span>);</span><br><span class="line">    <span class="keyword">this</span>.simpleHash = simpleHash;</span><br><span class="line">    <span class="keyword">this</span>.showDistro = showDistro;</span><br><span class="line">    <span class="keyword">this</span>.put = put;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="选择一个散列函数"><a href="#选择一个散列函数" class="headerlink" title="选择一个散列函数"></a>选择一个散列函数</h3><p>散列函数的选择依赖于键值的数据类型。如果键是整型，最简单的散列函数就是以数组的长度对键取余。在一些情况下，比如数组的长度是10，而键值都是10的倍数的时候，就不推荐使用这种方式。这也是数组的长度是质数的原因。如果键是随机的整数，则散列函数应该更均匀地分布这些键。这种散列方式称为<strong>除留余数法</strong></p>
<p>完整的HashTable类定义如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HashTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.table = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">137</span>);</span><br><span class="line">    <span class="keyword">this</span>.simpleHash = simpleHash;</span><br><span class="line">    <span class="keyword">this</span>.showDistro = showDistro;</span><br><span class="line">    <span class="keyword">this</span>.put = put;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simpleHash</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; ++i) &#123;</span><br><span class="line">        total += data.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total % <span class="keyword">this</span>.table.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.simpleHash(data);</span><br><span class="line">    <span class="keyword">this</span>.table[pos] = data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDistro</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.table[i] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i + <span class="string">': '</span> + <span class="keyword">this</span>.table[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HashTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.table = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">137</span>);</span><br><span class="line">    <span class="keyword">this</span>.simpleHash = simpleHash;</span><br><span class="line">    <span class="keyword">this</span>.showDistro = showDistro;</span><br><span class="line">    <span class="keyword">this</span>.put = put;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simpleHash</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; ++i) &#123;</span><br><span class="line">        total += data.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total % <span class="keyword">this</span>.table.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.simpleHash(data);</span><br><span class="line">    <span class="keyword">this</span>.table[pos] = data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDistro</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.table[i] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i + <span class="string">': '</span> + <span class="keyword">this</span>.table[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'David'</span>, <span class="string">'Jennifer'</span>, <span class="string">'Donnie'</span>, <span class="string">'Raymond'</span>, <span class="string">'Cynthia'</span>, <span class="string">'Mike'</span>, <span class="string">'Clayton'</span>, <span class="string">'Danny'</span>, <span class="string">'Jonathan'</span>];</span><br><span class="line"><span class="keyword">var</span> hTable = <span class="keyword">new</span> HashTable();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">    hTable.put(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">hTable.showDistro();</span><br></pre></td></tr></table></figure>
<p>程序输出为：</p>
<p>35: Cynthia<br>45: Clayton<br>57: Donnie<br>77: David<br>95: Danny<br>116: Mike<br>132: Jennifer<br>134: Jonatha</p>
<p>其中没有<code>Raymond</code>，只因为散列函数发生了碰撞，通过在<code>simpleHash</code>函数中添加一句<code>console.log(&#39;Hash value: &#39; + data + &#39; -&gt; &#39; + total);</code>语句，可以发现<code>Raymond</code>和<code>Clayton</code>的散列值是一样的，都为730，因为碰撞，只有<code>Clayton</code>存入了散列表。可以通过改善散列函数来避免发生碰撞。</p>
<h3 id="一个更好的散列函数"><a href="#一个更好的散列函数" class="headerlink" title="一个更好的散列函数"></a>一个更好的散列函数</h3><p>为了避免碰撞，首先要确保散列表中用来存储数据的数组其大小是个质数。数组的长度应该是100以上，这是为了让数据在散列表中分布的更加均匀。</p>
<p>为了避免碰撞，在给散列表一个合适的大小之后，接下来要有一个计算散列的更好的办法：霍纳算法。在此算法中，新的散列函数仍先计算字符串中各字符的ASCII码，不过求和时每次要乘以一个质数。</p>
<p>使用霍纳算法的散列函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">betterHash</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> H = <span class="number">37</span>;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; ++i) &#123;</span><br><span class="line">        total += H * total + str.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    total = total % <span class="keyword">this</span>.table.length;</span><br><span class="line">    <span class="keyword">if</span> (total &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        total += <span class="keyword">this</span>.table.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(total);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后将 <code>put()</code>方法中的<code>simpleHash</code>替换为<code>betterHash</code>.</p>
<p>这次所有的任命都显示出来了，没有碰撞。</p>
<h3 id="散列化整型键"><a href="#散列化整型键" class="headerlink" title="散列化整型键"></a>散列化整型键</h3><p>例如：使用前面定义的 函数存储一组学生和他们的成绩信息。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HashTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.table = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">137</span>);</span><br><span class="line">    <span class="keyword">this</span>.simpleHash = simpleHash;</span><br><span class="line">    <span class="keyword">this</span>.betterHash = betterHash;</span><br><span class="line">    <span class="keyword">this</span>.showDistro = showDistro;</span><br><span class="line">    <span class="keyword">this</span>.put = put;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simpleHash</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; ++i) &#123;</span><br><span class="line">        total += data.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total % <span class="keyword">this</span>.table.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">betterHash</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> H = <span class="number">37</span>;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; ++i) &#123;</span><br><span class="line">        total += H * total + str.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    total = total % <span class="keyword">this</span>.table.length;</span><br><span class="line">    <span class="keyword">if</span> (total &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        total += <span class="keyword">this</span>.table.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.betterHash(data);</span><br><span class="line">    <span class="keyword">this</span>.table[pos] = data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDistro</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.table[i] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i + <span class="string">': '</span> + <span class="keyword">this</span>.table[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomInt</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">genStuData</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; ++j) &#123;</span><br><span class="line">            num += <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        num += getRandomInt(<span class="number">50</span>, <span class="number">100</span>);</span><br><span class="line">        arr[i] = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numStudents = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> arrSize = <span class="number">97</span>;</span><br><span class="line"><span class="keyword">var</span> idLen = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">var</span> students = <span class="keyword">new</span> <span class="built_in">Array</span>(numStudents);</span><br><span class="line">genStuData(students);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Student Data: '</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; students.length; ++i) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(students[i].substring(<span class="number">0</span>, <span class="number">8</span>) + <span class="string">' '</span> + students[i].substring(<span class="number">9</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Data distribution: '</span>);</span><br><span class="line"><span class="keyword">var</span> hTable = <span class="keyword">new</span> HashTable();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; students.length; ++i) &#123;</span><br><span class="line">    hTable.put(students[i]);</span><br><span class="line">&#125;</span><br><span class="line">hTable.showDistro();</span><br></pre></td></tr></table></figure>
<h3 id="对散列表排序、从散列表中取值"><a href="#对散列表排序、从散列表中取值" class="headerlink" title="对散列表排序、从散列表中取值"></a>对散列表排序、从散列表中取值</h3><p>修改<code>put()</code>和<code>get()</code>方法：使得可以同时接受键和数据作为参数，对键值散列后，将数据存储到散列中；读取存储在散列表中的数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">key, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">this</span>.table[pos] = data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.table[<span class="keyword">this</span>.betterHash(key)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例子： 提示用户输入三个人名和 电话号码，然后根据人名获取其电话号码，键入<code>quit</code>程序退出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HashTable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.table = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">137</span>);</span><br><span class="line">    <span class="keyword">this</span>.simpleHash = simpleHash;</span><br><span class="line">    <span class="keyword">this</span>.betterHash = betterHash;</span><br><span class="line">    <span class="keyword">this</span>.showDistro = showDistro;</span><br><span class="line">    <span class="keyword">this</span>.put = put;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simpleHash</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; ++i) &#123;</span><br><span class="line">        total += data.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total % <span class="keyword">this</span>.table.length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">betterHash</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> H = <span class="number">37</span>;</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; ++i) &#123;</span><br><span class="line">        total += H * total + str.charCodeAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    total = total % <span class="keyword">this</span>.table.length;</span><br><span class="line">    <span class="keyword">if</span> (total &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        total += <span class="keyword">this</span>.table.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(total);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">key, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">this</span>.table[pos] = data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.table[<span class="keyword">this</span>.betterHash(key)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDistro</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.table[i] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i + <span class="string">': '</span> + <span class="keyword">this</span>.table[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomInt</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">genStuData</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; ++j) &#123;</span><br><span class="line">            num += <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        num += getRandomInt(<span class="number">50</span>, <span class="number">100</span>);</span><br><span class="line">        arr[i] = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> pnumbers = <span class="keyword">new</span> HashTable();</span><br><span class="line"><span class="keyword">var</span> name, number;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Enter a name (space to quit): '</span>);</span><br><span class="line">    name = readline();</span><br><span class="line">    putstr = (<span class="string">'enter a number: '</span>);</span><br><span class="line">    number = readline();</span><br><span class="line">    pnumbers.put(name, number);</span><br><span class="line">&#125;</span><br><span class="line">name = <span class="string">''</span>;</span><br><span class="line">putstr = (<span class="string">'Name for number (Enter quit to stop): '</span>);</span><br><span class="line"><span class="keyword">while</span>(name != <span class="string">'quit'</span>) &#123;</span><br><span class="line">    name = readline();</span><br><span class="line">    <span class="keyword">if</span> (name == <span class="string">'quit'</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(name + <span class="string">"'s number is "</span> + pnumbers.get(name));</span><br><span class="line">    putstr(<span class="string">"Name for number (Enter quit to stop): "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="碰撞处理"><a href="#碰撞处理" class="headerlink" title="碰撞处理"></a>碰撞处理</h3><p>碰撞处理的方法有两种：开链法 和 线性探测法。</p>
<h4 id="开链法"><a href="#开链法" class="headerlink" title="开链法"></a>开链法</h4><p>当碰撞发生时，我们仍然希望将键存在通过散列算法产生索引的位置上，但实际上，不可能将多份数据存储到一个数组单元中。开链法是指实现散列表的底层数组中，每个数组元素又是一个新的数据结构。</p>
<p>实现开链法的方法是：在创建存储散列过的键值的数组时，通过调用一个函数创建一个空数组时，通过调用一个函数创建一个空的数组，然后将该数组赋值给散列表里的每个数组元素。这样就创建了一个二维数组。</p>
<p>下面代码定义了一个函数<code>buildChains()</code>，用来创建第二组数组，也称 这个数组为链。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildChains</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.table[i] = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>需要对<code>showDistro()</code>方法做如下修改：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDistro</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.table.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.table[i][<span class="number">0</span>] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(i + <span class="string">": "</span> + <span class="keyword">this</span>.table[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重新定义<code>put()</code>方法和<code>get()</code>方法。<code>put()</code>方法将键值散列，散列后的值对应数组中的一个位置，先尝试将数据放到该位置上的数组中的第一个单元格，如果该单元格里已经有数据了，<code>put()</code>方法会搜索下一个位置，直到找到能放置数据的单元格，并把数据存储进去。实现<code>put()</code>方法的代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">key, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.table[pos][index] == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.table[pos][index] = data;</span><br><span class="line">        ++index;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">this</span>.table[pos][index] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            ++index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.table[pos][index + <span class="number">1</span>] = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>get()</code>方法先对键值散列，根据散列后的值找到散列表中相应的位置，然后搜索该位置上的链，直到找到键值。如果找到，就将紧跟在键值后面的数据返回；如果没找到，就返回undefined。代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> hash = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.table[pos][index] == key) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.table[pos][index + <span class="number">1</span>];</span><br><span class="line">        index += <span class="number">2</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">this</span>.table[pos][index] != key) &#123;</span><br><span class="line">            index += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.table[pos][index + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="线性探测法"><a href="#线性探测法" class="headerlink" title="线性探测法"></a>线性探测法</h4><p>线性探测法隶属于一种更一般化的散列技术：开放寻址数列。当发生碰撞时，线性探测法检查散列表中的下一个位置是否为空。如果为空，就将数据存入该位置；如果不为空，则继续检查下一个位置，直到找到一个空的位置为止。该技术是基于这样一个事实：每个散列表都会有很多单元格，可以使用他们来存储数据。</p>
<p>当存储数据使用的数组特别大，选择线性探测法要比开链法好。如果数组的大小是待存储数据个数的1.5倍，则使用开链法；如果数组的大小 是待存储数据的两倍及两倍以上时，那么使用线性探测法。</p>
<p>为了实现一个真实的数据存储系统，需要为HashTable类增加一个新的数组，用来存储数据。数组table和values并行工作，当将一个简直保存到数组table中时，将数据存入数组values中相应的位置上。</p>
<p>在HashTable的构造函数中加入下面一行代码：<code>this.values = []</code>.</p>
<p>在<code>put()</code>方法中使用线性探测技术：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">put</span>(<span class="params">key, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.table[pos] == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.table[pos] = key;</span><br><span class="line">        <span class="keyword">this</span>.values[pos] = data;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">this</span>.table[pos] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            pos++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.table[pos] = key;</span><br><span class="line">        <span class="keyword">this</span>.values[pos] = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>get()</code>方法先搜索键在散列表中的位置，如果找到，则返回数组values中对应位置上的数据；如果没有找到，则循环搜索，直到找到对应的键或者数组中的单元为undefined时，后者表示改键没有被存入散列表。代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hash = <span class="number">-1</span>;</span><br><span class="line">    hash = <span class="keyword">this</span>.betterHash(key);</span><br><span class="line">    <span class="keyword">if</span> (hash &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = hash; <span class="keyword">this</span>.table[hash] != <span class="literal">undefined</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.table[hash] == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.values[hash];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>集合是一种包含不同元素的数据结构。集合中的元素称为成员，集合有两个最重要的特性：集合中的成员是无序的；集合中没有相同的成员。</p>
<h3 id="集合的定义、操作和属性"><a href="#集合的定义、操作和属性" class="headerlink" title="集合的定义、操作和属性"></a>集合的定义、操作和属性</h3><p>集合是一组无序但彼此之间又有一定相关性的成员构成，每个成员在集合中只能出现一次。</p>
<h4 id="集合的定义"><a href="#集合的定义" class="headerlink" title="集合的定义"></a>集合的定义</h4><ol>
<li>不把韩任何成员的集合称为空集，全集则是包含一切可能成员的集合。</li>
<li>如果两个集合的成员完全相同，则称两个集合相等。</li>
<li>如果一个集合中所有成员都属于另一个集合，则前一集合称为后一集合的子集。</li>
</ol>
<h4 id="对集合操作"><a href="#对集合操作" class="headerlink" title="对集合操作"></a>对集合操作</h4><p>对集合的操作有下面几种：</p>
<ol>
<li>并集： 讲两个集合的成员进行合并，得到一个新集合。</li>
<li>交集： 两个集合中共同存在的成员组成一个新的集合。</li>
<li>补集： 属于一个集合而不属于另一个集合的成员组成的集合。</li>
</ol>
<h3 id="Set类的实现"><a href="#Set类的实现" class="headerlink" title="Set类的实现"></a>Set类的实现</h3><p>Set类的实现基于数组，数组用来存储数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Set</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.add = add;</span><br><span class="line">    <span class="keyword">this</span>.remove = remove;</span><br><span class="line">    <span class="keyword">this</span>.size = size;</span><br><span class="line">    <span class="keyword">this</span>.union = union;</span><br><span class="line">    <span class="keyword">this</span>.intersect = intersect;</span><br><span class="line">    <span class="keyword">this</span>.subset = subset;</span><br><span class="line">    <span class="keyword">this</span>.difference = difference;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将数据存入数组，先使用<code>indexOf</code>检查新加入的元素在数组中是否存在，如果找到，则返回该元素所在的数组中的位置，否则返回-1.</p>
<p>如果数组中还未包含该元素，<code>add()</code>方法会将新加元素保存到数组中并返回true，否则返回false</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.dataStore.indexOf(data) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore.push(data);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>remove()</code>方法：首先检查待删除元素是否存在在数组中，如果在，则使用数组的<code>splice()</code>方法删除该元素并返回true，否则返回false，表示这个几何中并不存在这个元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="keyword">this</span>.dataStore.indexOf(data);</span><br><span class="line">    <span class="keyword">if</span> (pos &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore.splice(pos, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>show()</code>方法：显示结合中的成员。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>contains()</code>方法：检查一个成员是否属于该集合。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">contains</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore.indexOf(data) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>union()</code>方法执行并集操作，将两个集合合并成一个。该方法首先将第一个集合里的成员悉数加入一个临时集合，然后检查第二个集合 中的成员，看它们是否也同时属于第一个集合。如果属于，则跳过该成员，否则就将该成员加入临时集合。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">union</span>(<span class="params">set</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tempSet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">set</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        tempSet.add(<span class="keyword">this</span>.dataStore[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">set</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!tempSet.contains(<span class="keyword">set</span>.dataStore[i])) &#123;</span><br><span class="line">            tempSet.dataStore.push(<span class="keyword">set</span>.dataStore[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return tempSet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>size()</code>方法：对比两个集合的大小</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">size</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.dataStore.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>subset()</code>方法执行交集操作，首先要确定该集合的长度是否小于待比较集合，如果该集合比特定比较集合还要大，那么该集合肯定不会是待比较集合的一个子集；当该集合的长度小于待比较集合时，再判断该集合内的成员是否都属于待比较集合。如果有任意一个成员不属于待比较集合，则返回false，程序终止。如果一直比较完该集合的最后一个元素，所有元素都属于待比较集合，那么该集合就是待比较集合的一个子集，该方法返回true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">subset</span>(<span class="params">set</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.size() &gt; <span class="keyword">set</span>.size()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        forEach(<span class="keyword">var</span> member <span class="keyword">in</span> <span class="keyword">this</span>.dataStore) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">set</span>.contains(member)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>difference()</code>方法：返回一个新集合，该集合包含的是那些属于第一个集合但不属于第二个集合的成员。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">difference</span>(<span class="params">set</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tempSet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">set</span>.contains(this.dataStore[i])) &#123;</span><br><span class="line">            tempSet.add(<span class="keyword">this</span>.dataStore[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tempSet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二叉树和二叉查找树"><a href="#二叉树和二叉查找树" class="headerlink" title="二叉树和二叉查找树"></a>二叉树和二叉查找树</h2><p>树是计算机科学中经常用到的一种数据结构。树是一种非线性的数据结构，以分层的方式存储数据。</p>
<h3 id="树的定义"><a href="#树的定义" class="headerlink" title="树的定义"></a>树的定义</h3><p>树由一组以边连接的节点组成。一棵树最上面的节点称为根节点，如果一个节点下面连接多个节点，那么该节点称为父节点，它下面的节点称为子节点，没有任何子节点的节点称为叶子节点。</p>
<h3 id="二叉树与二叉查找树"><a href="#二叉树与二叉查找树" class="headerlink" title="二叉树与二叉查找树"></a>二叉树与二叉查找树</h3><p>二叉查找树是一种特殊的二叉树，相对较小的值保存在左节点中，较大的值保存在右结点中。这一特性使得查找的效率很高，对于数值型和非数值型的数据，比如单词和字符串，都是如此。</p>
<h4 id="实现二叉查找树"><a href="#实现二叉查找树" class="headerlink" title="实现二叉查找树"></a>实现二叉查找树</h4><p>二叉查找树是由节点组成，所以要定义的第一个对象就是Node。</p>
<p>首先定义一个Node对象，用来保存数据，也保存和其他节点的连接（left和right）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span> (<span class="params">data, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">    <span class="keyword">this</span>.left = left;</span><br><span class="line">    <span class="keyword">this</span>.right = right;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>show()方法用来显示保存在节点中的数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后创建一个类,用来表示二叉查找树(BST).类中只包含一个数据成员: 一个表示二叉查找树根节点的Node对象.该类的构造函数将根节点初始化为null,以此创建一个空节点.</p>
<ol>
<li>BST首先要有一个insert()方法,用来向树中加入新的节点;</li>
<li>其次检查BST是否有根节点,如果没有,那么这是棵新树,该节点就是根节点,这个方法到此也就完成了,否则进入下一步;</li>
<li>如果待插入节点不是根节点,那么就要遍历BST,找到插入的适当位置.该过程类似于遍历链表,用一个变量存储当前节点,一层层地遍历BST.</li>
<li>进入到BST之后,下一步就要决定将这个节点放在哪个地方.找到正确的插入点时,会跳出循环.</li>
</ol>
<p>查找正确的插入点的算法如下:</p>
<ol>
<li>设根节点为当前节点;</li>
<li>如果待插入节点保存的数据小于当前节点,则设新的当前节点为原节点的左节点;反之,执行第4步; </li>
<li>如果当前节点的左节点为null,就将新的节点插入到这个位置退出循环;否则继续执行下一次循环;</li>
<li>设新的当前节点为原节点的右节点;</li>
<li>如果当前节点的右节点为null,就将新的节点插入到这个位置,退出循环;否则继续执行下一次循环.</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BST</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.inOrder = inOther;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="keyword">new</span> Node(data, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">var</span> parent;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            parent = current;</span><br><span class="line">            <span class="keyword">if</span> (data &lt; current.data) &#123;</span><br><span class="line">                current = current.left;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.left = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                current = current.right;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.right = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="遍列二叉查找树"><a href="#遍列二叉查找树" class="headerlink" title="遍列二叉查找树"></a>遍列二叉查找树</h4><p>由三种遍历BST的方式：中序、先序和后序。中序遍历按照节点上的键值，以升序访问BST上的所有节点。先序遍历先访问根节点，然后以同样的方式访问左子树和右子树。后序遍历先访问叶子节点，从左子树到右子树，再到根节点。</p>
<h5 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h5><p>中序遍历使用递归的方式最容易实现。该方法需要以升序访问树中所有节点，先访问左子树，再访问根节点，最后访问右子树。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inOrder</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!(node == <span class="literal">null</span>)) &#123;</span><br><span class="line">        inOrder(node.left);</span><br><span class="line">        <span class="built_in">console</span>.log(node.show() + <span class="string">' '</span>);</span><br><span class="line">        inOrder(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试BST的中序遍历：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span> (<span class="params">data, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">    <span class="keyword">this</span>.left = left;</span><br><span class="line">    <span class="keyword">this</span>.right = right;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BST</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="comment">// this.inOrder = inOther;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="keyword">new</span> Node(data, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">var</span> parent;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            parent = current;</span><br><span class="line">            <span class="keyword">if</span> (data &lt; current.data) &#123;</span><br><span class="line">                current = current.left;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.left = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                current = current.right;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.right = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inOrder</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!(node == <span class="literal">null</span>)) &#123;</span><br><span class="line">        inOrder(node.left);</span><br><span class="line">        <span class="built_in">console</span>.log(node.show() + <span class="string">' '</span>);</span><br><span class="line">        inOrder(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> nums = <span class="keyword">new</span> BST();</span><br><span class="line">nums.insert(<span class="number">23</span>);</span><br><span class="line">nums.insert(<span class="number">45</span>);</span><br><span class="line">nums.insert(<span class="number">16</span>);</span><br><span class="line">nums.insert(<span class="number">37</span>);</span><br><span class="line">nums.insert(<span class="number">3</span>);</span><br><span class="line">nums.insert(<span class="number">99</span>);</span><br><span class="line">nums.insert(<span class="number">22</span>);</span><br><span class="line">inOrder(nums.root);</span><br></pre></td></tr></table></figure>
<p>测试结果如下：</p>
<blockquote>
<p>3</p>
</blockquote>
<blockquote>
<p>16</p>
</blockquote>
<blockquote>
<p>22</p>
</blockquote>
<blockquote>
<p>23</p>
</blockquote>
<blockquote>
<p>37</p>
</blockquote>
<blockquote>
<p>45</p>
</blockquote>
<blockquote>
<p>99</p>
</blockquote>
<h5 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a>先序遍历</h5><p>先序遍历的定义如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span> (<span class="params">data, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">    <span class="keyword">this</span>.left = left;</span><br><span class="line">    <span class="keyword">this</span>.right = right;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BST</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="comment">// this.inOrder = inOther;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="keyword">new</span> Node(data, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">var</span> parent;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            parent = current;</span><br><span class="line">            <span class="keyword">if</span> (data &lt; current.data) &#123;</span><br><span class="line">                current = current.left;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.left = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                current = current.right;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.right = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">preOrder</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!(node == <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(node.show() + <span class="string">' '</span>);</span><br><span class="line">        preOrder(node.left);</span><br><span class="line">        preOrder(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> nums = <span class="keyword">new</span> BST();</span><br><span class="line">nums.insert(<span class="number">23</span>);</span><br><span class="line">nums.insert(<span class="number">45</span>);</span><br><span class="line">nums.insert(<span class="number">16</span>);</span><br><span class="line">nums.insert(<span class="number">37</span>);</span><br><span class="line">nums.insert(<span class="number">3</span>);</span><br><span class="line">nums.insert(<span class="number">99</span>);</span><br><span class="line">nums.insert(<span class="number">22</span>);</span><br><span class="line">preOrder(nums.root);</span><br></pre></td></tr></table></figure>
<p>测试结果：</p>
<blockquote>
<p>23</p>
</blockquote>
<blockquote>
<p>16</p>
</blockquote>
<blockquote>
<p>3</p>
</blockquote>
<blockquote>
<p>22</p>
</blockquote>
<blockquote>
<p>45</p>
</blockquote>
<blockquote>
<p>37</p>
</blockquote>
<blockquote>
<p>99</p>
</blockquote>
<h5 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h5><p>后序遍历的定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postOrder</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!(node == <span class="literal">null</span>)) &#123;</span><br><span class="line">        postOrder(node.left);</span><br><span class="line">        postOrder(node.right);</span><br><span class="line">        <span class="built_in">console</span>.log(node.show() + <span class="string">' '</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span> (<span class="params">data, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">    <span class="keyword">this</span>.left = left;</span><br><span class="line">    <span class="keyword">this</span>.right = right;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BST</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="comment">// this.inOrder = inOther;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="keyword">new</span> Node(data, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.root === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.root = n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">var</span> parent;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            parent = current;</span><br><span class="line">            <span class="keyword">if</span> (data &lt; current.data) &#123;</span><br><span class="line">                current = current.left;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.left = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                current = current.right;</span><br><span class="line">                <span class="keyword">if</span> (current == <span class="literal">null</span>) &#123;</span><br><span class="line">                    parent.right = n;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postOrder</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!(node == <span class="literal">null</span>)) &#123;</span><br><span class="line">        postOrder(node.left);</span><br><span class="line">        postOrder(node.right);</span><br><span class="line">        <span class="built_in">console</span>.log(node.show() + <span class="string">' '</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> nums = <span class="keyword">new</span> BST();</span><br><span class="line">nums.insert(<span class="number">23</span>);</span><br><span class="line">nums.insert(<span class="number">45</span>);</span><br><span class="line">nums.insert(<span class="number">16</span>);</span><br><span class="line">nums.insert(<span class="number">37</span>);</span><br><span class="line">nums.insert(<span class="number">3</span>);</span><br><span class="line">nums.insert(<span class="number">99</span>);</span><br><span class="line">nums.insert(<span class="number">22</span>);</span><br><span class="line">postOrder(nums.root);</span><br></pre></td></tr></table></figure>
<p>测试结果：</p>
<blockquote>
<p>3</p>
</blockquote>
<blockquote>
<p>22</p>
</blockquote>
<blockquote>
<p>16</p>
</blockquote>
<blockquote>
<p>37</p>
</blockquote>
<blockquote>
<p>99</p>
</blockquote>
<blockquote>
<p>45</p>
</blockquote>
<blockquote>
<p>23</p>
</blockquote>
<h3 id="在二叉查找树上进行查找"><a href="#在二叉查找树上进行查找" class="headerlink" title="在二叉查找树上进行查找"></a>在二叉查找树上进行查找</h3><p>对BST通常有下列三种类型的值：</p>
<ol>
<li>查找给定值</li>
<li>查找最小值</li>
<li>查找最大值</li>
</ol>
<h4 id="查找最小值和最大值"><a href="#查找最小值和最大值" class="headerlink" title="查找最小值和最大值"></a>查找最小值和最大值</h4><p>因为较小的值总是在左节点上，在BST上查找最小值，只需要遍历左子树，直到找到最后一个节点。</p>
<p>查找最小值的方法定义如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMin</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">while</span>(!(current.left == <span class="literal">null</span>)) &#123;</span><br><span class="line">        current = current.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> current.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在BST上查找最大值，只需要遍历右子树，直到找到最后一个节点，该节点上保存的值为最大值。</p>
<p>该方法定义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getMax() &#123;</span><br><span class="line">    var current = this.root;</span><br><span class="line">    while(!(current.right == null)) &#123;</span><br><span class="line">        current = current.right;</span><br><span class="line">    &#125;</span><br><span class="line">    return current.right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试getMin方法和getMax方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nums = <span class="keyword">new</span> BST();</span><br><span class="line">nums.insert(<span class="number">23</span>);</span><br><span class="line">nums.insert(<span class="number">45</span>);</span><br><span class="line">nums.insert(<span class="number">16</span>);</span><br><span class="line">nums.insert(<span class="number">37</span>);</span><br><span class="line">nums.insert(<span class="number">3</span>);</span><br><span class="line">nums.insert(<span class="number">99</span>);</span><br><span class="line">nums.insert(<span class="number">22</span>);</span><br><span class="line"><span class="keyword">var</span> min = nums.getMin();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'the min is: '</span> + min);</span><br><span class="line"><span class="keyword">var</span> max = nums.getMax();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'the max is: '</span> + max);</span><br></pre></td></tr></table></figure>
<p>测试结果：</p>
<blockquote>
<p>the min is: 3</p>
</blockquote>
<blockquote>
<p>the max is: 99</p>
</blockquote>
<h4 id="查找给定值"><a href="#查找给定值" class="headerlink" title="查找给定值"></a>查找给定值</h4><p>在BST上查找给定值，需要比较该值和当前节点上的值的大小。通过比较，就能确定如果给定值不在当前结点时，是向左遍历还是向右遍历。</p>
<p>该方法定义为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMax</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">while</span>(!(current.right == <span class="literal">null</span>)) &#123;</span><br><span class="line">        current = current.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> current.data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> current = <span class="keyword">this</span>.root;</span><br><span class="line">    <span class="keyword">while</span>(current != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(current.data == data) &#123;</span><br><span class="line">            <span class="keyword">return</span> current;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(data &lt; current.data) &#123;</span><br><span class="line">            current = current.left;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            current = current.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="从二叉树上删除节点"><a href="#从二叉树上删除节点" class="headerlink" title="从二叉树上删除节点"></a>从二叉树上删除节点</h3><p>从BST中删除节点的第一步是判断当前结点是否包含带删除数据，如果包含，则删除该节点；如果不包含，则比较当前节点上的数据和待删除节点的数据：如果待删除数据小于当前节点的数据，则移至当前节点的左节点进行比较；如果删除数据大于当前节点的数据，则移至当前节点的右结点进行比较。</p>
<p>如果待删除节点是叶子节点，那么只需要将从父节点指向它的链接指向null。</p>
<p>如果待删除节点只包含一个节点，那么原本指向它的节点就得做些调整，使其指向它的子节点。</p>
<p>如果待删除节点包含两个字节点，正确的方法有两种：查找待删除节点左子树上的最大值；查找待删除节点右子树上的最小节点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    root = removeNode(<span class="keyword">this</span>.root, data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeNode</span>(<span class="params">node, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(data == node.data) &#123;</span><br><span class="line">        <span class="comment">// 如果没有子节点的节点（叶子节点）</span></span><br><span class="line">        <span class="keyword">if</span>(node.left == <span class="literal">null</span> &amp;&amp; node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 没有左子节点的节点</span></span><br><span class="line">        <span class="keyword">if</span>(node.left == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> node.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 没有右子节点的节点</span></span><br><span class="line">        <span class="keyword">if</span>(node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> node.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 有两个子节点的节点</span></span><br><span class="line">        <span class="keyword">var</span> tempNode = getSmalllest(node.right);</span><br><span class="line">        node.data = tempNode.data;</span><br><span class="line">        node.right = removeNode(node.right, tempNode.data);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(data &lt; node.data) &#123;</span><br><span class="line">        node.left = removeNode(node.left, data);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        node.right = removeNode(node.right, data);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="计数"><a href="#计数" class="headerlink" title="计数"></a>计数</h3><p>使用BST记录 考试成绩的分布：给定一组考试成绩，可以写一段程序将它们加入一个BST，如果某成绩尚未在BST中出现，就将其加入BST；如果已经出现，就将出现的次数加1.</p>
<p>先修改Node对象的定义，为其增加记录成绩出现次数的成员。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span> (<span class="params">data, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.data = data;</span><br><span class="line">    <span class="keyword">this</span>.count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.left = left;</span><br><span class="line">    <span class="keyword">this</span>.right = right;</span><br><span class="line">    <span class="keyword">this</span>.show = show;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当向BST插入一条成绩（Node对象）时，将出现频次设为1。此时BST的<code>insert()</code>方法还能正常工作，但是，当次数增加时，就需要一个新方法来更新BST中的节点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> grade = <span class="keyword">this</span>.find(data);</span><br><span class="line">    grade.count++;</span><br><span class="line">    <span class="keyword">return</span> grade;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图和图算法"><a href="#图和图算法" class="headerlink" title="图和图算法"></a>图和图算法</h2><h3 id="图的定义"><a href="#图的定义" class="headerlink" title="图的定义"></a>图的定义</h3><p>图是由边的集合及顶点的集合组成。</p>
<p>如果一个图的顶点对是有序的，则称之为<strong>有向图</strong>。在对有向图中的顶点对排序后，便可以在两个顶点之间绘制一个箭头，有向图表明了顶点的流向。</p>
<p>如果图是无序的，则称之为无序图。</p>
<p>图中的一系列顶点构成路径，路径中所有的顶点都由边连接。路径的长度用路径中第一个顶点到最后一个顶点之间边的数量表示。由指向自身的顶点组成的路径称之为<strong>环</strong>，环的长度为0.</p>
<p><strong>圈</strong>是至少有一条边的路径，且路径的第一个顶点和最后一个顶点相同。无论是有向图还是无向图，只要是没有重复边或重复顶点的圈，就是一个简单圈。除了第一个和最后一个顶点外，路径的其他顶点有重复的圈称为<strong>平凡圈</strong>。</p>
<p>如果两个顶点之间有路径，那么这两个顶点就是<strong>强连通</strong>的，反之亦然。如果有向图的所有的顶点都是强连通的，那么这个有向图也是强连通的。</p>
<h3 id="图类"><a href="#图类" class="headerlink" title="图类"></a>图类</h3><h4 id="表示顶点"><a href="#表示顶点" class="headerlink" title="表示顶点"></a>表示顶点</h4><p>创建一个<code>Vertex</code>类来保存顶点和边。Vertex类有两个数据成员：一个用于标识顶点，另一个是表明这个顶点是否被访问过的布尔值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Vertex</span>(<span class="params">label, wasVisited</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.label = label;</span><br><span class="line">    <span class="keyword">this</span>.wasVisited = wasVisited;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将所有的顶点保存到数组中，在图类里，可以通过他们在数组中的位置引用他们。</p>
<h4 id="表示边"><a href="#表示边" class="headerlink" title="表示边"></a>表示边</h4><p>将表示图的边的方法称为<strong>邻接表</strong>或<strong>邻接表数组</strong>。这种方法是将边存储为由顶点的相邻顶点列表构成的数组，并以此顶点为索引。</p>
<p>另一种表示图边的方法称为<strong>邻接矩阵</strong>。它是一个二维数组，其中的元素表示两个顶点之间是否由一条边。</p>
<h4 id="构件图"><a href="#构件图" class="headerlink" title="构件图"></a>构件图</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices = v;</span><br><span class="line">    <span class="keyword">this</span>.edges = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.adj = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.adj[i] = [];</span><br><span class="line">        <span class="keyword">this</span>.adj[i].push(<span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addEdge = addEdge;</span><br><span class="line">    <span class="keyword">this</span>.showGraph = showGraph;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加顶点函数</span></span><br><span class="line"><span class="comment">// 当调用这个函数并传入顶点A和B时，函数会先查找顶点A的邻接表，将顶点B添加到列表中，然后再查找顶点B的邻接表，将顶点A加入列表。最后，这个函数会将边数加1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEdge</span>(<span class="params">v, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.adj[v].push(w);</span><br><span class="line">    <span class="keyword">this</span>.adj[w].push(v);</span><br><span class="line">    <span class="keyword">this</span>.edges++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 打印所有顶点及其相邻顶点列表</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showGraph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i + <span class="string">'-&gt;'</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.vertices; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.adj[i][j] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.adj[i][j] + <span class="string">''</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="一个完整的Graph类的完整定义"><a href="#一个完整的Graph类的完整定义" class="headerlink" title="一个完整的Graph类的完整定义"></a>一个完整的Graph类的完整定义</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices = v;</span><br><span class="line">    <span class="keyword">this</span>.edges = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.adj = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.adj[i] = [];</span><br><span class="line">        <span class="keyword">this</span>.adj[i].push(<span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addEdge = addEdge;</span><br><span class="line">    <span class="keyword">this</span>.showGraph = showGraph;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加顶点函数</span></span><br><span class="line"><span class="comment">// 当调用这个函数并传入顶点A和B时，函数会先查找顶点A的邻接表，将顶点B添加到列表中，然后再查找顶点B的邻接表，将顶点A加入列表。最后，这个函数会将边数加1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEdge</span>(<span class="params">v, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.adj[v].push(w);</span><br><span class="line">    <span class="keyword">this</span>.adj[w].push(v);</span><br><span class="line">    <span class="keyword">this</span>.edges++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 打印所有顶点及其相邻顶点列表</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showGraph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i + <span class="string">'-&gt;'</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.vertices; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.adj[i][j] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.adj[i][j] + <span class="string">''</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line">g = <span class="keyword">new</span> Graph(<span class="number">5</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">g.addEdge(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">g.addEdge(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">g.showGraph();</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>0-&gt; 1 2
1-&gt; 0 3
2-&gt; 0 4
3-&gt; 1
4-&gt; 2</code></p>
<h3 id="搜索图"><a href="#搜索图" class="headerlink" title="搜索图"></a>搜索图</h3><p>在图上可以执行两种基础搜索：深度优先搜索和广度优先搜索。</p>
<h4 id="深度优先搜索"><a href="#深度优先搜索" class="headerlink" title="深度优先搜索"></a>深度优先搜索</h4><p>深度优先搜索包括从一条路径的起始顶点开始追溯，直到到达最后一个顶点，然后回溯，继续追溯下一条路径，直到到达最后的定点，如此往复，直到没有路径为止。</p>
<p>完整代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices = v;</span><br><span class="line">    <span class="keyword">this</span>.edges = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.adj = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.adj[i] = [];</span><br><span class="line">        <span class="keyword">this</span>.adj[i].push(<span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addEdge = addEdge;</span><br><span class="line">    <span class="keyword">this</span>.showGraph = showGraph;</span><br><span class="line">    <span class="keyword">this</span>.dfs = dfs;</span><br><span class="line">    <span class="keyword">this</span>.marked = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.marked[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加顶点函数</span></span><br><span class="line"><span class="comment">// 当调用这个函数并传入顶点A和B时，函数会先查找顶点A的邻接表，将顶点B添加到列表中，然后再查找顶点B的邻接表，将顶点A加入列表。最后，这个函数会将边数加1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEdge</span>(<span class="params">v, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.adj[v].push(w);</span><br><span class="line">    <span class="keyword">this</span>.adj[w].push(v);</span><br><span class="line">    <span class="keyword">this</span>.edges++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 打印所有顶点及其相邻顶点列表</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showGraph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i + <span class="string">'-&gt;'</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.vertices; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.adj[i][j] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.adj[i][j] + <span class="string">''</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.marked[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.adj[v] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'visted vertex: '</span> + v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.dfs(w)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="广度优先搜索"><a href="#广度优先搜索" class="headerlink" title="广度优先搜索"></a>广度优先搜索</h4><p>广度优先搜索算法使用了抽象的队列而不是数组来对已访问过的顶点进行排序。其算法工作原理如下：</p>
<ol>
<li>查找与当前顶点相邻的未访问顶点，将其添加到已访问顶点列表及队列中；</li>
<li>从图中取下一个顶点v，添加到已访问的顶点列表；</li>
<li>将所有与v相邻的未访问顶点添加到队列。</li>
</ol>
<p>以下是广度优先搜索函数的定义 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> queue = [];</span><br><span class="line">    <span class="keyword">this</span>.marked[s] = <span class="literal">true</span>;</span><br><span class="line">    queue.push(s);  <span class="comment">// 添加到队尾</span></span><br><span class="line">    <span class="keyword">while</span>(queue.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> v = queue.shift();  <span class="comment">// 从队首移除</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.adj[v] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'visited vertex: '</span> + v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">                <span class="keyword">this</span>.marked[w] = <span class="literal">true</span>;</span><br><span class="line">                queue.push(w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="查找最短路径"><a href="#查找最短路径" class="headerlink" title="查找最短路径"></a>查找最短路径</h3><h4 id="广度优先搜索对应的最短路径"><a href="#广度优先搜索对应的最短路径" class="headerlink" title="广度优先搜索对应的最短路径"></a>广度优先搜索对应的最短路径</h4><p>在执行广度优先搜索时，会自动查找从一个顶点到另一个相连顶点的最短路径。</p>
<h4 id="确定路径"><a href="#确定路径" class="headerlink" title="确定路径"></a>确定路径</h4><p>首先，需要一个数组来保存从一个顶点到下一个顶点的所有边，将这个数组命名为<code>edgeTo</code>。因为从始至终使用的都是广度优先搜索函数，所以每次都会遇到一个没有标记的顶点，除了对它进行标记外，还会从邻接表列表中我们正在探索的那个顶点添加一条边到这个顶点。</p>
<p>下面是确定最短路径的完整程序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices = v;</span><br><span class="line">    <span class="keyword">this</span>.edges = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.adj = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.adj[i] = [];</span><br><span class="line">        <span class="keyword">this</span>.adj[i].push(<span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addEdge = addEdge;</span><br><span class="line">    <span class="keyword">this</span>.showGraph = showGraph;</span><br><span class="line">    <span class="keyword">this</span>.dfs = dfs;</span><br><span class="line">    <span class="keyword">this</span>.marked = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.marked[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.bfs = bfs;</span><br><span class="line">    <span class="keyword">this</span>.edgeTo = [];</span><br><span class="line">    <span class="keyword">this</span>.pathTo = pathTo;</span><br><span class="line">    <span class="keyword">this</span>.hasPathto = hasPathto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEdge</span>(<span class="params">v, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.adj[v].push(w);</span><br><span class="line">    <span class="keyword">this</span>.adj[w].push(v);</span><br><span class="line">    <span class="keyword">this</span>.edges++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showGraph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i + <span class="string">'-&gt;'</span>);</span><br><span class="line">        visited.push(<span class="keyword">this</span>.vertexList[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.vertices; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.adj[i][j] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>.adj[i][j] + <span class="string">''</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bfs</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> queue = [];</span><br><span class="line">    <span class="keyword">this</span>.marked[s] = <span class="literal">true</span>;</span><br><span class="line">    queue.push(s);</span><br><span class="line">    <span class="keyword">while</span>(queue.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> v = queue.shift();</span><br><span class="line">        <span class="keyword">if</span>(v == <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'visited vertex: '</span> + v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">                <span class="keyword">this</span>.edgeTo[w] = v;</span><br><span class="line">                <span class="keyword">this</span>.marked[w] = <span class="literal">true</span>;</span><br><span class="line">                queue.unshift(w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.marked[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.adj[v] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Visited vertex: '</span> + v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.dfs(w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pathTo</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> source = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.hasPathto(v)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> path = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = v; i != source; i = <span class="keyword">this</span>.edgeTo[i]) &#123;</span><br><span class="line">        path.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    path.push(source);</span><br><span class="line">    <span class="keyword">return</span> path;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPathto</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.marked[v];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line">g = <span class="keyword">new</span> Graph(<span class="number">5</span>);</span><br><span class="line">g.bfs(<span class="number">0</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">g.addEdge(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">g.addEdge(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">var</span> vertex = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> paths = g.pathTo(vertex);</span><br><span class="line"><span class="keyword">while</span>(paths.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(paths.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(paths.pop() + <span class="string">'-'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(paths.pop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><p><strong>拓扑排序</strong>会对有向图的所有顶点进行排序，使有向边从前面的顶点指向后面的顶点。</p>
<h4 id="拓扑排序算法"><a href="#拓扑排序算法" class="headerlink" title="拓扑排序算法"></a>拓扑排序算法</h4><p>拓扑排序算法与深度优先搜索类似，不同的是，拓扑排序算法不会立即输出已访问的顶点，而是访问当前顶点邻接表中的所有相邻顶点，直到这个列表穷尽，才将当前顶点压入栈中。</p>
<h4 id="实现拓扑排序算法"><a href="#实现拓扑排序算法" class="headerlink" title="实现拓扑排序算法"></a>实现拓扑排序算法</h4><p>拓扑排序算法被拆为两个函数，第一个函数<code>topSort()</code>，会设置排序进程并调用一个辅助函数<code>topSortHelper()</code>，然后会显示排序好的顶点列表。</p>
<p>主要工作是在递归函数<code>topSortHelper()</code>中完成的。这个函数会将当前顶点标记为已访问，然后递归访问当前顶点邻接表中的每个相邻顶点，标记这些顶点为已访问，最后，将当前顶点压入栈。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">topSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> stack = [];</span><br><span class="line">    <span class="keyword">var</span> visited = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; i++) &#123;</span><br><span class="line">        visited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; stack.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.topSortHelper(i, visited, stack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; stack.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(stack[i] != <span class="literal">undefined</span> &amp;&amp; stack[i] != <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.vertexList[stack[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">topSortHelper</span>(<span class="params">v, visited, stack</span>) </span>&#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[w]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.topSortHelper(visited[w], visited, stack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stack.push(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是整个部分的完整定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Graph</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.vertices = v;</span><br><span class="line">    <span class="keyword">this</span>.vertexList = [];</span><br><span class="line">    <span class="keyword">this</span>.edges = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.adj = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.adj[i] = [];</span><br><span class="line">        <span class="keyword">this</span>.adj[i].push(<span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.addEdge = addEdge;</span><br><span class="line">    <span class="keyword">this</span>.showGraph = showGraph;</span><br><span class="line">    <span class="keyword">this</span>.dfs = dfs;</span><br><span class="line">    <span class="keyword">this</span>.marked = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.marked[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.bfs = bfs;</span><br><span class="line">    <span class="keyword">this</span>.edgeTo = [];</span><br><span class="line">    <span class="keyword">this</span>.hasPathto = hasPathto;</span><br><span class="line">    <span class="keyword">this</span>.topSortHelper = topSortHelper;</span><br><span class="line">    <span class="keyword">this</span>.topSort = topSort;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEdge</span>(<span class="params">v, w</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.adj[v].push(w);</span><br><span class="line">    <span class="keyword">this</span>.adj[w].push(v);</span><br><span class="line">    <span class="keyword">this</span>.edges++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showGraph</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> visited = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.vertexList[i] + <span class="string">'-&gt;'</span>);</span><br><span class="line">        visited.push(<span class="keyword">this</span>.vertexList[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.vertices; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.adj[i][j] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(visited.indexOf(<span class="keyword">this</span>.vertexList[j]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="keyword">this</span>.vertexList[j] + <span class="string">''</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">''</span>);</span><br><span class="line">        visited.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bfs</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> queue = [];</span><br><span class="line">    <span class="keyword">this</span>.marked[s] = <span class="literal">true</span>;</span><br><span class="line">    queue.unshift(s);</span><br><span class="line">    <span class="keyword">while</span>(queue.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> v = queue.shift();</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span>(v) != <span class="string">'string'</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'visited vertex: '</span> + v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">                <span class="keyword">this</span>.edgeTo[w] = v;</span><br><span class="line">                <span class="keyword">this</span>.marked[w] = <span class="literal">true</span>;</span><br><span class="line">                queue.unshift(w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.marked[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.adj[v] != <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Visited vertex: '</span> + v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.marked[w]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.dfs(w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pathTo</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> source = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.hasPathto(v)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> path = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = v; i != source; i = <span class="keyword">this</span>.edgeTo[i]) &#123;</span><br><span class="line">        path.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    path.push(source);</span><br><span class="line">    <span class="keyword">return</span> path;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPathto</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.marked[v];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">topSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> stack = [];</span><br><span class="line">    <span class="keyword">var</span> visited = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.vertices; i++) &#123;</span><br><span class="line">        visited[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; stack.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.topSortHelper(i, visited, stack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; stack.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(stack[i] != <span class="literal">undefined</span> &amp;&amp; stack[i] != <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.vertexList[stack[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">topSortHelper</span>(<span class="params">v, visited, stack</span>) </span>&#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> w <span class="keyword">in</span> <span class="keyword">this</span>.adj[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!visited[w]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.topSortHelper(visited[w], visited, stack);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stack.push(v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line">g = <span class="keyword">new</span> Graph(<span class="number">6</span>);</span><br><span class="line">g.addEdge(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">g.addEdge(<span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line">g.addEdge(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">g.addEdge(<span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">g.addEdge(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">g.vertexList = [<span class="string">'cs1'</span>, <span class="string">'cs2'</span>, <span class="string">'Data Structures'</span>, <span class="string">'Assembly Language'</span>, <span class="string">'Operating Systems'</span>, <span class="string">'Algorithms'</span>];</span><br><span class="line">g.showGraph();</span><br><span class="line">g.topSort();</span><br></pre></td></tr></table></figure>
<h2 id="排序算法"><a href="#排序算法" class="headerlink" title="排序算法"></a>排序算法</h2><h3 id="数组测试平台"><a href="#数组测试平台" class="headerlink" title="数组测试平台"></a>数组测试平台</h3><p>创建一个数组类和一些封装常规数组操作的函数：插入新数据，显示数组数据集调用不同的排序算法，这个类还包含了一个<code>swap()</code>函数，用于交换数组元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CArray</span>(<span class="params">numElements</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.numElements = numElements;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.clear = clear;</span><br><span class="line">    <span class="keyword">this</span>.setData = setData;</span><br><span class="line">    <span class="keyword">this</span>.swap = swap;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i  = <span class="number">0</span>; i &lt; numElements; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numElements; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (<span class="keyword">this</span>.numElements + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.pos++] = element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> restr = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        restr += <span class="keyword">this</span>.dataStore[i] + <span class="string">' '</span>;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp; i % <span class="number">10</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            restr += <span class="string">'\n'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> restr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试程序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numElements = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(numElements);</span><br><span class="line">myNums.setData();</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>3 59 95 98 94 44 84 9 100 9 85 18 52 56 20 85 50 78 55 22 33 79 66 8 65 1 95 44 28 34 93 61 92 23 17 8 99 41 92 61 62 23 25 14 53 79 36 91 73 54 8 21 43 25 2 81 51 15 36 31 23 22 12 39 32 78 94 0 41 75 93 6 16 77 97 53 75 78 41 32 71 73 39 58 71 22 72 0 87 91 11 51 16 58 46 15 56 34 55 33</code></p>
<h3 id="基本排序算法"><a href="#基本排序算法" class="headerlink" title="基本排序算法"></a>基本排序算法</h3><h4 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h4><p>冒泡排序算法是最慢的排序算法之一，但也是最容易实现的排序算法。</p>
<p>原理：比较两个相邻的元素，将值大的元素交换到右边。</p>
<p>思路：</p>
<ol>
<li>第一次比较：首先比较第一和第二个数，将小数放在前面，将大数放在后面。</li>
<li>比较第2和第3个数，将小数 放在前面，大数放在后面。</li>
<li>如此继续，知道比较到最后的两个数，将小数放在前面，大数放在后面，重复步骤，直至全部排序完成</li>
<li>在上面一趟比较完成后，最后一个数一定是数组中最大的一个数，所以在比较第二趟的时候，最后一个数是不参加比较的。</li>
<li>在第二趟比较完成后，倒数第二个数也一定是数组中倒数第二大数，所以在第三趟的比较中，最后两个数是不参与比较的。</li>
<li>依次类推，每一趟比较次数减少依次</li>
</ol>
<p>冒泡排序函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> numElements = <span class="keyword">this</span>.dataStore.length;</span><br><span class="line">    <span class="keyword">var</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> outer = numElements; outer &gt;= <span class="number">2</span>; --outer) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> inner = <span class="number">0</span>; inner &lt;= outer - <span class="number">1</span>; ++inner) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore[inner] &gt; <span class="keyword">this</span>.dataStore[inner + <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(<span class="keyword">this</span>.dataStore, inner, inner + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用<code>bubbleSort()</code>对10个数字进行排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CArray</span>(<span class="params">numElements</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.numElements = numElements;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.clear = clear;</span><br><span class="line">    <span class="keyword">this</span>.setData = setData;</span><br><span class="line">    <span class="keyword">this</span>.swap = swap;</span><br><span class="line">    <span class="keyword">this</span>.bubbleSort = bubbleSort;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i  = <span class="number">0</span>; i &lt; numElements; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numElements; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (<span class="keyword">this</span>.numElements + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insert</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.dataStore[<span class="keyword">this</span>.pos++] = element;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toString</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> restr = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">        restr += <span class="keyword">this</span>.dataStore[i] + <span class="string">' '</span>;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp; i % <span class="number">10</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            restr += <span class="string">'\n'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> restr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> numElements = <span class="keyword">this</span>.dataStore.length;</span><br><span class="line">    <span class="keyword">var</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> outer = numElements; outer &gt;= <span class="number">2</span>; --outer) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> inner = <span class="number">0</span>; inner &lt;= outer - <span class="number">1</span>; ++inner) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore[inner] &gt; <span class="keyword">this</span>.dataStore[inner + <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(<span class="keyword">this</span>.dataStore, inner, inner + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> numElements = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(numElements);</span><br><span class="line">myNums.setData();</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br><span class="line">myNums.bubbleSort();</span><br><span class="line"><span class="built_in">console</span>.log();</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>8 2 6 4 6 9 10 3 1 9</code></p>
<p><code>1 2 3 4 6 6 8 9 9 10</code></p>
<p>在<code>bubbleSort()</code>函数中添加对<code>toString()</code>函数的调用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> numElements = <span class="keyword">this</span>.dataStore.length;</span><br><span class="line">    <span class="keyword">var</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> outer = numElements; outer &gt;= <span class="number">2</span>; --outer) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> inner = <span class="number">0</span>; inner &lt;= outer - <span class="number">1</span>; ++inner) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore[inner] &gt; <span class="keyword">this</span>.dataStore[inner + <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(<span class="keyword">this</span>.dataStore, inner, inner + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重新执行上述函数：</p>
<p><code>2 7 10 1 3 9 5 3 0 6</code></p>
<p><code>2 7 1 3 9 5 3 0 6 10</code></p>
<p><code>2 1 3 7 5 3 0 6 9 10</code></p>
<p><code>1 2 3 5 3 0 6 7 9 10</code></p>
<p><code>1 2 3 3 0 5 6 7 9 10</code></p>
<p><code>1 2 3 0 3 5 6 7 9 10</code></p>
<p><code>1 2 0 3 3 5 6 7 9 10</code></p>
<p><code>1 0 2 3 3 5 6 7 9 10</code></p>
<p><code>0 1 2 3 3 5 6 7 9 10</code></p>
<p><code>0 1 2 3 3 5 6 7 9 10</code></p>
<p><code>0 1 2 3 3 5 6 7 9 10</code></p>
<h4 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h4><p>选择排序的思想：选择排序，从头至尾扫描序列，找出最小的一个元素，和第一个元素交换，接着从剩下的元素中继续这种选择和交换方式，最终得到一个有序序列。</p>
<p>选择排序会用到嵌套循环。外循环从数组的第一个元素移动到倒数第二个元素；内循环从第二个数组元素移动到最后一个元素，查找比当前外循环所指向的元素小的元素。每次内循环迭代后，数组中最小的值都会被赋值到合适的位置。</p>
<p>下面是选择排序函数<code>selectionSort()</code>的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> min,temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> outer = <span class="number">0</span>; outer &lt;= <span class="keyword">this</span>.dataStore.length - <span class="number">2</span>; ++outer) &#123;</span><br><span class="line">        min = outer;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> inner = outer + <span class="number">1</span>; inner &lt;= <span class="keyword">this</span>.dataStore.length - <span class="number">1</span>; ++inner) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore[inner] &lt; <span class="keyword">this</span>.dataStore[min]) &#123;</span><br><span class="line">                min = inner;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(<span class="keyword">this</span>.dataStore, outer, min);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行程序：</p>
<p><code>3 6 10 4 2 1 10 7 0 0</code></p>
<p><code>0 6 10 4 3 2 10 7 1 0</code></p>
<p><code>0 0 10 6 4 3 10 7 2 1</code></p>
<p><code>0 0 1 10 6 4 10 7 3 2</code></p>
<p><code>0 0 1 2 10 6 10 7 4 3</code></p>
<p><code>0 0 1 2 3 10 10 7 6 4</code></p>
<p><code>0 0 1 2 3 4 10 10 7 6</code></p>
<p><code>0 0 1 2 3 4 6 10 10 7</code></p>
<p><code>0 0 1 2 3 4 6 7 10 10</code></p>
<p><code>0 0 1 2 3 4 6 7 10 10</code></p>
<p><code>0 0 1 2 3 4 6 7 10 10</code></p>
<h4 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h4><p>插入排序的思想：将数组的第一个数认为是有序数组，从后往前（从前往后）扫描该有序数组，把数组中其余n-1个数，根据数值的大小，插入到有序数组中，直至数组中的所有数有序排列为止。这样的话，n个元素需要进行n-1趟排序。</p>
<p>插入排序有两个循环。外循环将数组元素挨个移动，而内循环则对外循环中选中的元素及它后面的那个元素进行比较。如果外循环中选中的元素比内循环中选中的元素小，那么数组元素会向右移动，为内循环中的这个元素腾出位置。</p>
<p>下面是插入排序<code>insertionSort()</code>的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertionSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp, inner;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> outer = <span class="number">1</span>; outer &lt;= <span class="keyword">this</span>.dataStore.length - <span class="number">1</span>; ++outer) &#123;</span><br><span class="line">        temp = <span class="keyword">this</span>.dataStore[outer];</span><br><span class="line">        inner = outer;</span><br><span class="line">        <span class="keyword">while</span>(inner &gt; <span class="number">0</span> &amp;&amp; (<span class="keyword">this</span>.dataStore[inner - <span class="number">1</span>] &gt;= temp)) &#123;</span><br><span class="line">            <span class="keyword">this</span>.dataStore[inner] = <span class="keyword">this</span>.dataStore[inner - <span class="number">1</span>];</span><br><span class="line">            --inner;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[inner] = temp;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行程序：</p>
<p><code>4 10 7 6 3 1 9 8 6 0</code></p>
<p><code>4 10 7 6 3 1 9 8 6 0</code></p>
<p><code>4 7 10 6 3 1 9 8 6 0</code></p>
<p><code>4 6 7 10 3 1 9 8 6 0</code></p>
<p><code>3 4 6 7 10 1 9 8 6 0</code></p>
<p><code>1 3 4 6 7 10 9 8 6 0</code></p>
<p><code>1 3 4 6 7 9 10 8 6 0</code></p>
<p><code>1 3 4 6 7 8 9 10 6 0</code></p>
<p><code>1 3 4 6 6 7 8 9 10 0</code></p>
<p><code>0 1 3 4 6 6 7 8 9 10</code></p>
<p><code>0 1 3 4 6 6 7 8 9 10</code></p>
<h4 id="基本排序算法的计时比较"><a href="#基本排序算法的计时比较" class="headerlink" title="基本排序算法的计时比较"></a>基本排序算法的计时比较</h4><p>计时系统是基于Javascript Data对象的<code>getTime()</code>函数来取得系统时间，这个函数的运行方式如下:<code>var start = new Date().getTime();</code></p>
<p>要记录代码执行的时间，首先启动计时器，执行代码，然后在代码执行结束时停止计时器。计时器停止时记录的时间与计时器启动时记录的时间之差就是排序所花费的时间。</p>
<p>为排序函数计时（对长度为100的数组进行排序）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numElements = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(numElements);</span><br><span class="line">myNums.setData();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**对冒泡排序进行计时**/</span></span><br><span class="line"><span class="comment">// 开始计时：</span></span><br><span class="line"><span class="keyword">var</span> start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">myNums.bubbleSort();</span><br><span class="line"><span class="keyword">var</span> stop = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="keyword">var</span> elapsed = stop - start;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'对'</span> + numElements + <span class="string">'个元素执行冒泡排序所消耗的时间为：'</span> + elapsed + <span class="string">'毫秒'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**对选择排序进行计时**/</span></span><br><span class="line"><span class="comment">// 开始计时：</span></span><br><span class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">myNums.selectionSort();</span><br><span class="line">stop = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">elapsed = stop - start;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'对'</span> + numElements + <span class="string">'个元素执行选择排序所消耗的时间为：'</span> + elapsed + <span class="string">'毫秒'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**对插入排序进行计时**/</span></span><br><span class="line"><span class="comment">// 开始计时：</span></span><br><span class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">myNums.insertionSort();</span><br><span class="line">stop = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">elapsed = stop - start;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'对'</span> + numElements + <span class="string">'个元素执行插入排序所消耗的时间为：'</span> + elapsed + <span class="string">'毫秒'</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>对100个元素执行冒泡排序所消耗的时间为：1毫秒</p>
<p>对100个元素执行选择排序所消耗的时间为：5毫秒</p>
<p>对100个元素执行插入排序所消耗的时间为：0毫秒</p>
<p>对1000个数字进行排序，运行结果：</p>
<p>对1000个元素执行冒泡排序所消耗的时间为：10毫秒</p>
<p>对1000个元素执行选择排序所消耗的时间为：10毫秒</p>
<p>对1000个元素执行插入排序所消耗的时间为：0毫秒</p>
<p>对10000个数字进行排序，运行结果：</p>
<p>对10000个元素执行冒泡排序所消耗的时间为：322毫秒</p>
<p>对10000个元素执行选择排序所消耗的时间为：133毫秒</p>
<p>对10000个元素执行插入排序所消耗的时间为：3毫秒</p>
<h3 id="高级排序"><a href="#高级排序" class="headerlink" title="高级排序"></a>高级排序</h3><p>高级排序包括快速排序、希尔排序、归并排序和堆排序。</p>
<h4 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h4><p>希尔排序的工作原理：通过定义一个间隔序列来表示在排序过程中进行比较的元素之间有多远的间隔。</p>
<p>下面是希尔排序算法<code>shellSort()</code>的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> g = <span class="number">0</span>; g &lt; <span class="keyword">this</span>.gaps.length; ++g) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="keyword">this</span>.gaps[g]; i &lt; <span class="keyword">this</span>.dataStore.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">var</span> temp = <span class="keyword">this</span>.dataStore[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j = i; j &gt;= <span class="keyword">this</span>.gaps[g] &amp;&amp; <span class="keyword">this</span>.dataStore[j - <span class="keyword">this</span>.gaps[g]] &gt; temp; j -= <span class="keyword">this</span>.gaps[g]) &#123;</span><br><span class="line">                <span class="keyword">this</span>.dataStore[j] = <span class="keyword">this</span>.dataStore[j - <span class="keyword">this</span>.gaps[g]];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.dataStore[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.dataStore);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后将<code>this.gaps = [5, 3, 1];</code>添加到<code>CArray()</code>函数中。</p>
<p>然后再添加一个函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setGraps</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.gaps = arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对小数据集合执行希尔排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(<span class="number">10</span>);</span><br><span class="line">myNums.setData();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序前：'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序中：'</span>);</span><br><span class="line">myNums.shellSort();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序后：'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>希尔排序前：</p>
<p><code>3 3 7 4 10 8 2 5 7 6</code></p>
<p>希尔排序中：</p>
<p><code>[ 3, 2, 5, 4, 6, 8, 3, 7, 7, 10 ]  // 间隔5</code></p>
<p><code>[ 3, 2, 5, 3, 6, 7, 4, 7, 8, 10 ]  // 间隔3</code></p>
<p><code>[ 2, 3, 3, 4, 5, 6, 7, 7, 8, 10 ]  // 间隔1</code></p>
<p>希尔排序后：</p>
<p><code>2 3 3 4 5 6 7 7 8 10</code></p>
<h5 id="计算动态间隔序列"><a href="#计算动态间隔序列" class="headerlink" title="计算动态间隔序列"></a>计算动态间隔序列</h5><p>Robert Sedgewick定义了一个<code>shellsort()</code>函数，在这个函数中可以通过一个公式来对希尔排序用到的间隔序列进行动态计算。</p>
<p><code>Sedgewick</code>的算法是通过下面的代码片段来决定初始间隔值的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> N = <span class="keyword">this</span>.dataStore.length;</span><br><span class="line"><span class="keyword">var</span> h = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(h &lt; N / <span class="number">3</span>) &#123;</span><br><span class="line">    h = <span class="number">3</span> * h + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>间隔值确定好后，这个函数就可以像之前定义的<code>shellsort()</code>函数一样运行了，唯一的区别就是，回到外循环之前的最后一条语句会计算一个新的间隔值：<code>h = (h - 1) / 3</code></p>
<p>动态计算间隔序列的希尔排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动态希尔排序算法：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> N = <span class="keyword">this</span>.dataStore.length;</span><br><span class="line">    <span class="keyword">var</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(h &lt; N / <span class="number">3</span>) &#123;</span><br><span class="line">        h = <span class="number">3</span> * h + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(h &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'间隔为：'</span> + h);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = h; i &lt; N; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j = i; j &gt;= h &amp;&amp; <span class="keyword">this</span>.dataStore[j] &lt; <span class="keyword">this</span>.dataStore[j - h]; j -= h) &#123;</span><br><span class="line">                swap(<span class="keyword">this</span>.dataStore, j, j -h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        h = (h - <span class="number">1</span>) / <span class="number">3</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'排序后为：'</span> + <span class="keyword">this</span>.dataStore);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行下列程序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(<span class="number">100</span>);</span><br><span class="line">myNums.setData();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序前1：'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序中1：'</span>);</span><br><span class="line">myNums.shellSort1();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序后1：'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>希尔排序前1：</p>
<p>65 31 51 85 0 35 7 90 31 40 28</p>
<p>78 75 39 37 72 22 15 31 2 21</p>
<p>100 15 98 87 44 40 35 32 46 57</p>
<p>2 55 27 10 56 6 39 8 37 6</p>
<p>26 18 41 99 86 14 93 31 82 100</p>
<p>12 16 29 26 47 73 52 34 18 22</p>
<p>41 32 19 57 35 79 25 55 86 15</p>
<p>79 69 57 66 79 0 5 51 57 90</p>
<p>43 61 52 47 12 36 77 22 29 40</p>
<p>0 79 63 5 76 87 17 88 19</p>
<p>希尔排序中1：</p>
<p>间隔为：40,排序后为：6,26,18,41,0,12,7,77,22,29,28,0,16,29,5,47,22,15,31,2,21,41,15,19,57,35,40,25,32,46,15,2,55,27,10,56,0,5,8,37,65,31,51,52,47,35,14,90,31,40,40,12,75,39,26,72,73,17,34,18,22,100,32,98,87,44,79,35,55,86,57,79,69,57,66,79,6,39,51,57,90,43,61,85,99,86,36,93,31,82,100,78,79,63,37,76,87,52,88,19</p>
<p>间隔为：13,排序后为：6,5,18,22,0,2,2,14,10,15,0,0,8,29,25,26,37,15,12,7,18,19,29,19,5,12,37,26,31,41,15,17,34,21,22,31,28,6,16,40,39,32,43,52,31,35,27,22,56,31,40,35,44,57,35,46,61,47,52,69,36,66,32,57,39,51,65,47,51,73,57,55,77,41,93,40,82,87,75,79,63,55,76,85,79,86,57,100,79,98,100,78,79,90,72,86,87,99,88,90</p>
<p>间隔为：4,排序后为：0,2,0,0,5,5,2,7,6,6,12,14,8,12,15,17,10,15,16,19,18,15,18,22,28,19,22,22,31,21,25,26,31,29,27,26,34,31,29,31,36,32,32,35,37,35,35,40,39,41,37,40,39,41,40,46,44,47,43,47,51,51,52,52,56,55,57,55,61,57,57,57,63,66,65,69,77,73,72,78,79,86,75,79,79,87,76,85,79,90,88,86,82,98,93,90,87,99,100,100</p>
<p>间隔为：1,排序后为：0,0,0,2,2,5,5,6,6,7,8,10,12,12,14,15,15,15,16,17,18,18,19,19,21,22,22,22,25,26,26,27,28,29,29,31,31,31,31,32,32,34,35,35,35,36,37,37,39,39,40,40,40,41,41,43,44,46,47,47,51,51,52,52,55,55,56,57,57,57,57,61,63,65,66,69,72,73,75,76,77,78,79,79,79,79,82,85,86,86,87,87,88,90,90,93,98,99,100,100</p>
<p>希尔排序后1：</p>
<p>0 0 0 2 2 5 5 6 6 7 8</p>
<p>10 12 12 14 15 15 15 16 17 18</p>
<p>18 19 19 21 22 22 22 25 26 26</p>
<p>27 28 29 29 31 31 31 31 32 32</p>
<p>34 35 35 35 36 37 37 39 39 40</p>
<p>40 40 41 41 43 44 46 47 47 51</p>
<p>51 52 52 55 55 56 57 57 57 57</p>
<p>61 63 65 66 69 72 73 75 76 77</p>
<p>78 79 79 79 79 82 85 86 86 87</p>
<p>87 88 90 90 93 98 99 100 100</p>
<p>比较<code>shellSort()</code>算法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(<span class="number">10000</span>);</span><br><span class="line">myNums.setData();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**计算硬编码间隔序列的希尔排序**/</span></span><br><span class="line"><span class="keyword">var</span> start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">myNums.shellSort();</span><br><span class="line"><span class="keyword">var</span> stop = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="keyword">var</span> elapsed = stop - start;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'硬编码间隔序列的希尔排序消耗的时间为：'</span> + elapsed + <span class="string">'毫秒'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**计算动态间隔序列的希尔排序**/</span></span><br><span class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">myNums.shellSort1();</span><br><span class="line">stop = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">elapsed = stop - start;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'动态间隔序列的希尔排序消耗的时间为：'</span> + elapsed + <span class="string">'毫秒'</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>硬编码间隔序列的希尔排序消耗的时间为：31毫秒</p>
<p>动态间隔序列的希尔排序消耗的时间为：4毫秒</p>
<h4 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h4><p>实现原理：把一系列排好序的子序列合并成一个大的完整有序序列。</p>
<h5 id="自顶向下的归并排序"><a href="#自顶向下的归并排序" class="headerlink" title="自顶向下的归并排序"></a>自顶向下的归并排序</h5><p>通常来说，归并排序会使用递归的算法来实现，然而，在JS中这种方法不太可行，因为这个算法的递归深度对它来讲太深了，所以使用一种非递归的方式来实现这个算法：自底向上的归并排序。</p>
<h5 id="自底向上的归并排序"><a href="#自底向上的归并排序" class="headerlink" title="自底向上的归并排序"></a>自底向上的归并排序</h5><p>这个算法首先将数据集分解为一组只有一个元素的数组，然后通过创建一组左右子数组将它们慢慢合并起来，每次合并都保存一部分排好序的数据，直到最后剩下的这个数组所有的数据都已完美排序。</p>
<p>JS实现的自底向上归并排序算法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> step = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> left, right;</span><br><span class="line">    <span class="keyword">while</span>(step &lt; arr.length) &#123;</span><br><span class="line">        left = <span class="number">0</span>;</span><br><span class="line">        right = step;</span><br><span class="line">        <span class="keyword">while</span>(right + step &lt;= arr.length) &#123;</span><br><span class="line">            mergeArrays(arr, left, left + step, right, right + step);</span><br><span class="line">            left = right + step;</span><br><span class="line">            right = left + step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; arr.length) &#123;</span><br><span class="line">            mergeArrays(arr, left, left + step, right, arr.length);</span><br><span class="line">        &#125;</span><br><span class="line">        step *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeArrays</span>(<span class="params">arr, startLeft, stopLeft, startRight, stopRight</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rightArr = <span class="keyword">new</span> <span class="built_in">Array</span>(stopRight - startRight + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> leftArr = <span class="keyword">new</span> <span class="built_in">Array</span>(stopLeft - startLeft + <span class="number">1</span>);</span><br><span class="line">    k = startRight;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; (rightArr.length - <span class="number">1</span>); ++i) &#123;</span><br><span class="line">        rightArr[i] = arr[k];</span><br><span class="line">        ++k;</span><br><span class="line">    &#125;</span><br><span class="line">    k = startLeft;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; (leftArr.length - <span class="number">1</span>); ++i) &#123;</span><br><span class="line">        leftArr[i] = arr[k];</span><br><span class="line">        ++k;</span><br><span class="line">    &#125;</span><br><span class="line">    rightArr[rightArr.length - <span class="number">1</span>] = <span class="literal">Infinity</span>;  <span class="comment">// 哨兵值</span></span><br><span class="line">    leftArr[leftArr.length - <span class="number">1</span>] = <span class="literal">Infinity</span>;  <span class="comment">// 哨兵值</span></span><br><span class="line">    <span class="keyword">var</span> m = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k = startLeft; k &lt; stopRight; ++k) &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftArr[m] &lt;= rightArr[n]) &#123;</span><br><span class="line">            arr[k] = leftArr[m];</span><br><span class="line">            m++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[k] = rightArr[n];</span><br><span class="line">            n++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'left array - '</span>, leftArr);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'right array - '</span>, rightArr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nums = [<span class="number">6</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br><span class="line"><span class="built_in">console</span>.log();</span><br><span class="line">mergeSort(nums);</span><br><span class="line"><span class="built_in">console</span>.log();</span><br><span class="line"><span class="built_in">console</span>.log(nums);</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>[ 6, 10, 1, 9, 4, 8, 2, 7, 3, 5 ]</code></p>
<p><code>left array -  [ 6, Infinity ]</code></p>
<p><code>right array -  [ 10, Infinity ]</code></p>
<p><code>left array -  [ 1, Infinity ]</code></p>
<p><code>right array -  [ 9, Infinity ]</code></p>
<p><code>left array -  [ 4, Infinity ]</code></p>
<p><code>right array -  [ 8, Infinity ]</code></p>
<p><code>left array -  [ 2, Infinity ]</code></p>
<p><code>right array -  [ 7, Infinity ]</code></p>
<p><code>left array -  [ 3, Infinity ]</code></p>
<p><code>right array -  [ 5, Infinity ]</code></p>
<p><code>left array -  [ 6, 10, Infinity ]</code></p>
<p><code>right array -  [ 1, 9, Infinity ]</code></p>
<p><code>left array -  [ 4, 8, Infinity ]</code></p>
<p><code>right array -  [ 2, 7, Infinity ]</code></p>
<p><code>left array -  [ 1, 6, 9, 10, Infinity ]</code></p>
<p><code>right array -  [ 2, 4, 7, 8, Infinity ]</code></p>
<p><code>left array -  [ 1, 2, 4, 6, 7, 8, 9, 10, Infinity ]</code></p>
<p><code>right array -  [ 3, 5, Infinity ]</code></p>
<p><code>[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]</code></p>
<p>已添加归并排序的CArray类：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CArray</span>(<span class="params">numElements</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.gaps = [<span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">this</span>.dataStore = [];</span><br><span class="line">    <span class="keyword">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.numElements = numElements;</span><br><span class="line">    <span class="keyword">this</span>.insert = insert;</span><br><span class="line">    <span class="keyword">this</span>.toString = toString;</span><br><span class="line">    <span class="keyword">this</span>.clear = clear;</span><br><span class="line">    <span class="keyword">this</span>.setData = setData;</span><br><span class="line">    <span class="keyword">this</span>.swap = swap;</span><br><span class="line">    <span class="keyword">this</span>.bubbleSort = bubbleSort;</span><br><span class="line">    <span class="keyword">this</span>.selectionSort = selectionSort;</span><br><span class="line">    <span class="keyword">this</span>.insertionSort = insertionSort;</span><br><span class="line">    <span class="keyword">this</span>.shellSort = shellSort;</span><br><span class="line">    <span class="keyword">this</span>.shellSort1 = shellSort1;</span><br><span class="line">    <span class="keyword">this</span>.mergeSort = mergeSort;</span><br><span class="line">    <span class="keyword">this</span>.mergeArrays = mergeArrays;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i  = <span class="number">0</span>; i &lt; numElements; ++i) &#123;</span><br><span class="line">        <span class="keyword">this</span>.dataStore[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.dataStore.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> step = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> left, right;</span><br><span class="line">    <span class="keyword">while</span>(step &lt; <span class="keyword">this</span>.dataStore.length) &#123;</span><br><span class="line">        left = <span class="number">0</span>;</span><br><span class="line">        right = step;</span><br><span class="line">        <span class="keyword">while</span>(right + step &lt;= <span class="keyword">this</span>.dataStore.length) &#123;</span><br><span class="line">            mergeArrays(<span class="keyword">this</span>.dataStore, left, left + step, right, right + step);</span><br><span class="line">            left = right + step;</span><br><span class="line">            right = left + step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; <span class="keyword">this</span>.dataStore.length) &#123;</span><br><span class="line">            mergeArrays(<span class="keyword">this</span>.dataStore, left, left + step, right, <span class="keyword">this</span>.dataStore.length);</span><br><span class="line">        &#125;</span><br><span class="line">        step *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeArrays</span>(<span class="params">arr, startLeft, stopLeft, startRight, stopRight</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> rightArr = <span class="keyword">new</span> <span class="built_in">Array</span>(stopRight - startRight + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> leftArr = <span class="keyword">new</span> <span class="built_in">Array</span>(stopLeft - startLeft + <span class="number">1</span>);</span><br><span class="line">    k = startRight;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; (rightArr.length - <span class="number">1</span>); ++i) &#123;</span><br><span class="line">        rightArr[i] = arr[k];</span><br><span class="line">        ++k;</span><br><span class="line">    &#125;</span><br><span class="line">    k = startLeft;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; (leftArr.length - <span class="number">1</span>); ++i) &#123;</span><br><span class="line">        leftArr[i] = arr[k];</span><br><span class="line">        ++k;</span><br><span class="line">    &#125;</span><br><span class="line">    rightArr[rightArr.length - <span class="number">1</span>] = <span class="literal">Infinity</span>;  <span class="comment">// 哨兵值</span></span><br><span class="line">    leftArr[leftArr.length - <span class="number">1</span>] = <span class="literal">Infinity</span>;  <span class="comment">// 哨兵值</span></span><br><span class="line">    <span class="keyword">var</span> m = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k = startLeft; k &lt; stopRight; ++k) &#123;</span><br><span class="line">        <span class="keyword">if</span>(leftArr[m] &lt;= rightArr[n]) &#123;</span><br><span class="line">            arr[k] = leftArr[m];</span><br><span class="line">            m++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[k] = rightArr[n];</span><br><span class="line">            n++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'left array - '</span>, leftArr);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'right array - '</span>, rightArr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myNums = <span class="keyword">new</span> CArray(<span class="number">10</span>);</span><br><span class="line">myNums.setData();</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br><span class="line">myNums.mergeSort();</span><br><span class="line"><span class="built_in">console</span>.log(myNums.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>5 4 2 3 7 0 5 6 5 2</code></p>
<p><code>left array -  [ 5, Infinity ]</code></p>
<p><code>right array -  [ 4, Infinity ]</code></p>
<p><code>left array -  [ 2, Infinity ]</code></p>
<p><code>right array -  [ 3, Infinity ]</code></p>
<p><code>left array -  [ 7, Infinity ]</code></p>
<p><code>right array -  [ 0, Infinity ]</code></p>
<p><code>left array -  [ 5, Infinity ]</code></p>
<p><code>right array -  [ 6, Infinity ]</code></p>
<p><code>left array -  [ 5, Infinity ]</code></p>
<p><code>right array -  [ 2, Infinity ]</code></p>
<p><code>left array -  [ 4, 5, Infinity ]</code></p>
<p><code>right array -  [ 2, 3, Infinity ]</code></p>
<p><code>left array -  [ 0, 7, Infinity ]</code></p>
<p><code>right array -  [ 5, 6, Infinity ]</code></p>
<p><code>left array -  [ 2, 3, 4, 5, Infinity ]</code></p>
<p><code>right array -  [ 0, 5, 6, 7, Infinity ]</code></p>
<p><code>left array -  [ 0, 2, 3, 4, 5, 5, 6, 7, Infinity ]</code></p>
<p><code>right array -  [ 2, 5, Infinity ]</code></p>
<p><code>0 2 2 3 4 5 5 5 6 7</code></p>
<h4 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h4><p>快速排序是处理大数据集最快的排序算法之一。它是通过递归的方式将数据依次分解为包含较小元素和较大元素的不同子序列，该算法不断重复这个步骤直到所有数据都是有序的。</p>
<p>这个算法首先要在列表中选择一个元素作为<strong>基准值</strong>。数据排序围绕基准值进行，将列表中小于基准值的元素移到数据的底部，将大于基准值的元素移到数组的顶部。</p>
<p>快速排序的算法如下：</p>
<ol>
<li>选择一个基准元素，将列表分割成两个子序列；</li>
<li>对列表重新排序，将所有小于基准值的元素放在基准值的前面，所有大于基准值的元素放在基准值的后面；</li>
<li>分别对较小元素的子序列和较大元素的子序列重复步骤1和2.</li>
</ol>
<p>这个算法的JS程序如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qSort</span>(<span class="params">list</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(list.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> lesser = [];</span><br><span class="line">    <span class="keyword">var</span> greater = [];</span><br><span class="line">    <span class="keyword">var</span> pivot = list[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(list[i] &lt; pivot) &#123;</span><br><span class="line">            lesser.push(list[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            greater.push(list[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> qSort(lesser).concat(pivot, aSort(greater));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个函数首先检查数组的长度是否为0，如果是，那么这个数组就不需要任何排序，函数直接返回。否则创建两个数组，一个用来存放比基准值小的元素，另一个用来存放比基准值大的元素。这里的基准值取自数组的第一个元素。接下来，这个函数对原始数组的元素进行遍历，根据他们与基准值的关系将它们放在合适的数组中。然后对于较小的数组和较大的数组分别递归调用这个函数。当递归结束时，再将较大的数组和较小的数组连接起来，最终形成一个有序数组并将结果返回。</p>
<p>使用快速排序算法对数据进行排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qSort</span>(<span class="params">list</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(list.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> lesser = [];</span><br><span class="line">    <span class="keyword">var</span> greater = [];</span><br><span class="line">    <span class="keyword">var</span> pivot = list[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(list[i] &lt; pivot) &#123;</span><br><span class="line">            lesser.push(list[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            greater.push(list[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> qSort(lesser).concat(pivot, qSort(greater));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">    a[i] = <span class="built_in">Math</span>.floor((<span class="built_in">Math</span>.random() * <span class="number">100</span>) + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log();</span><br><span class="line"><span class="built_in">console</span>.log(qSort(a));</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>[ 18, 48, 74, 10, 91, 14, 90, 42, 1, 16 ]</code></p>
<p><code>[ 1, 10, 14, 16, 18, 42, 48, 74, 90, 91 ]</code></p>
<p>快速排序算法非常适用于大型数据集合；在处理小数据集合时性能反而会下降。</p>
<h2 id="检索算法"><a href="#检索算法" class="headerlink" title="检索算法"></a>检索算法</h2><p>在列表中查找数据有两种方式：顺序查找和二分查找。顺序查找适用于元素随机排列的列表；二分查找适用于元素已排序的列表。二分查找效率更高，但是在查找之前要对列表进行排序。</p>
<h3 id="顺序查找"><a href="#顺序查找" class="headerlink" title="顺序查找"></a>顺序查找</h3><p>顺序查找：从列表的第一个元素开始对列表元素逐个进行判断，直到找到了想要的结果，或者直到列表结尾也没有找到。</p>
<p>有时也被称为线性查找。它属于暴力查找的一种，在执行查找时可能会访问到数据结构里的所有元素。</p>
<p>测试顺序查找的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dispArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(arr[i] + <span class="string">''</span>);</span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">10</span> == <span class="number">9</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i % <span class="number">10</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">seqSearch</span>(<span class="params">arr, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] == data) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> nums = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br><span class="line">    nums[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() *<span class="number">101</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'要查找的数为:'</span>, num);</span><br><span class="line"><span class="keyword">var</span> position = seqSearch(nums, num);</span><br><span class="line"><span class="keyword">if</span>(position &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num + <span class="string">'在这个数组中的索引位置是：'</span> + position);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num + <span class="string">'没有出现在这个数组中'</span>);</span><br><span class="line">&#125;</span><br><span class="line">dispArr(nums);</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><code>要查找的数为: 3</code></p>
<p><code>3在这个数组中的索引位置是：12</code></p>
<p><code>9 57 26 59 90 25 83 91 14 26</code></p>
<p><code>76 19 3 40 44 98 89 70 68 7</code></p>
<p><code>92 79 78 21 48 50 23 83 73 7</code></p>
<p><code>93 94 93 51 75 97 77 77 11 72</code></p>
<p><code>45 26 43 45 11 18 58 44 91 85</code></p>
<p><code>36 62 89 15 82 25 71 66 23 10</code></p>
<p><code>80 84 35 83 51 75 52 40 86 18</code></p>
<p><code>84 76 72 75 73 1 98 100 55 10</code></p>
<p><code>91 38 55 5 13 71 10 99 38 84</code></p>
<p><code>61 0 72 54 74 94 79 4 20 77</code></p>
<h4 id="查找最小值和最大值-1"><a href="#查找最小值和最大值-1" class="headerlink" title="查找最小值和最大值"></a>查找最小值和最大值</h4><p>如何数组中查找最小值：</p>
<ol>
<li>将数组第一个元素赋值给一个变量，把这个变量作为最小值；</li>
<li>开始遍历数组，从第二个元素开始依次同当前最小值进行比较；</li>
<li>如果当前元素数值小于当前最小值，则将当前元素设为新的最小值；</li>
<li>移动到下一个元素，并且重复步骤3；</li>
<li>当程序结束时，这个变量中存储的就是最小值。</li>
</ol>
<p>同理，查找最大值也与此相似。</p>
<p>查找最小值的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findMin</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> min = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &lt; min) &#123;</span><br><span class="line">            min = arr[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> nums = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br><span class="line">    nums[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() *<span class="number">101</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> minValue = findMin(nums);</span><br><span class="line">dispArr(nums);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'最小值为'</span>, minValue);</span><br></pre></td></tr></table></figure>
<p>查找最大值函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findMax</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> max = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &gt; max) &#123;</span><br><span class="line">            max = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>未更新完。。。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://github.com/wuyve/JS-dataStructure" target="_blank" rel="noopener">数据结构与算法用JavaScript描述</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/29/JS那骚气冲天的操作/" rel="next" title="JS那骚气冲天的操作">
                <i class="fa fa-chevron-left"></i> JS那骚气冲天的操作
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/01/05/Object-prototype-hasOwnProperty的性能问题/" rel="prev" title="Object.prototype.hasOwnProperty的性能问题">
                Object.prototype.hasOwnProperty的性能问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/tx.jpg" alt="李斌">
            
              <p class="site-author-name" itemprop="name">李斌</p>
              <p class="site-description motion-element" itemprop="description">人生如逆旅     我亦是行人</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">212</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">121</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/libin1991" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/57e737f6c4c971005f6bcd8d" target="_blank" title="juejin">
                      
                        <i class="fa fa-fw fa-spinner"></i>juejin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript相关的数据结构"><span class="nav-number">1.</span> <span class="nav-text">JavaScript相关的数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#列表"><span class="nav-number">1.1.</span> <span class="nav-text">列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#列表的抽象数据类型定义"><span class="nav-number">1.1.1.</span> <span class="nav-text">列表的抽象数据类型定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实现列表类"><span class="nav-number">1.1.2.</span> <span class="nav-text">实现列表类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#append-给列表添加一个元素"><span class="nav-number">1.1.3.</span> <span class="nav-text">append 给列表添加一个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#find-从列表中查找某一个元素"><span class="nav-number">1.1.4.</span> <span class="nav-text">find 从列表中查找某一个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#remove-从列表中删除一个元素"><span class="nav-number">1.1.5.</span> <span class="nav-text">remove 从列表中删除一个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#length-列表中有多少个元素"><span class="nav-number">1.1.6.</span> <span class="nav-text">length 列表中有多少个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#toString-显示列表中的元素"><span class="nav-number">1.1.7.</span> <span class="nav-text">toString 显示列表中的元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#insert-向列表中插入一个元素"><span class="nav-number">1.1.8.</span> <span class="nav-text">insert 向列表中插入一个元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#clear-清空列表中所有的元素"><span class="nav-number">1.1.9.</span> <span class="nav-text">clear 清空列表中所有的元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#contains-判断给定值是否在列表中"><span class="nav-number">1.1.10.</span> <span class="nav-text">contains 判断给定值是否在列表中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#遍历列表"><span class="nav-number">1.1.11.</span> <span class="nav-text">遍历列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用迭代器访问列表"><span class="nav-number">1.1.12.</span> <span class="nav-text">使用迭代器访问列表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#栈"><span class="nav-number">1.2.</span> <span class="nav-text">栈</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#对栈的操作"><span class="nav-number">1.2.1.</span> <span class="nav-text">对栈的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#栈的实现"><span class="nav-number">1.2.2.</span> <span class="nav-text">栈的实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Stack类"><span class="nav-number">1.2.3.</span> <span class="nav-text">使用Stack类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-数制间的相互转换"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">1. 数制间的相互转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-判断是否为回文"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">2. 判断是否为回文</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-递归演示"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">3. 递归演示</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#队列"><span class="nav-number">1.3.</span> <span class="nav-text">队列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#对队列的操作"><span class="nav-number">1.3.1.</span> <span class="nav-text">对队列的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用一个数组实现队列"><span class="nav-number">1.3.2.</span> <span class="nav-text">用一个数组实现队列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用队列：方块舞的舞伴分配问题"><span class="nav-number">1.3.3.</span> <span class="nav-text">使用队列：方块舞的舞伴分配问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#链表"><span class="nav-number">1.4.</span> <span class="nav-text">链表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义链表"><span class="nav-number">1.4.1.</span> <span class="nav-text">定义链表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设计一个基于对象的链表"><span class="nav-number">1.4.2.</span> <span class="nav-text">设计一个基于对象的链表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Node类"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">Node类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LinkedList类"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">LinkedList类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在链表中删除一个节点"><span class="nav-number">1.4.3.</span> <span class="nav-text">在链表中删除一个节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#双向链表"><span class="nav-number">1.4.4.</span> <span class="nav-text">双向链表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#完整的双向链表LList类"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">完整的双向链表LList类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环列表"><span class="nav-number">1.4.5.</span> <span class="nav-text">循环列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链表的其他方法"><span class="nav-number">1.4.6.</span> <span class="nav-text">链表的其他方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字典"><span class="nav-number">1.5.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Dictionary类"><span class="nav-number">1.5.1.</span> <span class="nav-text">Dictionary类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dictionary类的复制方法"><span class="nav-number">1.5.2.</span> <span class="nav-text">Dictionary类的复制方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#散列"><span class="nav-number">1.6.</span> <span class="nav-text">散列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HashTable类"><span class="nav-number">1.6.1.</span> <span class="nav-text">HashTable类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择一个散列函数"><span class="nav-number">1.6.2.</span> <span class="nav-text">选择一个散列函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一个更好的散列函数"><span class="nav-number">1.6.3.</span> <span class="nav-text">一个更好的散列函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#散列化整型键"><span class="nav-number">1.6.4.</span> <span class="nav-text">散列化整型键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对散列表排序、从散列表中取值"><span class="nav-number">1.6.5.</span> <span class="nav-text">对散列表排序、从散列表中取值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#碰撞处理"><span class="nav-number">1.6.6.</span> <span class="nav-text">碰撞处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#开链法"><span class="nav-number">1.6.6.1.</span> <span class="nav-text">开链法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#线性探测法"><span class="nav-number">1.6.6.2.</span> <span class="nav-text">线性探测法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#集合"><span class="nav-number">1.7.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#集合的定义、操作和属性"><span class="nav-number">1.7.1.</span> <span class="nav-text">集合的定义、操作和属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#集合的定义"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">集合的定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对集合操作"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">对集合操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Set类的实现"><span class="nav-number">1.7.2.</span> <span class="nav-text">Set类的实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二叉树和二叉查找树"><span class="nav-number">1.8.</span> <span class="nav-text">二叉树和二叉查找树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#树的定义"><span class="nav-number">1.8.1.</span> <span class="nav-text">树的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二叉树与二叉查找树"><span class="nav-number">1.8.2.</span> <span class="nav-text">二叉树与二叉查找树</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#实现二叉查找树"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">实现二叉查找树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遍列二叉查找树"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">遍列二叉查找树</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#中序遍历"><span class="nav-number">1.8.2.2.1.</span> <span class="nav-text">中序遍历</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#先序遍历"><span class="nav-number">1.8.2.2.2.</span> <span class="nav-text">先序遍历</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#后序遍历"><span class="nav-number">1.8.2.2.3.</span> <span class="nav-text">后序遍历</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在二叉查找树上进行查找"><span class="nav-number">1.8.3.</span> <span class="nav-text">在二叉查找树上进行查找</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查找最小值和最大值"><span class="nav-number">1.8.3.1.</span> <span class="nav-text">查找最小值和最大值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查找给定值"><span class="nav-number">1.8.3.2.</span> <span class="nav-text">查找给定值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#从二叉树上删除节点"><span class="nav-number">1.8.4.</span> <span class="nav-text">从二叉树上删除节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#计数"><span class="nav-number">1.8.5.</span> <span class="nav-text">计数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图和图算法"><span class="nav-number">1.9.</span> <span class="nav-text">图和图算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#图的定义"><span class="nav-number">1.9.1.</span> <span class="nav-text">图的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图类"><span class="nav-number">1.9.2.</span> <span class="nav-text">图类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#表示顶点"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">表示顶点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#表示边"><span class="nav-number">1.9.2.2.</span> <span class="nav-text">表示边</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构件图"><span class="nav-number">1.9.2.3.</span> <span class="nav-text">构件图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#一个完整的Graph类的完整定义"><span class="nav-number">1.9.2.4.</span> <span class="nav-text">一个完整的Graph类的完整定义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#搜索图"><span class="nav-number">1.9.3.</span> <span class="nav-text">搜索图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#深度优先搜索"><span class="nav-number">1.9.3.1.</span> <span class="nav-text">深度优先搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#广度优先搜索"><span class="nav-number">1.9.3.2.</span> <span class="nav-text">广度优先搜索</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找最短路径"><span class="nav-number">1.9.4.</span> <span class="nav-text">查找最短路径</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#广度优先搜索对应的最短路径"><span class="nav-number">1.9.4.1.</span> <span class="nav-text">广度优先搜索对应的最短路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#确定路径"><span class="nav-number">1.9.4.2.</span> <span class="nav-text">确定路径</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拓扑排序"><span class="nav-number">1.9.5.</span> <span class="nav-text">拓扑排序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#拓扑排序算法"><span class="nav-number">1.9.5.1.</span> <span class="nav-text">拓扑排序算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实现拓扑排序算法"><span class="nav-number">1.9.5.2.</span> <span class="nav-text">实现拓扑排序算法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#排序算法"><span class="nav-number">1.10.</span> <span class="nav-text">排序算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数组测试平台"><span class="nav-number">1.10.1.</span> <span class="nav-text">数组测试平台</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本排序算法"><span class="nav-number">1.10.2.</span> <span class="nav-text">基本排序算法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#冒泡排序"><span class="nav-number">1.10.2.1.</span> <span class="nav-text">冒泡排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#选择排序"><span class="nav-number">1.10.2.2.</span> <span class="nav-text">选择排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#插入排序"><span class="nav-number">1.10.2.3.</span> <span class="nav-text">插入排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基本排序算法的计时比较"><span class="nav-number">1.10.2.4.</span> <span class="nav-text">基本排序算法的计时比较</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高级排序"><span class="nav-number">1.10.3.</span> <span class="nav-text">高级排序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#希尔排序"><span class="nav-number">1.10.3.1.</span> <span class="nav-text">希尔排序</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#计算动态间隔序列"><span class="nav-number">1.10.3.1.1.</span> <span class="nav-text">计算动态间隔序列</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#归并排序"><span class="nav-number">1.10.3.2.</span> <span class="nav-text">归并排序</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#自顶向下的归并排序"><span class="nav-number">1.10.3.2.1.</span> <span class="nav-text">自顶向下的归并排序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#自底向上的归并排序"><span class="nav-number">1.10.3.2.2.</span> <span class="nav-text">自底向上的归并排序</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#快速排序"><span class="nav-number">1.10.3.3.</span> <span class="nav-text">快速排序</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#检索算法"><span class="nav-number">1.11.</span> <span class="nav-text">检索算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#顺序查找"><span class="nav-number">1.11.1.</span> <span class="nav-text">顺序查找</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查找最小值和最大值-1"><span class="nav-number">1.11.1.1.</span> <span class="nav-text">查找最小值和最大值</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">2.</span> <span class="nav-text">参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李斌</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <!--
  	描述：点击红心
  -->
  <script type="text/javascript" src="/js/src/clicklove.js"></script>
  <!--
  	描述：复制代码
  -->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
</body>
</html>


